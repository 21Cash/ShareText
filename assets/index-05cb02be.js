function RS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Af(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ty={exports:{}},tu={},Py={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ns=Symbol.for("react.element"),DS=Symbol.for("react.portal"),kS=Symbol.for("react.fragment"),NS=Symbol.for("react.strict_mode"),AS=Symbol.for("react.profiler"),OS=Symbol.for("react.provider"),LS=Symbol.for("react.context"),MS=Symbol.for("react.forward_ref"),BS=Symbol.for("react.suspense"),FS=Symbol.for("react.memo"),US=Symbol.for("react.lazy"),sg=Symbol.iterator;function jS(t){return t===null||typeof t!="object"?null:(t=sg&&t[sg]||t["@@iterator"],typeof t=="function"?t:null)}var Ry={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dy=Object.assign,ky={};function Gi(t,e,n){this.props=t,this.context=e,this.refs=ky,this.updater=n||Ry}Gi.prototype.isReactComponent={};Gi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ny(){}Ny.prototype=Gi.prototype;function Of(t,e,n){this.props=t,this.context=e,this.refs=ky,this.updater=n||Ry}var Lf=Of.prototype=new Ny;Lf.constructor=Of;Dy(Lf,Gi.prototype);Lf.isPureReactComponent=!0;var ag=Array.isArray,Ay=Object.prototype.hasOwnProperty,Mf={current:null},Oy={key:!0,ref:!0,__self:!0,__source:!0};function Ly(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Ay.call(e,r)&&!Oy.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ns,type:t,key:o,ref:s,props:i,_owner:Mf.current}}function $S(t,e){return{$$typeof:Ns,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Bf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ns}function WS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lg=/\/+/g;function sc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WS(""+t.key):e.toString(36)}function Oa(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ns:case DS:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+sc(s,0):r,ag(i)?(n="",t!=null&&(n=t.replace(lg,"$&/")+"/"),Oa(i,e,n,"",function(u){return u})):i!=null&&(Bf(i)&&(i=$S(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(lg,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",ag(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+sc(o,a);s+=Oa(o,e,n,l,i)}else if(l=jS(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+sc(o,a++),s+=Oa(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ca(t,e,n){if(t==null)return t;var r=[],i=0;return Oa(t,r,"","",function(o){return e.call(n,o,i++)}),r}function zS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Je={current:null},La={transition:null},VS={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:La,ReactCurrentOwner:Mf};H.Children={map:ca,forEach:function(t,e,n){ca(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ca(t,function(){e++}),e},toArray:function(t){return ca(t,function(e){return e})||[]},only:function(t){if(!Bf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};H.Component=Gi;H.Fragment=kS;H.Profiler=AS;H.PureComponent=Of;H.StrictMode=NS;H.Suspense=BS;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VS;H.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Dy({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Mf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ay.call(e,l)&&!Oy.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ns,type:t.type,key:i,ref:o,props:r,_owner:s}};H.createContext=function(t){return t={$$typeof:LS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:OS,_context:t},t.Consumer=t};H.createElement=Ly;H.createFactory=function(t){var e=Ly.bind(null,t);return e.type=t,e};H.createRef=function(){return{current:null}};H.forwardRef=function(t){return{$$typeof:MS,render:t}};H.isValidElement=Bf;H.lazy=function(t){return{$$typeof:US,_payload:{_status:-1,_result:t},_init:zS}};H.memo=function(t,e){return{$$typeof:FS,type:t,compare:e===void 0?null:e}};H.startTransition=function(t){var e=La.transition;La.transition={};try{t()}finally{La.transition=e}};H.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};H.useCallback=function(t,e){return Je.current.useCallback(t,e)};H.useContext=function(t){return Je.current.useContext(t)};H.useDebugValue=function(){};H.useDeferredValue=function(t){return Je.current.useDeferredValue(t)};H.useEffect=function(t,e){return Je.current.useEffect(t,e)};H.useId=function(){return Je.current.useId()};H.useImperativeHandle=function(t,e,n){return Je.current.useImperativeHandle(t,e,n)};H.useInsertionEffect=function(t,e){return Je.current.useInsertionEffect(t,e)};H.useLayoutEffect=function(t,e){return Je.current.useLayoutEffect(t,e)};H.useMemo=function(t,e){return Je.current.useMemo(t,e)};H.useReducer=function(t,e,n){return Je.current.useReducer(t,e,n)};H.useRef=function(t){return Je.current.useRef(t)};H.useState=function(t){return Je.current.useState(t)};H.useSyncExternalStore=function(t,e,n){return Je.current.useSyncExternalStore(t,e,n)};H.useTransition=function(){return Je.current.useTransition()};H.version="18.2.0";Py.exports=H;var E=Py.exports;const se=Af(E),HS=RS({__proto__:null,default:se},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GS=E,qS=Symbol.for("react.element"),KS=Symbol.for("react.fragment"),YS=Object.prototype.hasOwnProperty,QS=GS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XS={key:!0,ref:!0,__self:!0,__source:!0};function My(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)YS.call(e,r)&&!XS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:qS,type:t,key:o,ref:s,props:i,_owner:QS.current}}tu.Fragment=KS;tu.jsx=My;tu.jsxs=My;Ty.exports=tu;var _=Ty.exports,ad={},By={exports:{}},_t={},Fy={exports:{}},Uy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,B){var M=N.length;N.push(B);e:for(;0<M;){var G=M-1>>>1,$=N[G];if(0<i($,B))N[G]=B,N[M]=$,M=G;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var B=N[0],M=N.pop();if(M!==B){N[0]=M;e:for(var G=0,$=N.length,tt=$>>>1;G<tt;){var Et=2*(G+1)-1,St=N[Et],bt=Et+1,cn=N[bt];if(0>i(St,M))bt<$&&0>i(cn,St)?(N[G]=cn,N[bt]=M,G=bt):(N[G]=St,N[Et]=M,G=Et);else if(bt<$&&0>i(cn,M))N[G]=cn,N[bt]=M,G=bt;else break e}}return B}function i(N,B){var M=N.sortIndex-B.sortIndex;return M!==0?M:N.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],d=1,c=null,f=3,h=!1,p=!1,y=!1,C=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(N){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=N)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function w(N){if(y=!1,v(N),!p)if(n(l)!==null)p=!0,le(S);else{var B=n(u);B!==null&&Q(w,B.startTime-N)}}function S(N,B){p=!1,y&&(y=!1,m(I),I=-1),h=!0;var M=f;try{for(v(B),c=n(l);c!==null&&(!(c.expirationTime>B)||N&&!O());){var G=c.callback;if(typeof G=="function"){c.callback=null,f=c.priorityLevel;var $=G(c.expirationTime<=B);B=t.unstable_now(),typeof $=="function"?c.callback=$:c===n(l)&&r(l),v(B)}else r(l);c=n(l)}if(c!==null)var tt=!0;else{var Et=n(u);Et!==null&&Q(w,Et.startTime-B),tt=!1}return tt}finally{c=null,f=M,h=!1}}var b=!1,x=null,I=-1,D=5,k=-1;function O(){return!(t.unstable_now()-k<D)}function re(){if(x!==null){var N=t.unstable_now();k=N;var B=!0;try{B=x(!0,N)}finally{B?ee():(b=!1,x=null)}}else b=!1}var ee;if(typeof g=="function")ee=function(){g(re)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ve=Y.port2;Y.port1.onmessage=re,ee=function(){ve.postMessage(null)}}else ee=function(){C(re,0)};function le(N){x=N,b||(b=!0,ee())}function Q(N,B){I=C(function(){N(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,le(S))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var M=f;f=B;try{return N()}finally{f=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,B){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var M=f;f=N;try{return B()}finally{f=M}},t.unstable_scheduleCallback=function(N,B,M){var G=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?G+M:G):M=G,N){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=M+$,N={id:d++,callback:B,priorityLevel:N,startTime:M,expirationTime:$,sortIndex:-1},M>G?(N.sortIndex=M,e(u,N),n(l)===null&&N===n(u)&&(y?(m(I),I=-1):y=!0,Q(w,M-G))):(N.sortIndex=$,e(l,N),p||h||(p=!0,le(S))),N},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(N){var B=f;return function(){var M=f;f=B;try{return N.apply(this,arguments)}finally{f=M}}}})(Uy);Fy.exports=Uy;var JS=Fy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy=E,yt=JS;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $y=new Set,Ko={};function Zr(t,e){Ni(t,e),Ni(t+"Capture",e)}function Ni(t,e){for(Ko[t]=e,t=0;t<e.length;t++)$y.add(e[t])}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ld=Object.prototype.hasOwnProperty,ZS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ug={},cg={};function eb(t){return ld.call(cg,t)?!0:ld.call(ug,t)?!1:ZS.test(t)?cg[t]=!0:(ug[t]=!0,!1)}function tb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nb(t,e,n,r){if(e===null||typeof e>"u"||tb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ze(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Fe[t]=new Ze(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Fe[e]=new Ze(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Fe[t]=new Ze(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Fe[t]=new Ze(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Fe[t]=new Ze(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Fe[t]=new Ze(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Fe[t]=new Ze(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Fe[t]=new Ze(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Fe[t]=new Ze(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ff=/[\-:]([a-z])/g;function Uf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ff,Uf);Fe[e]=new Ze(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ff,Uf);Fe[e]=new Ze(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ff,Uf);Fe[e]=new Ze(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Fe[t]=new Ze(t,1,!1,t.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Fe[t]=new Ze(t,1,!1,t.toLowerCase(),null,!0,!0)});function jf(t,e,n,r){var i=Fe.hasOwnProperty(e)?Fe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nb(e,n,i,r)&&(n=null),r||i===null?eb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Dn=jy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,da=Symbol.for("react.element"),li=Symbol.for("react.portal"),ui=Symbol.for("react.fragment"),$f=Symbol.for("react.strict_mode"),ud=Symbol.for("react.profiler"),Wy=Symbol.for("react.provider"),zy=Symbol.for("react.context"),Wf=Symbol.for("react.forward_ref"),cd=Symbol.for("react.suspense"),dd=Symbol.for("react.suspense_list"),zf=Symbol.for("react.memo"),Ln=Symbol.for("react.lazy"),Vy=Symbol.for("react.offscreen"),dg=Symbol.iterator;function co(t){return t===null||typeof t!="object"?null:(t=dg&&t[dg]||t["@@iterator"],typeof t=="function"?t:null)}var me=Object.assign,ac;function xo(t){if(ac===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ac=e&&e[1]||""}return`
`+ac+t}var lc=!1;function uc(t,e){if(!t||lc)return"";lc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{lc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?xo(t):""}function rb(t){switch(t.tag){case 5:return xo(t.type);case 16:return xo("Lazy");case 13:return xo("Suspense");case 19:return xo("SuspenseList");case 0:case 2:case 15:return t=uc(t.type,!1),t;case 11:return t=uc(t.type.render,!1),t;case 1:return t=uc(t.type,!0),t;default:return""}}function fd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ui:return"Fragment";case li:return"Portal";case ud:return"Profiler";case $f:return"StrictMode";case cd:return"Suspense";case dd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zy:return(t.displayName||"Context")+".Consumer";case Wy:return(t._context.displayName||"Context")+".Provider";case Wf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zf:return e=t.displayName||null,e!==null?e:fd(t.type)||"Memo";case Ln:e=t._payload,t=t._init;try{return fd(t(e))}catch{}}return null}function ib(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fd(e);case 8:return e===$f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ur(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ob(t){var e=Hy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fa(t){t._valueTracker||(t._valueTracker=ob(t))}function Gy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Hy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hd(t,e){var n=e.checked;return me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ur(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qy(t,e){e=e.checked,e!=null&&jf(t,"checked",e,!1)}function pd(t,e){qy(t,e);var n=ur(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gd(t,e.type,n):e.hasOwnProperty("defaultValue")&&gd(t,e.type,ur(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gd(t,e,n){(e!=="number"||Xa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var To=Array.isArray;function Ei(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ur(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function md(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(T(92));if(To(n)){if(1<n.length)throw Error(T(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ur(n)}}function Ky(t,e){var n=ur(e.value),r=ur(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Yy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Yy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ha,Qy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ha=ha||document.createElement("div"),ha.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ha.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var No={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sb=["Webkit","ms","Moz","O"];Object.keys(No).forEach(function(t){sb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),No[e]=No[t]})});function Xy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||No.hasOwnProperty(t)&&No[t]?(""+e).trim():e+"px"}function Jy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Xy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ab=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yd(t,e){if(e){if(ab[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function _d(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wd=null;function Vf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cd=null,Si=null,bi=null;function mg(t){if(t=Ls(t)){if(typeof Cd!="function")throw Error(T(280));var e=t.stateNode;e&&(e=su(e),Cd(t.stateNode,t.type,e))}}function Zy(t){Si?bi?bi.push(t):bi=[t]:Si=t}function e_(){if(Si){var t=Si,e=bi;if(bi=Si=null,mg(t),e)for(t=0;t<e.length;t++)mg(e[t])}}function t_(t,e){return t(e)}function n_(){}var cc=!1;function r_(t,e,n){if(cc)return t(e,n);cc=!0;try{return t_(t,e,n)}finally{cc=!1,(Si!==null||bi!==null)&&(n_(),e_())}}function Qo(t,e){var n=t.stateNode;if(n===null)return null;var r=su(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var Ed=!1;if(Sn)try{var fo={};Object.defineProperty(fo,"passive",{get:function(){Ed=!0}}),window.addEventListener("test",fo,fo),window.removeEventListener("test",fo,fo)}catch{Ed=!1}function lb(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ao=!1,Ja=null,Za=!1,Sd=null,ub={onError:function(t){Ao=!0,Ja=t}};function cb(t,e,n,r,i,o,s,a,l){Ao=!1,Ja=null,lb.apply(ub,arguments)}function db(t,e,n,r,i,o,s,a,l){if(cb.apply(this,arguments),Ao){if(Ao){var u=Ja;Ao=!1,Ja=null}else throw Error(T(198));Za||(Za=!0,Sd=u)}}function ei(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function i_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vg(t){if(ei(t)!==t)throw Error(T(188))}function fb(t){var e=t.alternate;if(!e){if(e=ei(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return vg(i),t;if(o===r)return vg(i),e;o=o.sibling}throw Error(T(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function o_(t){return t=fb(t),t!==null?s_(t):null}function s_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=s_(t);if(e!==null)return e;t=t.sibling}return null}var a_=yt.unstable_scheduleCallback,yg=yt.unstable_cancelCallback,hb=yt.unstable_shouldYield,pb=yt.unstable_requestPaint,_e=yt.unstable_now,gb=yt.unstable_getCurrentPriorityLevel,Hf=yt.unstable_ImmediatePriority,l_=yt.unstable_UserBlockingPriority,el=yt.unstable_NormalPriority,mb=yt.unstable_LowPriority,u_=yt.unstable_IdlePriority,nu=null,nn=null;function vb(t){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(nu,t,void 0,(t.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:wb,yb=Math.log,_b=Math.LN2;function wb(t){return t>>>=0,t===0?32:31-(yb(t)/_b|0)|0}var pa=64,ga=4194304;function Po(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function tl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Po(a):(o&=s,o!==0&&(r=Po(o)))}else s=n&~i,s!==0?r=Po(s):o!==0&&(r=Po(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vt(e),i=1<<n,r|=t[n],e&=~i;return r}function Cb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Vt(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=Cb(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function bd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function c_(){var t=pa;return pa<<=1,!(pa&4194240)&&(pa=64),t}function dc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function As(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vt(e),t[e]=n}function Sb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Vt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Gf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var J=0;function d_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var f_,qf,h_,p_,g_,Id=!1,ma=[],Gn=null,qn=null,Kn=null,Xo=new Map,Jo=new Map,Bn=[],bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _g(t,e){switch(t){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":Xo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(e.pointerId)}}function ho(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ls(e),e!==null&&qf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Ib(t,e,n,r,i){switch(e){case"focusin":return Gn=ho(Gn,t,e,n,r,i),!0;case"dragenter":return qn=ho(qn,t,e,n,r,i),!0;case"mouseover":return Kn=ho(Kn,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Xo.set(o,ho(Xo.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Jo.set(o,ho(Jo.get(o)||null,t,e,n,r,i)),!0}return!1}function m_(t){var e=Dr(t.target);if(e!==null){var n=ei(e);if(n!==null){if(e=n.tag,e===13){if(e=i_(n),e!==null){t.blockedOn=e,g_(t.priority,function(){h_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ma(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);wd=r,n.target.dispatchEvent(r),wd=null}else return e=Ls(n),e!==null&&qf(e),t.blockedOn=n,!1;e.shift()}return!0}function wg(t,e,n){Ma(t)&&n.delete(e)}function xb(){Id=!1,Gn!==null&&Ma(Gn)&&(Gn=null),qn!==null&&Ma(qn)&&(qn=null),Kn!==null&&Ma(Kn)&&(Kn=null),Xo.forEach(wg),Jo.forEach(wg)}function po(t,e){t.blockedOn===e&&(t.blockedOn=null,Id||(Id=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,xb)))}function Zo(t){function e(i){return po(i,t)}if(0<ma.length){po(ma[0],t);for(var n=1;n<ma.length;n++){var r=ma[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gn!==null&&po(Gn,t),qn!==null&&po(qn,t),Kn!==null&&po(Kn,t),Xo.forEach(e),Jo.forEach(e),n=0;n<Bn.length;n++)r=Bn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Bn.length&&(n=Bn[0],n.blockedOn===null);)m_(n),n.blockedOn===null&&Bn.shift()}var Ii=Dn.ReactCurrentBatchConfig,nl=!0;function Tb(t,e,n,r){var i=J,o=Ii.transition;Ii.transition=null;try{J=1,Kf(t,e,n,r)}finally{J=i,Ii.transition=o}}function Pb(t,e,n,r){var i=J,o=Ii.transition;Ii.transition=null;try{J=4,Kf(t,e,n,r)}finally{J=i,Ii.transition=o}}function Kf(t,e,n,r){if(nl){var i=xd(t,e,n,r);if(i===null)Cc(t,e,r,rl,n),_g(t,r);else if(Ib(i,t,e,n,r))r.stopPropagation();else if(_g(t,r),e&4&&-1<bb.indexOf(t)){for(;i!==null;){var o=Ls(i);if(o!==null&&f_(o),o=xd(t,e,n,r),o===null&&Cc(t,e,r,rl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Cc(t,e,r,null,n)}}var rl=null;function xd(t,e,n,r){if(rl=null,t=Vf(r),t=Dr(t),t!==null)if(e=ei(t),e===null)t=null;else if(n=e.tag,n===13){if(t=i_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rl=t,null}function v_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gb()){case Hf:return 1;case l_:return 4;case el:case mb:return 16;case u_:return 536870912;default:return 16}default:return 16}}var zn=null,Yf=null,Ba=null;function y_(){if(Ba)return Ba;var t,e=Yf,n=e.length,r,i="value"in zn?zn.value:zn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Ba=i.slice(t,1<r?1-r:void 0)}function Fa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function va(){return!0}function Cg(){return!1}function wt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?va:Cg,this.isPropagationStopped=Cg,this}return me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=va)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=va)},persist:function(){},isPersistent:va}),e}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qf=wt(qi),Os=me({},qi,{view:0,detail:0}),Rb=wt(Os),fc,hc,go,ru=me({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==go&&(go&&t.type==="mousemove"?(fc=t.screenX-go.screenX,hc=t.screenY-go.screenY):hc=fc=0,go=t),fc)},movementY:function(t){return"movementY"in t?t.movementY:hc}}),Eg=wt(ru),Db=me({},ru,{dataTransfer:0}),kb=wt(Db),Nb=me({},Os,{relatedTarget:0}),pc=wt(Nb),Ab=me({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ob=wt(Ab),Lb=me({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mb=wt(Lb),Bb=me({},qi,{data:0}),Sg=wt(Bb),Fb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ub={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $b(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jb[t])?!!e[t]:!1}function Xf(){return $b}var Wb=me({},Os,{key:function(t){if(t.key){var e=Fb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ub[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xf,charCode:function(t){return t.type==="keypress"?Fa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zb=wt(Wb),Vb=me({},ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bg=wt(Vb),Hb=me({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xf}),Gb=wt(Hb),qb=me({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kb=wt(qb),Yb=me({},ru,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Qb=wt(Yb),Xb=[9,13,27,32],Jf=Sn&&"CompositionEvent"in window,Oo=null;Sn&&"documentMode"in document&&(Oo=document.documentMode);var Jb=Sn&&"TextEvent"in window&&!Oo,__=Sn&&(!Jf||Oo&&8<Oo&&11>=Oo),Ig=String.fromCharCode(32),xg=!1;function w_(t,e){switch(t){case"keyup":return Xb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ci=!1;function Zb(t,e){switch(t){case"compositionend":return C_(e);case"keypress":return e.which!==32?null:(xg=!0,Ig);case"textInput":return t=e.data,t===Ig&&xg?null:t;default:return null}}function eI(t,e){if(ci)return t==="compositionend"||!Jf&&w_(t,e)?(t=y_(),Ba=Yf=zn=null,ci=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return __&&e.locale!=="ko"?null:e.data;default:return null}}var tI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tI[t.type]:e==="textarea"}function E_(t,e,n,r){Zy(r),e=il(e,"onChange"),0<e.length&&(n=new Qf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Lo=null,es=null;function nI(t){A_(t,0)}function iu(t){var e=hi(t);if(Gy(e))return t}function rI(t,e){if(t==="change")return e}var S_=!1;if(Sn){var gc;if(Sn){var mc="oninput"in document;if(!mc){var Pg=document.createElement("div");Pg.setAttribute("oninput","return;"),mc=typeof Pg.oninput=="function"}gc=mc}else gc=!1;S_=gc&&(!document.documentMode||9<document.documentMode)}function Rg(){Lo&&(Lo.detachEvent("onpropertychange",b_),es=Lo=null)}function b_(t){if(t.propertyName==="value"&&iu(es)){var e=[];E_(e,es,t,Vf(t)),r_(nI,e)}}function iI(t,e,n){t==="focusin"?(Rg(),Lo=e,es=n,Lo.attachEvent("onpropertychange",b_)):t==="focusout"&&Rg()}function oI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return iu(es)}function sI(t,e){if(t==="click")return iu(e)}function aI(t,e){if(t==="input"||t==="change")return iu(e)}function lI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qt=typeof Object.is=="function"?Object.is:lI;function ts(t,e){if(qt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ld.call(e,i)||!qt(t[i],e[i]))return!1}return!0}function Dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kg(t,e){var n=Dg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dg(n)}}function I_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?I_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function x_(){for(var t=window,e=Xa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xa(t.document)}return e}function Zf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uI(t){var e=x_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&I_(n.ownerDocument.documentElement,n)){if(r!==null&&Zf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=kg(n,o);var s=kg(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cI=Sn&&"documentMode"in document&&11>=document.documentMode,di=null,Td=null,Mo=null,Pd=!1;function Ng(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pd||di==null||di!==Xa(r)||(r=di,"selectionStart"in r&&Zf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mo&&ts(Mo,r)||(Mo=r,r=il(Td,"onSelect"),0<r.length&&(e=new Qf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=di)))}function ya(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fi={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionend:ya("Transition","TransitionEnd")},vc={},T_={};Sn&&(T_=document.createElement("div").style,"AnimationEvent"in window||(delete fi.animationend.animation,delete fi.animationiteration.animation,delete fi.animationstart.animation),"TransitionEvent"in window||delete fi.transitionend.transition);function ou(t){if(vc[t])return vc[t];if(!fi[t])return t;var e=fi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in T_)return vc[t]=e[n];return t}var P_=ou("animationend"),R_=ou("animationiteration"),D_=ou("animationstart"),k_=ou("transitionend"),N_=new Map,Ag="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mr(t,e){N_.set(t,e),Zr(e,[t])}for(var yc=0;yc<Ag.length;yc++){var _c=Ag[yc],dI=_c.toLowerCase(),fI=_c[0].toUpperCase()+_c.slice(1);mr(dI,"on"+fI)}mr(P_,"onAnimationEnd");mr(R_,"onAnimationIteration");mr(D_,"onAnimationStart");mr("dblclick","onDoubleClick");mr("focusin","onFocus");mr("focusout","onBlur");mr(k_,"onTransitionEnd");Ni("onMouseEnter",["mouseout","mouseover"]);Ni("onMouseLeave",["mouseout","mouseover"]);Ni("onPointerEnter",["pointerout","pointerover"]);Ni("onPointerLeave",["pointerout","pointerover"]);Zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function Og(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,db(r,e,void 0,t),t.currentTarget=null}function A_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Og(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Og(i,a,u),o=l}}}if(Za)throw t=Sd,Za=!1,Sd=null,t}function ue(t,e){var n=e[Ad];n===void 0&&(n=e[Ad]=new Set);var r=t+"__bubble";n.has(r)||(O_(e,t,2,!1),n.add(r))}function wc(t,e,n){var r=0;e&&(r|=4),O_(n,t,r,e)}var _a="_reactListening"+Math.random().toString(36).slice(2);function ns(t){if(!t[_a]){t[_a]=!0,$y.forEach(function(n){n!=="selectionchange"&&(hI.has(n)||wc(n,!1,t),wc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_a]||(e[_a]=!0,wc("selectionchange",!1,e))}}function O_(t,e,n,r){switch(v_(e)){case 1:var i=Tb;break;case 4:i=Pb;break;default:i=Kf}n=i.bind(null,e,n,t),i=void 0,!Ed||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Cc(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Dr(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}r_(function(){var u=o,d=Vf(n),c=[];e:{var f=N_.get(t);if(f!==void 0){var h=Qf,p=t;switch(t){case"keypress":if(Fa(n)===0)break e;case"keydown":case"keyup":h=zb;break;case"focusin":p="focus",h=pc;break;case"focusout":p="blur",h=pc;break;case"beforeblur":case"afterblur":h=pc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Eg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=kb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Gb;break;case P_:case R_:case D_:h=Ob;break;case k_:h=Kb;break;case"scroll":h=Rb;break;case"wheel":h=Qb;break;case"copy":case"cut":case"paste":h=Mb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=bg}var y=(e&4)!==0,C=!y&&t==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var g=u,v;g!==null;){v=g;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,m!==null&&(w=Qo(g,m),w!=null&&y.push(rs(g,w,v)))),C)break;g=g.return}0<y.length&&(f=new h(f,p,null,n,d),c.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==wd&&(p=n.relatedTarget||n.fromElement)&&(Dr(p)||p[bn]))break e;if((h||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?Dr(p):null,p!==null&&(C=ei(p),p!==C||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(y=Eg,w="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=bg,w="onPointerLeave",m="onPointerEnter",g="pointer"),C=h==null?f:hi(h),v=p==null?f:hi(p),f=new y(w,g+"leave",h,n,d),f.target=C,f.relatedTarget=v,w=null,Dr(d)===u&&(y=new y(m,g+"enter",p,n,d),y.target=v,y.relatedTarget=C,w=y),C=w,h&&p)t:{for(y=h,m=p,g=0,v=y;v;v=ii(v))g++;for(v=0,w=m;w;w=ii(w))v++;for(;0<g-v;)y=ii(y),g--;for(;0<v-g;)m=ii(m),v--;for(;g--;){if(y===m||m!==null&&y===m.alternate)break t;y=ii(y),m=ii(m)}y=null}else y=null;h!==null&&Lg(c,f,h,y,!1),p!==null&&C!==null&&Lg(c,C,p,y,!0)}}e:{if(f=u?hi(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var S=rI;else if(Tg(f))if(S_)S=aI;else{S=oI;var b=iI}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=sI);if(S&&(S=S(t,u))){E_(c,S,n,d);break e}b&&b(t,f,u),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&gd(f,"number",f.value)}switch(b=u?hi(u):window,t){case"focusin":(Tg(b)||b.contentEditable==="true")&&(di=b,Td=u,Mo=null);break;case"focusout":Mo=Td=di=null;break;case"mousedown":Pd=!0;break;case"contextmenu":case"mouseup":case"dragend":Pd=!1,Ng(c,n,d);break;case"selectionchange":if(cI)break;case"keydown":case"keyup":Ng(c,n,d)}var x;if(Jf)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else ci?w_(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(__&&n.locale!=="ko"&&(ci||I!=="onCompositionStart"?I==="onCompositionEnd"&&ci&&(x=y_()):(zn=d,Yf="value"in zn?zn.value:zn.textContent,ci=!0)),b=il(u,I),0<b.length&&(I=new Sg(I,t,null,n,d),c.push({event:I,listeners:b}),x?I.data=x:(x=C_(n),x!==null&&(I.data=x)))),(x=Jb?Zb(t,n):eI(t,n))&&(u=il(u,"onBeforeInput"),0<u.length&&(d=new Sg("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=x))}A_(c,e)})}function rs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function il(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Qo(t,n),o!=null&&r.unshift(rs(t,o,i)),o=Qo(t,e),o!=null&&r.push(rs(t,o,i))),t=t.return}return r}function ii(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Lg(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Qo(n,o),l!=null&&s.unshift(rs(n,l,a))):i||(l=Qo(n,o),l!=null&&s.push(rs(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var pI=/\r\n?/g,gI=/\u0000|\uFFFD/g;function Mg(t){return(typeof t=="string"?t:""+t).replace(pI,`
`).replace(gI,"")}function wa(t,e,n){if(e=Mg(e),Mg(t)!==e&&n)throw Error(T(425))}function ol(){}var Rd=null,Dd=null;function kd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Nd=typeof setTimeout=="function"?setTimeout:void 0,mI=typeof clearTimeout=="function"?clearTimeout:void 0,Bg=typeof Promise=="function"?Promise:void 0,vI=typeof queueMicrotask=="function"?queueMicrotask:typeof Bg<"u"?function(t){return Bg.resolve(null).then(t).catch(yI)}:Nd;function yI(t){setTimeout(function(){throw t})}function Ec(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Zo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Zo(e)}function Yn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Fg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ki=Math.random().toString(36).slice(2),en="__reactFiber$"+Ki,is="__reactProps$"+Ki,bn="__reactContainer$"+Ki,Ad="__reactEvents$"+Ki,_I="__reactListeners$"+Ki,wI="__reactHandles$"+Ki;function Dr(t){var e=t[en];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bn]||n[en]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Fg(t);t!==null;){if(n=t[en])return n;t=Fg(t)}return e}t=n,n=t.parentNode}return null}function Ls(t){return t=t[en]||t[bn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function su(t){return t[is]||null}var Od=[],pi=-1;function vr(t){return{current:t}}function de(t){0>pi||(t.current=Od[pi],Od[pi]=null,pi--)}function ae(t,e){pi++,Od[pi]=t.current,t.current=e}var cr={},Ve=vr(cr),at=vr(!1),jr=cr;function Ai(t,e){var n=t.type.contextTypes;if(!n)return cr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function lt(t){return t=t.childContextTypes,t!=null}function sl(){de(at),de(Ve)}function Ug(t,e,n){if(Ve.current!==cr)throw Error(T(168));ae(Ve,e),ae(at,n)}function L_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(T(108,ib(t)||"Unknown",i));return me({},n,r)}function al(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cr,jr=Ve.current,ae(Ve,t),ae(at,at.current),!0}function jg(t,e,n){var r=t.stateNode;if(!r)throw Error(T(169));n?(t=L_(t,e,jr),r.__reactInternalMemoizedMergedChildContext=t,de(at),de(Ve),ae(Ve,t)):de(at),ae(at,n)}var gn=null,au=!1,Sc=!1;function M_(t){gn===null?gn=[t]:gn.push(t)}function CI(t){au=!0,M_(t)}function yr(){if(!Sc&&gn!==null){Sc=!0;var t=0,e=J;try{var n=gn;for(J=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}gn=null,au=!1}catch(i){throw gn!==null&&(gn=gn.slice(t+1)),a_(Hf,yr),i}finally{J=e,Sc=!1}}return null}var gi=[],mi=0,ll=null,ul=0,Tt=[],Pt=0,$r=null,mn=1,vn="";function Ir(t,e){gi[mi++]=ul,gi[mi++]=ll,ll=t,ul=e}function B_(t,e,n){Tt[Pt++]=mn,Tt[Pt++]=vn,Tt[Pt++]=$r,$r=t;var r=mn;t=vn;var i=32-Vt(r)-1;r&=~(1<<i),n+=1;var o=32-Vt(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,mn=1<<32-Vt(e)+i|n<<i|r,vn=o+t}else mn=1<<o|n<<i|r,vn=t}function eh(t){t.return!==null&&(Ir(t,1),B_(t,1,0))}function th(t){for(;t===ll;)ll=gi[--mi],gi[mi]=null,ul=gi[--mi],gi[mi]=null;for(;t===$r;)$r=Tt[--Pt],Tt[Pt]=null,vn=Tt[--Pt],Tt[Pt]=null,mn=Tt[--Pt],Tt[Pt]=null}var gt=null,ht=null,fe=!1,Ut=null;function F_(t,e){var n=Rt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $g(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gt=t,ht=Yn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gt=t,ht=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=$r!==null?{id:mn,overflow:vn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Rt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,gt=t,ht=null,!0):!1;default:return!1}}function Ld(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Md(t){if(fe){var e=ht;if(e){var n=e;if(!$g(t,e)){if(Ld(t))throw Error(T(418));e=Yn(n.nextSibling);var r=gt;e&&$g(t,e)?F_(r,n):(t.flags=t.flags&-4097|2,fe=!1,gt=t)}}else{if(Ld(t))throw Error(T(418));t.flags=t.flags&-4097|2,fe=!1,gt=t}}}function Wg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gt=t}function Ca(t){if(t!==gt)return!1;if(!fe)return Wg(t),fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kd(t.type,t.memoizedProps)),e&&(e=ht)){if(Ld(t))throw U_(),Error(T(418));for(;e;)F_(t,e),e=Yn(e.nextSibling)}if(Wg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ht=Yn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ht=null}}else ht=gt?Yn(t.stateNode.nextSibling):null;return!0}function U_(){for(var t=ht;t;)t=Yn(t.nextSibling)}function Oi(){ht=gt=null,fe=!1}function nh(t){Ut===null?Ut=[t]:Ut.push(t)}var EI=Dn.ReactCurrentBatchConfig;function Bt(t,e){if(t&&t.defaultProps){e=me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var cl=vr(null),dl=null,vi=null,rh=null;function ih(){rh=vi=dl=null}function oh(t){var e=cl.current;de(cl),t._currentValue=e}function Bd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xi(t,e){dl=t,rh=vi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ot=!0),t.firstContext=null)}function At(t){var e=t._currentValue;if(rh!==t)if(t={context:t,memoizedValue:e,next:null},vi===null){if(dl===null)throw Error(T(308));vi=t,dl.dependencies={lanes:0,firstContext:t}}else vi=vi.next=t;return e}var kr=null;function sh(t){kr===null?kr=[t]:kr.push(t)}function j_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,sh(e)):(n.next=i.next,i.next=n),e.interleaved=n,In(t,r)}function In(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mn=!1;function ah(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,In(t,n)}return i=r.interleaved,i===null?(e.next=e,sh(r)):(e.next=i.next,i.next=e),r.interleaved=e,In(t,n)}function Ua(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gf(t,n)}}function zg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fl(t,e,n,r){var i=t.updateQueue;Mn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var c=i.baseState;s=0,d=u=l=null,a=o;do{var f=a.lane,h=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,y=a;switch(f=e,h=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){c=p.call(h,c,f);break e}c=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,f=typeof p=="function"?p.call(h,c,f):p,f==null)break e;c=me({},c,f);break e;case 2:Mn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=h,l=c):d=d.next=h,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);zr|=s,t.lanes=s,t.memoizedState=c}}function Vg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(T(191,i));i.call(r)}}}var W_=new jy.Component().refs;function Fd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var lu={isMounted:function(t){return(t=t._reactInternals)?ei(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ye(),i=Jn(t),o=Cn(r,i);o.payload=e,n!=null&&(o.callback=n),e=Qn(t,o,i),e!==null&&(Ht(e,t,i,r),Ua(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ye(),i=Jn(t),o=Cn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Qn(t,o,i),e!==null&&(Ht(e,t,i,r),Ua(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ye(),r=Jn(t),i=Cn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Qn(t,i,r),e!==null&&(Ht(e,t,r,n),Ua(e,t,r))}};function Hg(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!ts(n,r)||!ts(i,o):!0}function z_(t,e,n){var r=!1,i=cr,o=e.contextType;return typeof o=="object"&&o!==null?o=At(o):(i=lt(e)?jr:Ve.current,r=e.contextTypes,o=(r=r!=null)?Ai(t,i):cr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Gg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&lu.enqueueReplaceState(e,e.state,null)}function Ud(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=W_,ah(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=At(o):(o=lt(e)?jr:Ve.current,i.context=Ai(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Fd(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&lu.enqueueReplaceState(i,i.state,null),fl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function mo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===W_&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,t))}return t}function Ea(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qg(t){var e=t._init;return e(t._payload)}function V_(t){function e(m,g){if(t){var v=m.deletions;v===null?(m.deletions=[g],m.flags|=16):v.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=Zn(m,g),m.index=0,m.sibling=null,m}function o(m,g,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<g?(m.flags|=2,g):v):(m.flags|=2,g)):(m.flags|=1048576,g)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,g,v,w){return g===null||g.tag!==6?(g=Dc(v,m.mode,w),g.return=m,g):(g=i(g,v),g.return=m,g)}function l(m,g,v,w){var S=v.type;return S===ui?d(m,g,v.props.children,w,v.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ln&&qg(S)===g.type)?(w=i(g,v.props),w.ref=mo(m,g,v),w.return=m,w):(w=Ha(v.type,v.key,v.props,null,m.mode,w),w.ref=mo(m,g,v),w.return=m,w)}function u(m,g,v,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=kc(v,m.mode,w),g.return=m,g):(g=i(g,v.children||[]),g.return=m,g)}function d(m,g,v,w,S){return g===null||g.tag!==7?(g=Mr(v,m.mode,w,S),g.return=m,g):(g=i(g,v),g.return=m,g)}function c(m,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Dc(""+g,m.mode,v),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case da:return v=Ha(g.type,g.key,g.props,null,m.mode,v),v.ref=mo(m,null,g),v.return=m,v;case li:return g=kc(g,m.mode,v),g.return=m,g;case Ln:var w=g._init;return c(m,w(g._payload),v)}if(To(g)||co(g))return g=Mr(g,m.mode,v,null),g.return=m,g;Ea(m,g)}return null}function f(m,g,v,w){var S=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(m,g,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case da:return v.key===S?l(m,g,v,w):null;case li:return v.key===S?u(m,g,v,w):null;case Ln:return S=v._init,f(m,g,S(v._payload),w)}if(To(v)||co(v))return S!==null?null:d(m,g,v,w,null);Ea(m,v)}return null}function h(m,g,v,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(v)||null,a(g,m,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case da:return m=m.get(w.key===null?v:w.key)||null,l(g,m,w,S);case li:return m=m.get(w.key===null?v:w.key)||null,u(g,m,w,S);case Ln:var b=w._init;return h(m,g,v,b(w._payload),S)}if(To(w)||co(w))return m=m.get(v)||null,d(g,m,w,S,null);Ea(g,w)}return null}function p(m,g,v,w){for(var S=null,b=null,x=g,I=g=0,D=null;x!==null&&I<v.length;I++){x.index>I?(D=x,x=null):D=x.sibling;var k=f(m,x,v[I],w);if(k===null){x===null&&(x=D);break}t&&x&&k.alternate===null&&e(m,x),g=o(k,g,I),b===null?S=k:b.sibling=k,b=k,x=D}if(I===v.length)return n(m,x),fe&&Ir(m,I),S;if(x===null){for(;I<v.length;I++)x=c(m,v[I],w),x!==null&&(g=o(x,g,I),b===null?S=x:b.sibling=x,b=x);return fe&&Ir(m,I),S}for(x=r(m,x);I<v.length;I++)D=h(x,m,I,v[I],w),D!==null&&(t&&D.alternate!==null&&x.delete(D.key===null?I:D.key),g=o(D,g,I),b===null?S=D:b.sibling=D,b=D);return t&&x.forEach(function(O){return e(m,O)}),fe&&Ir(m,I),S}function y(m,g,v,w){var S=co(v);if(typeof S!="function")throw Error(T(150));if(v=S.call(v),v==null)throw Error(T(151));for(var b=S=null,x=g,I=g=0,D=null,k=v.next();x!==null&&!k.done;I++,k=v.next()){x.index>I?(D=x,x=null):D=x.sibling;var O=f(m,x,k.value,w);if(O===null){x===null&&(x=D);break}t&&x&&O.alternate===null&&e(m,x),g=o(O,g,I),b===null?S=O:b.sibling=O,b=O,x=D}if(k.done)return n(m,x),fe&&Ir(m,I),S;if(x===null){for(;!k.done;I++,k=v.next())k=c(m,k.value,w),k!==null&&(g=o(k,g,I),b===null?S=k:b.sibling=k,b=k);return fe&&Ir(m,I),S}for(x=r(m,x);!k.done;I++,k=v.next())k=h(x,m,I,k.value,w),k!==null&&(t&&k.alternate!==null&&x.delete(k.key===null?I:k.key),g=o(k,g,I),b===null?S=k:b.sibling=k,b=k);return t&&x.forEach(function(re){return e(m,re)}),fe&&Ir(m,I),S}function C(m,g,v,w){if(typeof v=="object"&&v!==null&&v.type===ui&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case da:e:{for(var S=v.key,b=g;b!==null;){if(b.key===S){if(S=v.type,S===ui){if(b.tag===7){n(m,b.sibling),g=i(b,v.props.children),g.return=m,m=g;break e}}else if(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ln&&qg(S)===b.type){n(m,b.sibling),g=i(b,v.props),g.ref=mo(m,b,v),g.return=m,m=g;break e}n(m,b);break}else e(m,b);b=b.sibling}v.type===ui?(g=Mr(v.props.children,m.mode,w,v.key),g.return=m,m=g):(w=Ha(v.type,v.key,v.props,null,m.mode,w),w.ref=mo(m,g,v),w.return=m,m=w)}return s(m);case li:e:{for(b=v.key;g!==null;){if(g.key===b)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(m,g.sibling),g=i(g,v.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else e(m,g);g=g.sibling}g=kc(v,m.mode,w),g.return=m,m=g}return s(m);case Ln:return b=v._init,C(m,g,b(v._payload),w)}if(To(v))return p(m,g,v,w);if(co(v))return y(m,g,v,w);Ea(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,v),g.return=m,m=g):(n(m,g),g=Dc(v,m.mode,w),g.return=m,m=g),s(m)):n(m,g)}return C}var Li=V_(!0),H_=V_(!1),Ms={},rn=vr(Ms),os=vr(Ms),ss=vr(Ms);function Nr(t){if(t===Ms)throw Error(T(174));return t}function lh(t,e){switch(ae(ss,e),ae(os,t),ae(rn,Ms),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vd(e,t)}de(rn),ae(rn,e)}function Mi(){de(rn),de(os),de(ss)}function G_(t){Nr(ss.current);var e=Nr(rn.current),n=vd(e,t.type);e!==n&&(ae(os,t),ae(rn,n))}function uh(t){os.current===t&&(de(rn),de(os))}var he=vr(0);function hl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bc=[];function ch(){for(var t=0;t<bc.length;t++)bc[t]._workInProgressVersionPrimary=null;bc.length=0}var ja=Dn.ReactCurrentDispatcher,Ic=Dn.ReactCurrentBatchConfig,Wr=0,ge=null,Ee=null,Te=null,pl=!1,Bo=!1,as=0,SI=0;function Ue(){throw Error(T(321))}function dh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qt(t[n],e[n]))return!1;return!0}function fh(t,e,n,r,i,o){if(Wr=o,ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ja.current=t===null||t.memoizedState===null?TI:PI,t=n(r,i),Bo){o=0;do{if(Bo=!1,as=0,25<=o)throw Error(T(301));o+=1,Te=Ee=null,e.updateQueue=null,ja.current=RI,t=n(r,i)}while(Bo)}if(ja.current=gl,e=Ee!==null&&Ee.next!==null,Wr=0,Te=Ee=ge=null,pl=!1,e)throw Error(T(300));return t}function hh(){var t=as!==0;return as=0,t}function Zt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?ge.memoizedState=Te=t:Te=Te.next=t,Te}function Ot(){if(Ee===null){var t=ge.alternate;t=t!==null?t.memoizedState:null}else t=Ee.next;var e=Te===null?ge.memoizedState:Te.next;if(e!==null)Te=e,Ee=t;else{if(t===null)throw Error(T(310));Ee=t,t={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Te===null?ge.memoizedState=Te=t:Te=Te.next=t}return Te}function ls(t,e){return typeof e=="function"?e(t):e}function xc(t){var e=Ot(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=Ee,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var d=u.lane;if((Wr&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=c,s=r):l=l.next=c,ge.lanes|=d,zr|=d}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,qt(r,e.memoizedState)||(ot=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ge.lanes|=o,zr|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Tc(t){var e=Ot(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);qt(o,e.memoizedState)||(ot=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function q_(){}function K_(t,e){var n=ge,r=Ot(),i=e(),o=!qt(r.memoizedState,i);if(o&&(r.memoizedState=i,ot=!0),r=r.queue,ph(X_.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,us(9,Q_.bind(null,n,r,i,e),void 0,null),De===null)throw Error(T(349));Wr&30||Y_(n,e,i)}return i}function Y_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Q_(t,e,n,r){e.value=n,e.getSnapshot=r,J_(e)&&Z_(t)}function X_(t,e,n){return n(function(){J_(e)&&Z_(t)})}function J_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qt(t,n)}catch{return!0}}function Z_(t){var e=In(t,1);e!==null&&Ht(e,t,1,-1)}function Kg(t){var e=Zt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},e.queue=t,t=t.dispatch=xI.bind(null,ge,t),[e.memoizedState,t]}function us(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ew(){return Ot().memoizedState}function $a(t,e,n,r){var i=Zt();ge.flags|=t,i.memoizedState=us(1|e,n,void 0,r===void 0?null:r)}function uu(t,e,n,r){var i=Ot();r=r===void 0?null:r;var o=void 0;if(Ee!==null){var s=Ee.memoizedState;if(o=s.destroy,r!==null&&dh(r,s.deps)){i.memoizedState=us(e,n,o,r);return}}ge.flags|=t,i.memoizedState=us(1|e,n,o,r)}function Yg(t,e){return $a(8390656,8,t,e)}function ph(t,e){return uu(2048,8,t,e)}function tw(t,e){return uu(4,2,t,e)}function nw(t,e){return uu(4,4,t,e)}function rw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iw(t,e,n){return n=n!=null?n.concat([t]):null,uu(4,4,rw.bind(null,e,t),n)}function gh(){}function ow(t,e){var n=Ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sw(t,e){var n=Ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function aw(t,e,n){return Wr&21?(qt(n,e)||(n=c_(),ge.lanes|=n,zr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ot=!0),t.memoizedState=n)}function bI(t,e){var n=J;J=n!==0&&4>n?n:4,t(!0);var r=Ic.transition;Ic.transition={};try{t(!1),e()}finally{J=n,Ic.transition=r}}function lw(){return Ot().memoizedState}function II(t,e,n){var r=Jn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uw(t))cw(e,n);else if(n=j_(t,e,n,r),n!==null){var i=Ye();Ht(n,t,r,i),dw(n,e,r)}}function xI(t,e,n){var r=Jn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uw(t))cw(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,qt(a,s)){var l=e.interleaved;l===null?(i.next=i,sh(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=j_(t,e,i,r),n!==null&&(i=Ye(),Ht(n,t,r,i),dw(n,e,r))}}function uw(t){var e=t.alternate;return t===ge||e!==null&&e===ge}function cw(t,e){Bo=pl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gf(t,n)}}var gl={readContext:At,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},TI={readContext:At,useCallback:function(t,e){return Zt().memoizedState=[t,e===void 0?null:e],t},useContext:At,useEffect:Yg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$a(4194308,4,rw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $a(4194308,4,t,e)},useInsertionEffect:function(t,e){return $a(4,2,t,e)},useMemo:function(t,e){var n=Zt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Zt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=II.bind(null,ge,t),[r.memoizedState,t]},useRef:function(t){var e=Zt();return t={current:t},e.memoizedState=t},useState:Kg,useDebugValue:gh,useDeferredValue:function(t){return Zt().memoizedState=t},useTransition:function(){var t=Kg(!1),e=t[0];return t=bI.bind(null,t[1]),Zt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ge,i=Zt();if(fe){if(n===void 0)throw Error(T(407));n=n()}else{if(n=e(),De===null)throw Error(T(349));Wr&30||Y_(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Yg(X_.bind(null,r,o,t),[t]),r.flags|=2048,us(9,Q_.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Zt(),e=De.identifierPrefix;if(fe){var n=vn,r=mn;n=(r&~(1<<32-Vt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=as++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=SI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},PI={readContext:At,useCallback:ow,useContext:At,useEffect:ph,useImperativeHandle:iw,useInsertionEffect:tw,useLayoutEffect:nw,useMemo:sw,useReducer:xc,useRef:ew,useState:function(){return xc(ls)},useDebugValue:gh,useDeferredValue:function(t){var e=Ot();return aw(e,Ee.memoizedState,t)},useTransition:function(){var t=xc(ls)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:q_,useSyncExternalStore:K_,useId:lw,unstable_isNewReconciler:!1},RI={readContext:At,useCallback:ow,useContext:At,useEffect:ph,useImperativeHandle:iw,useInsertionEffect:tw,useLayoutEffect:nw,useMemo:sw,useReducer:Tc,useRef:ew,useState:function(){return Tc(ls)},useDebugValue:gh,useDeferredValue:function(t){var e=Ot();return Ee===null?e.memoizedState=t:aw(e,Ee.memoizedState,t)},useTransition:function(){var t=Tc(ls)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:q_,useSyncExternalStore:K_,useId:lw,unstable_isNewReconciler:!1};function Bi(t,e){try{var n="",r=e;do n+=rb(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Pc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var DI=typeof WeakMap=="function"?WeakMap:Map;function fw(t,e,n){n=Cn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vl||(vl=!0,Qd=r),jd(t,e)},n}function hw(t,e,n){n=Cn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){jd(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){jd(t,e),typeof r!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Qg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new DI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=VI.bind(null,t,e,n),e.then(t,t))}function Xg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Jg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Cn(-1,1),e.tag=2,Qn(n,e,1))),n.lanes|=1),t)}var kI=Dn.ReactCurrentOwner,ot=!1;function qe(t,e,n,r){e.child=t===null?H_(e,null,n,r):Li(e,t.child,n,r)}function Zg(t,e,n,r,i){n=n.render;var o=e.ref;return xi(e,i),r=fh(t,e,n,r,o,i),n=hh(),t!==null&&!ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xn(t,e,i)):(fe&&n&&eh(e),e.flags|=1,qe(t,e,r,i),e.child)}function em(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Sh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,pw(t,e,o,r,i)):(t=Ha(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ts,n(s,r)&&t.ref===e.ref)return xn(t,e,i)}return e.flags|=1,t=Zn(o,r),t.ref=e.ref,t.return=e,e.child=t}function pw(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ts(o,r)&&t.ref===e.ref)if(ot=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(ot=!0);else return e.lanes=t.lanes,xn(t,e,i)}return $d(t,e,n,r,i)}function gw(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(_i,ft),ft|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ae(_i,ft),ft|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ae(_i,ft),ft|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ae(_i,ft),ft|=r;return qe(t,e,i,n),e.child}function mw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $d(t,e,n,r,i){var o=lt(n)?jr:Ve.current;return o=Ai(e,o),xi(e,i),n=fh(t,e,n,r,o,i),r=hh(),t!==null&&!ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xn(t,e,i)):(fe&&r&&eh(e),e.flags|=1,qe(t,e,n,i),e.child)}function tm(t,e,n,r,i){if(lt(n)){var o=!0;al(e)}else o=!1;if(xi(e,i),e.stateNode===null)Wa(t,e),z_(e,n,r),Ud(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=At(u):(u=lt(n)?jr:Ve.current,u=Ai(e,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Gg(e,s,r,u),Mn=!1;var f=e.memoizedState;s.state=f,fl(e,r,s,i),l=e.memoizedState,a!==r||f!==l||at.current||Mn?(typeof d=="function"&&(Fd(e,n,d,r),l=e.memoizedState),(a=Mn||Hg(e,n,a,r,f,l,u))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,$_(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Bt(e.type,a),s.props=u,c=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=At(l):(l=lt(n)?jr:Ve.current,l=Ai(e,l));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==c||f!==l)&&Gg(e,s,r,l),Mn=!1,f=e.memoizedState,s.state=f,fl(e,r,s,i);var p=e.memoizedState;a!==c||f!==p||at.current||Mn?(typeof h=="function"&&(Fd(e,n,h,r),p=e.memoizedState),(u=Mn||Hg(e,n,u,r,f,p,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Wd(t,e,n,r,o,i)}function Wd(t,e,n,r,i,o){mw(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&jg(e,n,!1),xn(t,e,o);r=e.stateNode,kI.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Li(e,t.child,null,o),e.child=Li(e,null,a,o)):qe(t,e,a,o),e.memoizedState=r.state,i&&jg(e,n,!0),e.child}function vw(t){var e=t.stateNode;e.pendingContext?Ug(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ug(t,e.context,!1),lh(t,e.containerInfo)}function nm(t,e,n,r,i){return Oi(),nh(i),e.flags|=256,qe(t,e,n,r),e.child}var zd={dehydrated:null,treeContext:null,retryLane:0};function Vd(t){return{baseLanes:t,cachePool:null,transitions:null}}function yw(t,e,n){var r=e.pendingProps,i=he.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ae(he,i&1),t===null)return Md(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=fu(s,r,0,null),t=Mr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Vd(n),e.memoizedState=zd,t):mh(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return NI(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Zn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Zn(a,o):(o=Mr(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Vd(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=zd,r}return o=t.child,t=o.sibling,r=Zn(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function mh(t,e){return e=fu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sa(t,e,n,r){return r!==null&&nh(r),Li(e,t.child,null,n),t=mh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NI(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Pc(Error(T(422))),Sa(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=fu({mode:"visible",children:r.children},i,0,null),o=Mr(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Li(e,t.child,null,s),e.child.memoizedState=Vd(s),e.memoizedState=zd,o);if(!(e.mode&1))return Sa(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(T(419)),r=Pc(o,r,void 0),Sa(t,e,s,r)}if(a=(s&t.childLanes)!==0,ot||a){if(r=De,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,In(t,i),Ht(r,t,i,-1))}return Eh(),r=Pc(Error(T(421))),Sa(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=HI.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,ht=Yn(i.nextSibling),gt=e,fe=!0,Ut=null,t!==null&&(Tt[Pt++]=mn,Tt[Pt++]=vn,Tt[Pt++]=$r,mn=t.id,vn=t.overflow,$r=e),e=mh(e,r.children),e.flags|=4096,e)}function rm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bd(t.return,e,n)}function Rc(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function _w(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(qe(t,e,r.children,n),r=he.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rm(t,n,e);else if(t.tag===19)rm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ae(he,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&hl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Rc(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&hl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Rc(e,!0,n,null,o);break;case"together":Rc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=Zn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function AI(t,e,n){switch(e.tag){case 3:vw(e),Oi();break;case 5:G_(e);break;case 1:lt(e.type)&&al(e);break;case 4:lh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ae(cl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ae(he,he.current&1),e.flags|=128,null):n&e.child.childLanes?yw(t,e,n):(ae(he,he.current&1),t=xn(t,e,n),t!==null?t.sibling:null);ae(he,he.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _w(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ae(he,he.current),r)break;return null;case 22:case 23:return e.lanes=0,gw(t,e,n)}return xn(t,e,n)}var ww,Hd,Cw,Ew;ww=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hd=function(){};Cw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Nr(rn.current);var o=null;switch(n){case"input":i=hd(t,i),r=hd(t,r),o=[];break;case"select":i=me({},i,{value:void 0}),r=me({},r,{value:void 0}),o=[];break;case"textarea":i=md(t,i),r=md(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ol)}yd(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ko.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ko.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ue("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Ew=function(t,e,n,r){n!==r&&(e.flags|=4)};function vo(t,e){if(!fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function je(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function OI(t,e,n){var r=e.pendingProps;switch(th(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(e),null;case 1:return lt(e.type)&&sl(),je(e),null;case 3:return r=e.stateNode,Mi(),de(at),de(Ve),ch(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ca(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ut!==null&&(Zd(Ut),Ut=null))),Hd(t,e),je(e),null;case 5:uh(e);var i=Nr(ss.current);if(n=e.type,t!==null&&e.stateNode!=null)Cw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(T(166));return je(e),null}if(t=Nr(rn.current),Ca(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[en]=e,r[is]=o,t=(e.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(i=0;i<Ro.length;i++)ue(Ro[i],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":fg(r,o),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ue("invalid",r);break;case"textarea":pg(r,o),ue("invalid",r)}yd(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&wa(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&wa(r.textContent,a,t),i=["children",""+a]):Ko.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ue("scroll",r)}switch(n){case"input":fa(r),hg(r,o,!0);break;case"textarea":fa(r),gg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ol)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Yy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[en]=e,t[is]=r,ww(t,e,!1,!1),e.stateNode=t;e:{switch(s=_d(n,r),n){case"dialog":ue("cancel",t),ue("close",t),i=r;break;case"iframe":case"object":case"embed":ue("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ro.length;i++)ue(Ro[i],t);i=r;break;case"source":ue("error",t),i=r;break;case"img":case"image":case"link":ue("error",t),ue("load",t),i=r;break;case"details":ue("toggle",t),i=r;break;case"input":fg(t,r),i=hd(t,r),ue("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=me({},r,{value:void 0}),ue("invalid",t);break;case"textarea":pg(t,r),i=md(t,r),ue("invalid",t);break;default:i=r}yd(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Jy(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Qy(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Yo(t,l):typeof l=="number"&&Yo(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ko.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ue("scroll",t):l!=null&&jf(t,o,l,s))}switch(n){case"input":fa(t),hg(t,r,!1);break;case"textarea":fa(t),gg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ur(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ei(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ei(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ol)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return je(e),null;case 6:if(t&&e.stateNode!=null)Ew(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(T(166));if(n=Nr(ss.current),Nr(rn.current),Ca(e)){if(r=e.stateNode,n=e.memoizedProps,r[en]=e,(o=r.nodeValue!==n)&&(t=gt,t!==null))switch(t.tag){case 3:wa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wa(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[en]=e,e.stateNode=r}return je(e),null;case 13:if(de(he),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(fe&&ht!==null&&e.mode&1&&!(e.flags&128))U_(),Oi(),e.flags|=98560,o=!1;else if(o=Ca(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(T(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(T(317));o[en]=e}else Oi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;je(e),o=!1}else Ut!==null&&(Zd(Ut),Ut=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||he.current&1?Ie===0&&(Ie=3):Eh())),e.updateQueue!==null&&(e.flags|=4),je(e),null);case 4:return Mi(),Hd(t,e),t===null&&ns(e.stateNode.containerInfo),je(e),null;case 10:return oh(e.type._context),je(e),null;case 17:return lt(e.type)&&sl(),je(e),null;case 19:if(de(he),o=e.memoizedState,o===null)return je(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)vo(o,!1);else{if(Ie!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=hl(t),s!==null){for(e.flags|=128,vo(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ae(he,he.current&1|2),e.child}t=t.sibling}o.tail!==null&&_e()>Fi&&(e.flags|=128,r=!0,vo(o,!1),e.lanes=4194304)}else{if(!r)if(t=hl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),vo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!fe)return je(e),null}else 2*_e()-o.renderingStartTime>Fi&&n!==1073741824&&(e.flags|=128,r=!0,vo(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=_e(),e.sibling=null,n=he.current,ae(he,r?n&1|2:n&1),e):(je(e),null);case 22:case 23:return Ch(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ft&1073741824&&(je(e),e.subtreeFlags&6&&(e.flags|=8192)):je(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function LI(t,e){switch(th(e),e.tag){case 1:return lt(e.type)&&sl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mi(),de(at),de(Ve),ch(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return uh(e),null;case 13:if(de(he),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));Oi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return de(he),null;case 4:return Mi(),null;case 10:return oh(e.type._context),null;case 22:case 23:return Ch(),null;case 24:return null;default:return null}}var ba=!1,We=!1,MI=typeof WeakSet=="function"?WeakSet:Set,A=null;function yi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(t,e,r)}else n.current=null}function Gd(t,e,n){try{n()}catch(r){ye(t,e,r)}}var im=!1;function BI(t,e){if(Rd=nl,t=x_(),Zf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,d=0,c=t,f=null;t:for(;;){for(var h;c!==n||i!==0&&c.nodeType!==3||(a=s+i),c!==o||r!==0&&c.nodeType!==3||(l=s+r),c.nodeType===3&&(s+=c.nodeValue.length),(h=c.firstChild)!==null;)f=c,c=h;for(;;){if(c===t)break t;if(f===n&&++u===i&&(a=s),f===o&&++d===r&&(l=s),(h=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dd={focusedElem:t,selectionRange:n},nl=!1,A=e;A!==null;)if(e=A,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,A=t;else for(;A!==null;){e=A;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,C=p.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:Bt(e.type,y),C);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(w){ye(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,A=t;break}A=e.return}return p=im,im=!1,p}function Fo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Gd(e,n,o)}i=i.next}while(i!==r)}}function cu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function qd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Sw(t){var e=t.alternate;e!==null&&(t.alternate=null,Sw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[en],delete e[is],delete e[Ad],delete e[_I],delete e[wI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bw(t){return t.tag===5||t.tag===3||t.tag===4}function om(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ol));else if(r!==4&&(t=t.child,t!==null))for(Kd(t,e,n),t=t.sibling;t!==null;)Kd(t,e,n),t=t.sibling}function Yd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Yd(t,e,n),t=t.sibling;t!==null;)Yd(t,e,n),t=t.sibling}var Le=null,Ft=!1;function Nn(t,e,n){for(n=n.child;n!==null;)Iw(t,e,n),n=n.sibling}function Iw(t,e,n){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(nu,n)}catch{}switch(n.tag){case 5:We||yi(n,e);case 6:var r=Le,i=Ft;Le=null,Nn(t,e,n),Le=r,Ft=i,Le!==null&&(Ft?(t=Le,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Le.removeChild(n.stateNode));break;case 18:Le!==null&&(Ft?(t=Le,n=n.stateNode,t.nodeType===8?Ec(t.parentNode,n):t.nodeType===1&&Ec(t,n),Zo(t)):Ec(Le,n.stateNode));break;case 4:r=Le,i=Ft,Le=n.stateNode.containerInfo,Ft=!0,Nn(t,e,n),Le=r,Ft=i;break;case 0:case 11:case 14:case 15:if(!We&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Gd(n,e,s),i=i.next}while(i!==r)}Nn(t,e,n);break;case 1:if(!We&&(yi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ye(n,e,a)}Nn(t,e,n);break;case 21:Nn(t,e,n);break;case 22:n.mode&1?(We=(r=We)||n.memoizedState!==null,Nn(t,e,n),We=r):Nn(t,e,n);break;default:Nn(t,e,n)}}function sm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new MI),e.forEach(function(r){var i=GI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Le=a.stateNode,Ft=!1;break e;case 3:Le=a.stateNode.containerInfo,Ft=!0;break e;case 4:Le=a.stateNode.containerInfo,Ft=!0;break e}a=a.return}if(Le===null)throw Error(T(160));Iw(o,s,i),Le=null,Ft=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ye(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xw(e,t),e=e.sibling}function xw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mt(e,t),Xt(t),r&4){try{Fo(3,t,t.return),cu(3,t)}catch(y){ye(t,t.return,y)}try{Fo(5,t,t.return)}catch(y){ye(t,t.return,y)}}break;case 1:Mt(e,t),Xt(t),r&512&&n!==null&&yi(n,n.return);break;case 5:if(Mt(e,t),Xt(t),r&512&&n!==null&&yi(n,n.return),t.flags&32){var i=t.stateNode;try{Yo(i,"")}catch(y){ye(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&qy(i,o),_d(a,s);var u=_d(a,o);for(s=0;s<l.length;s+=2){var d=l[s],c=l[s+1];d==="style"?Jy(i,c):d==="dangerouslySetInnerHTML"?Qy(i,c):d==="children"?Yo(i,c):jf(i,d,c,u)}switch(a){case"input":pd(i,o);break;case"textarea":Ky(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Ei(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?Ei(i,!!o.multiple,o.defaultValue,!0):Ei(i,!!o.multiple,o.multiple?[]:"",!1))}i[is]=o}catch(y){ye(t,t.return,y)}}break;case 6:if(Mt(e,t),Xt(t),r&4){if(t.stateNode===null)throw Error(T(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){ye(t,t.return,y)}}break;case 3:if(Mt(e,t),Xt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zo(e.containerInfo)}catch(y){ye(t,t.return,y)}break;case 4:Mt(e,t),Xt(t);break;case 13:Mt(e,t),Xt(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(_h=_e())),r&4&&sm(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(We=(u=We)||d,Mt(e,t),We=u):Mt(e,t),Xt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(A=t,d=t.child;d!==null;){for(c=A=d;A!==null;){switch(f=A,h=f.child,f.tag){case 0:case 11:case 14:case 15:Fo(4,f,f.return);break;case 1:yi(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(y){ye(r,n,y)}}break;case 5:yi(f,f.return);break;case 22:if(f.memoizedState!==null){lm(c);continue}}h!==null?(h.return=f,A=h):lm(c)}d=d.sibling}e:for(d=null,c=t;;){if(c.tag===5){if(d===null){d=c;try{i=c.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=c.stateNode,l=c.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Xy("display",s))}catch(y){ye(t,t.return,y)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(y){ye(t,t.return,y)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Mt(e,t),Xt(t),r&4&&sm(t);break;case 21:break;default:Mt(e,t),Xt(t)}}function Xt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(bw(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Yo(i,""),r.flags&=-33);var o=om(t);Yd(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=om(t);Kd(t,a,s);break;default:throw Error(T(161))}}catch(l){ye(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function FI(t,e,n){A=t,Tw(t)}function Tw(t,e,n){for(var r=(t.mode&1)!==0;A!==null;){var i=A,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ba;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||We;a=ba;var u=We;if(ba=s,(We=l)&&!u)for(A=i;A!==null;)s=A,l=s.child,s.tag===22&&s.memoizedState!==null?um(i):l!==null?(l.return=s,A=l):um(i);for(;o!==null;)A=o,Tw(o),o=o.sibling;A=i,ba=a,We=u}am(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,A=o):am(t)}}function am(t){for(;A!==null;){var e=A;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:We||cu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!We)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Bt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Vg(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Vg(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&Zo(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}We||e.flags&512&&qd(e)}catch(f){ye(e,e.return,f)}}if(e===t){A=null;break}if(n=e.sibling,n!==null){n.return=e.return,A=n;break}A=e.return}}function lm(t){for(;A!==null;){var e=A;if(e===t){A=null;break}var n=e.sibling;if(n!==null){n.return=e.return,A=n;break}A=e.return}}function um(t){for(;A!==null;){var e=A;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{cu(4,e)}catch(l){ye(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ye(e,i,l)}}var o=e.return;try{qd(e)}catch(l){ye(e,o,l)}break;case 5:var s=e.return;try{qd(e)}catch(l){ye(e,s,l)}}}catch(l){ye(e,e.return,l)}if(e===t){A=null;break}var a=e.sibling;if(a!==null){a.return=e.return,A=a;break}A=e.return}}var UI=Math.ceil,ml=Dn.ReactCurrentDispatcher,vh=Dn.ReactCurrentOwner,kt=Dn.ReactCurrentBatchConfig,K=0,De=null,we=null,Be=0,ft=0,_i=vr(0),Ie=0,cs=null,zr=0,du=0,yh=0,Uo=null,it=null,_h=0,Fi=1/0,pn=null,vl=!1,Qd=null,Xn=null,Ia=!1,Vn=null,yl=0,jo=0,Xd=null,za=-1,Va=0;function Ye(){return K&6?_e():za!==-1?za:za=_e()}function Jn(t){return t.mode&1?K&2&&Be!==0?Be&-Be:EI.transition!==null?(Va===0&&(Va=c_()),Va):(t=J,t!==0||(t=window.event,t=t===void 0?16:v_(t.type)),t):1}function Ht(t,e,n,r){if(50<jo)throw jo=0,Xd=null,Error(T(185));As(t,n,r),(!(K&2)||t!==De)&&(t===De&&(!(K&2)&&(du|=n),Ie===4&&Fn(t,Be)),ut(t,r),n===1&&K===0&&!(e.mode&1)&&(Fi=_e()+500,au&&yr()))}function ut(t,e){var n=t.callbackNode;Eb(t,e);var r=tl(t,t===De?Be:0);if(r===0)n!==null&&yg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&yg(n),e===1)t.tag===0?CI(cm.bind(null,t)):M_(cm.bind(null,t)),vI(function(){!(K&6)&&yr()}),n=null;else{switch(d_(r)){case 1:n=Hf;break;case 4:n=l_;break;case 16:n=el;break;case 536870912:n=u_;break;default:n=el}n=Lw(n,Pw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Pw(t,e){if(za=-1,Va=0,K&6)throw Error(T(327));var n=t.callbackNode;if(Ti()&&t.callbackNode!==n)return null;var r=tl(t,t===De?Be:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_l(t,r);else{e=r;var i=K;K|=2;var o=Dw();(De!==t||Be!==e)&&(pn=null,Fi=_e()+500,Lr(t,e));do try{WI();break}catch(a){Rw(t,a)}while(1);ih(),ml.current=o,K=i,we!==null?e=0:(De=null,Be=0,e=Ie)}if(e!==0){if(e===2&&(i=bd(t),i!==0&&(r=i,e=Jd(t,i))),e===1)throw n=cs,Lr(t,0),Fn(t,r),ut(t,_e()),n;if(e===6)Fn(t,r);else{if(i=t.current.alternate,!(r&30)&&!jI(i)&&(e=_l(t,r),e===2&&(o=bd(t),o!==0&&(r=o,e=Jd(t,o))),e===1))throw n=cs,Lr(t,0),Fn(t,r),ut(t,_e()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(T(345));case 2:xr(t,it,pn);break;case 3:if(Fn(t,r),(r&130023424)===r&&(e=_h+500-_e(),10<e)){if(tl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ye(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Nd(xr.bind(null,t,it,pn),e);break}xr(t,it,pn);break;case 4:if(Fn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Vt(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=_e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*UI(r/1960))-r,10<r){t.timeoutHandle=Nd(xr.bind(null,t,it,pn),r);break}xr(t,it,pn);break;case 5:xr(t,it,pn);break;default:throw Error(T(329))}}}return ut(t,_e()),t.callbackNode===n?Pw.bind(null,t):null}function Jd(t,e){var n=Uo;return t.current.memoizedState.isDehydrated&&(Lr(t,e).flags|=256),t=_l(t,e),t!==2&&(e=it,it=n,e!==null&&Zd(e)),t}function Zd(t){it===null?it=t:it.push.apply(it,t)}function jI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!qt(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fn(t,e){for(e&=~yh,e&=~du,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vt(e),r=1<<n;t[n]=-1,e&=~r}}function cm(t){if(K&6)throw Error(T(327));Ti();var e=tl(t,0);if(!(e&1))return ut(t,_e()),null;var n=_l(t,e);if(t.tag!==0&&n===2){var r=bd(t);r!==0&&(e=r,n=Jd(t,r))}if(n===1)throw n=cs,Lr(t,0),Fn(t,e),ut(t,_e()),n;if(n===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xr(t,it,pn),ut(t,_e()),null}function wh(t,e){var n=K;K|=1;try{return t(e)}finally{K=n,K===0&&(Fi=_e()+500,au&&yr())}}function Vr(t){Vn!==null&&Vn.tag===0&&!(K&6)&&Ti();var e=K;K|=1;var n=kt.transition,r=J;try{if(kt.transition=null,J=1,t)return t()}finally{J=r,kt.transition=n,K=e,!(K&6)&&yr()}}function Ch(){ft=_i.current,de(_i)}function Lr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,mI(n)),we!==null)for(n=we.return;n!==null;){var r=n;switch(th(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sl();break;case 3:Mi(),de(at),de(Ve),ch();break;case 5:uh(r);break;case 4:Mi();break;case 13:de(he);break;case 19:de(he);break;case 10:oh(r.type._context);break;case 22:case 23:Ch()}n=n.return}if(De=t,we=t=Zn(t.current,null),Be=ft=e,Ie=0,cs=null,yh=du=zr=0,it=Uo=null,kr!==null){for(e=0;e<kr.length;e++)if(n=kr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}kr=null}return t}function Rw(t,e){do{var n=we;try{if(ih(),ja.current=gl,pl){for(var r=ge.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pl=!1}if(Wr=0,Te=Ee=ge=null,Bo=!1,as=0,vh.current=null,n===null||n.return===null){Ie=1,cs=e,we=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Be,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=Xg(s);if(h!==null){h.flags&=-257,Jg(h,s,a,o,e),h.mode&1&&Qg(o,u,e),e=h,l=u;var p=e.updateQueue;if(p===null){var y=new Set;y.add(l),e.updateQueue=y}else p.add(l);break e}else{if(!(e&1)){Qg(o,u,e),Eh();break e}l=Error(T(426))}}else if(fe&&a.mode&1){var C=Xg(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Jg(C,s,a,o,e),nh(Bi(l,a));break e}}o=l=Bi(l,a),Ie!==4&&(Ie=2),Uo===null?Uo=[o]:Uo.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=fw(o,l,e);zg(o,m);break e;case 1:a=l;var g=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Xn===null||!Xn.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=hw(o,a,e);zg(o,w);break e}}o=o.return}while(o!==null)}Nw(n)}catch(S){e=S,we===n&&n!==null&&(we=n=n.return);continue}break}while(1)}function Dw(){var t=ml.current;return ml.current=gl,t===null?gl:t}function Eh(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),De===null||!(zr&268435455)&&!(du&268435455)||Fn(De,Be)}function _l(t,e){var n=K;K|=2;var r=Dw();(De!==t||Be!==e)&&(pn=null,Lr(t,e));do try{$I();break}catch(i){Rw(t,i)}while(1);if(ih(),K=n,ml.current=r,we!==null)throw Error(T(261));return De=null,Be=0,Ie}function $I(){for(;we!==null;)kw(we)}function WI(){for(;we!==null&&!hb();)kw(we)}function kw(t){var e=Ow(t.alternate,t,ft);t.memoizedProps=t.pendingProps,e===null?Nw(t):we=e,vh.current=null}function Nw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=LI(n,e),n!==null){n.flags&=32767,we=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ie=6,we=null;return}}else if(n=OI(n,e,ft),n!==null){we=n;return}if(e=e.sibling,e!==null){we=e;return}we=e=t}while(e!==null);Ie===0&&(Ie=5)}function xr(t,e,n){var r=J,i=kt.transition;try{kt.transition=null,J=1,zI(t,e,n,r)}finally{kt.transition=i,J=r}return null}function zI(t,e,n,r){do Ti();while(Vn!==null);if(K&6)throw Error(T(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Sb(t,o),t===De&&(we=De=null,Be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ia||(Ia=!0,Lw(el,function(){return Ti(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=kt.transition,kt.transition=null;var s=J;J=1;var a=K;K|=4,vh.current=null,BI(t,n),xw(n,t),uI(Dd),nl=!!Rd,Dd=Rd=null,t.current=n,FI(n),pb(),K=a,J=s,kt.transition=o}else t.current=n;if(Ia&&(Ia=!1,Vn=t,yl=i),o=t.pendingLanes,o===0&&(Xn=null),vb(n.stateNode),ut(t,_e()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vl)throw vl=!1,t=Qd,Qd=null,t;return yl&1&&t.tag!==0&&Ti(),o=t.pendingLanes,o&1?t===Xd?jo++:(jo=0,Xd=t):jo=0,yr(),null}function Ti(){if(Vn!==null){var t=d_(yl),e=kt.transition,n=J;try{if(kt.transition=null,J=16>t?16:t,Vn===null)var r=!1;else{if(t=Vn,Vn=null,yl=0,K&6)throw Error(T(331));var i=K;for(K|=4,A=t.current;A!==null;){var o=A,s=o.child;if(A.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(A=u;A!==null;){var d=A;switch(d.tag){case 0:case 11:case 15:Fo(8,d,o)}var c=d.child;if(c!==null)c.return=d,A=c;else for(;A!==null;){d=A;var f=d.sibling,h=d.return;if(Sw(d),d===u){A=null;break}if(f!==null){f.return=h,A=f;break}A=h}}}var p=o.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var C=y.sibling;y.sibling=null,y=C}while(y!==null)}}A=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,A=s;else e:for(;A!==null;){if(o=A,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Fo(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,A=m;break e}A=o.return}}var g=t.current;for(A=g;A!==null;){s=A;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,A=v;else e:for(s=g;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cu(9,a)}}catch(S){ye(a,a.return,S)}if(a===s){A=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,A=w;break e}A=a.return}}if(K=i,yr(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(nu,t)}catch{}r=!0}return r}finally{J=n,kt.transition=e}}return!1}function dm(t,e,n){e=Bi(n,e),e=fw(t,e,1),t=Qn(t,e,1),e=Ye(),t!==null&&(As(t,1,e),ut(t,e))}function ye(t,e,n){if(t.tag===3)dm(t,t,n);else for(;e!==null;){if(e.tag===3){dm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xn===null||!Xn.has(r))){t=Bi(n,t),t=hw(e,t,1),e=Qn(e,t,1),t=Ye(),e!==null&&(As(e,1,t),ut(e,t));break}}e=e.return}}function VI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ye(),t.pingedLanes|=t.suspendedLanes&n,De===t&&(Be&n)===n&&(Ie===4||Ie===3&&(Be&130023424)===Be&&500>_e()-_h?Lr(t,0):yh|=n),ut(t,e)}function Aw(t,e){e===0&&(t.mode&1?(e=ga,ga<<=1,!(ga&130023424)&&(ga=4194304)):e=1);var n=Ye();t=In(t,e),t!==null&&(As(t,e,n),ut(t,n))}function HI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Aw(t,n)}function GI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(e),Aw(t,n)}var Ow;Ow=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||at.current)ot=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ot=!1,AI(t,e,n);ot=!!(t.flags&131072)}else ot=!1,fe&&e.flags&1048576&&B_(e,ul,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wa(t,e),t=e.pendingProps;var i=Ai(e,Ve.current);xi(e,n),i=fh(null,e,r,t,i,n);var o=hh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,lt(r)?(o=!0,al(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ah(e),i.updater=lu,e.stateNode=i,i._reactInternals=e,Ud(e,r,t,n),e=Wd(null,e,r,!0,o,n)):(e.tag=0,fe&&o&&eh(e),qe(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wa(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=KI(r),t=Bt(r,t),i){case 0:e=$d(null,e,r,t,n);break e;case 1:e=tm(null,e,r,t,n);break e;case 11:e=Zg(null,e,r,t,n);break e;case 14:e=em(null,e,r,Bt(r.type,t),n);break e}throw Error(T(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),$d(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),tm(t,e,r,i,n);case 3:e:{if(vw(e),t===null)throw Error(T(387));r=e.pendingProps,o=e.memoizedState,i=o.element,$_(t,e),fl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Bi(Error(T(423)),e),e=nm(t,e,r,n,i);break e}else if(r!==i){i=Bi(Error(T(424)),e),e=nm(t,e,r,n,i);break e}else for(ht=Yn(e.stateNode.containerInfo.firstChild),gt=e,fe=!0,Ut=null,n=H_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oi(),r===i){e=xn(t,e,n);break e}qe(t,e,r,n)}e=e.child}return e;case 5:return G_(e),t===null&&Md(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,kd(r,i)?s=null:o!==null&&kd(r,o)&&(e.flags|=32),mw(t,e),qe(t,e,s,n),e.child;case 6:return t===null&&Md(e),null;case 13:return yw(t,e,n);case 4:return lh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Li(e,null,r,n):qe(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),Zg(t,e,r,i,n);case 7:return qe(t,e,e.pendingProps,n),e.child;case 8:return qe(t,e,e.pendingProps.children,n),e.child;case 12:return qe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ae(cl,r._currentValue),r._currentValue=s,o!==null)if(qt(o.value,s)){if(o.children===i.children&&!at.current){e=xn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Cn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Bd(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(T(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Bd(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}qe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,xi(e,n),i=At(i),r=r(i),e.flags|=1,qe(t,e,r,n),e.child;case 14:return r=e.type,i=Bt(r,e.pendingProps),i=Bt(r.type,i),em(t,e,r,i,n);case 15:return pw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),Wa(t,e),e.tag=1,lt(r)?(t=!0,al(e)):t=!1,xi(e,n),z_(e,r,i),Ud(e,r,i,n),Wd(null,e,r,!0,t,n);case 19:return _w(t,e,n);case 22:return gw(t,e,n)}throw Error(T(156,e.tag))};function Lw(t,e){return a_(t,e)}function qI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(t,e,n,r){return new qI(t,e,n,r)}function Sh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function KI(t){if(typeof t=="function")return Sh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wf)return 11;if(t===zf)return 14}return 2}function Zn(t,e){var n=t.alternate;return n===null?(n=Rt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ha(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Sh(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ui:return Mr(n.children,i,o,e);case $f:s=8,i|=8;break;case ud:return t=Rt(12,n,e,i|2),t.elementType=ud,t.lanes=o,t;case cd:return t=Rt(13,n,e,i),t.elementType=cd,t.lanes=o,t;case dd:return t=Rt(19,n,e,i),t.elementType=dd,t.lanes=o,t;case Vy:return fu(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Wy:s=10;break e;case zy:s=9;break e;case Wf:s=11;break e;case zf:s=14;break e;case Ln:s=16,r=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=Rt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Mr(t,e,n,r){return t=Rt(7,t,r,e),t.lanes=n,t}function fu(t,e,n,r){return t=Rt(22,t,r,e),t.elementType=Vy,t.lanes=n,t.stateNode={isHidden:!1},t}function Dc(t,e,n){return t=Rt(6,t,null,e),t.lanes=n,t}function kc(t,e,n){return e=Rt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function YI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dc(0),this.expirationTimes=dc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bh(t,e,n,r,i,o,s,a,l){return t=new YI(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Rt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(o),t}function QI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:li,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Mw(t){if(!t)return cr;t=t._reactInternals;e:{if(ei(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(lt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var n=t.type;if(lt(n))return L_(t,n,e)}return e}function Bw(t,e,n,r,i,o,s,a,l){return t=bh(n,r,!0,t,i,o,s,a,l),t.context=Mw(null),n=t.current,r=Ye(),i=Jn(n),o=Cn(r,i),o.callback=e??null,Qn(n,o,i),t.current.lanes=i,As(t,i,r),ut(t,r),t}function hu(t,e,n,r){var i=e.current,o=Ye(),s=Jn(i);return n=Mw(n),e.context===null?e.context=n:e.pendingContext=n,e=Cn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qn(i,e,s),t!==null&&(Ht(t,i,s,o),Ua(t,i,s)),s}function wl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ih(t,e){fm(t,e),(t=t.alternate)&&fm(t,e)}function XI(){return null}var Fw=typeof reportError=="function"?reportError:function(t){console.error(t)};function xh(t){this._internalRoot=t}pu.prototype.render=xh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));hu(t,e,null,null)};pu.prototype.unmount=xh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vr(function(){hu(null,t,null,null)}),e[bn]=null}};function pu(t){this._internalRoot=t}pu.prototype.unstable_scheduleHydration=function(t){if(t){var e=p_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Bn.length&&e!==0&&e<Bn[n].priority;n++);Bn.splice(n,0,t),n===0&&m_(t)}};function Th(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hm(){}function JI(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=wl(s);o.call(u)}}var s=Bw(e,r,t,0,null,!1,!1,"",hm);return t._reactRootContainer=s,t[bn]=s.current,ns(t.nodeType===8?t.parentNode:t),Vr(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=wl(l);a.call(u)}}var l=bh(t,0,!1,null,null,!1,!1,"",hm);return t._reactRootContainer=l,t[bn]=l.current,ns(t.nodeType===8?t.parentNode:t),Vr(function(){hu(e,l,n,r)}),l}function mu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=wl(s);a.call(l)}}hu(e,s,t,i)}else s=JI(n,e,t,i,r);return wl(s)}f_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Po(e.pendingLanes);n!==0&&(Gf(e,n|1),ut(e,_e()),!(K&6)&&(Fi=_e()+500,yr()))}break;case 13:Vr(function(){var r=In(t,1);if(r!==null){var i=Ye();Ht(r,t,1,i)}}),Ih(t,1)}};qf=function(t){if(t.tag===13){var e=In(t,134217728);if(e!==null){var n=Ye();Ht(e,t,134217728,n)}Ih(t,134217728)}};h_=function(t){if(t.tag===13){var e=Jn(t),n=In(t,e);if(n!==null){var r=Ye();Ht(n,t,e,r)}Ih(t,e)}};p_=function(){return J};g_=function(t,e){var n=J;try{return J=t,e()}finally{J=n}};Cd=function(t,e,n){switch(e){case"input":if(pd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=su(r);if(!i)throw Error(T(90));Gy(r),pd(r,i)}}}break;case"textarea":Ky(t,n);break;case"select":e=n.value,e!=null&&Ei(t,!!n.multiple,e,!1)}};t_=wh;n_=Vr;var ZI={usingClientEntryPoint:!1,Events:[Ls,hi,su,Zy,e_,wh]},yo={findFiberByHostInstance:Dr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ex={bundleType:yo.bundleType,version:yo.version,rendererPackageName:yo.rendererPackageName,rendererConfig:yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=o_(t),t===null?null:t.stateNode},findFiberByHostInstance:yo.findFiberByHostInstance||XI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xa.isDisabled&&xa.supportsFiber)try{nu=xa.inject(ex),nn=xa}catch{}}_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZI;_t.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Th(e))throw Error(T(200));return QI(t,e,null,n)};_t.createRoot=function(t,e){if(!Th(t))throw Error(T(299));var n=!1,r="",i=Fw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=bh(t,1,!1,null,null,n,!1,r,i),t[bn]=e.current,ns(t.nodeType===8?t.parentNode:t),new xh(e)};_t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=o_(e),t=t===null?null:t.stateNode,t};_t.flushSync=function(t){return Vr(t)};_t.hydrate=function(t,e,n){if(!gu(e))throw Error(T(200));return mu(null,t,e,!0,n)};_t.hydrateRoot=function(t,e,n){if(!Th(t))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Fw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Bw(e,null,t,1,n??null,i,!1,o,s),t[bn]=e.current,ns(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new pu(e)};_t.render=function(t,e,n){if(!gu(e))throw Error(T(200));return mu(null,t,e,!1,n)};_t.unmountComponentAtNode=function(t){if(!gu(t))throw Error(T(40));return t._reactRootContainer?(Vr(function(){mu(null,null,t,!1,function(){t._reactRootContainer=null,t[bn]=null})}),!0):!1};_t.unstable_batchedUpdates=wh;_t.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gu(n))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return mu(t,e,n,!1,r)};_t.version="18.2.0-next-9e3b772b8-20220608";function Uw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Uw)}catch(t){console.error(t)}}Uw(),By.exports=_t;var Ph=By.exports;const tx=Af(Ph);var pm=Ph;ad.createRoot=pm.createRoot,ad.hydrateRoot=pm.hydrateRoot;/**
 * @remix-run/router v1.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ds(){return ds=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ds.apply(this,arguments)}var Hn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Hn||(Hn={}));const gm="popstate";function nx(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return ef("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Cl(i)}return ix(e,n,null,t)}function Ce(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rx(){return Math.random().toString(36).substr(2,8)}function mm(t,e){return{usr:t.state,key:t.key,idx:e}}function ef(t,e,n,r){return n===void 0&&(n=null),ds({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Yi(e):e,{state:n,key:e&&e.key||r||rx()})}function Cl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Yi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ix(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Hn.Pop,l=null,u=d();u==null&&(u=0,s.replaceState(ds({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function c(){a=Hn.Pop;let C=d(),m=C==null?null:C-u;u=C,l&&l({action:a,location:y.location,delta:m})}function f(C,m){a=Hn.Push;let g=ef(y.location,C,m);n&&n(g,C),u=d()+1;let v=mm(g,u),w=y.createHref(g);try{s.pushState(v,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(w)}o&&l&&l({action:a,location:y.location,delta:1})}function h(C,m){a=Hn.Replace;let g=ef(y.location,C,m);n&&n(g,C),u=d();let v=mm(g,u),w=y.createHref(g);s.replaceState(v,"",w),o&&l&&l({action:a,location:y.location,delta:0})}function p(C){let m=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof C=="string"?C:Cl(C);return Ce(m,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,m)}let y={get action(){return a},get location(){return t(i,s)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(gm,c),l=C,()=>{i.removeEventListener(gm,c),l=null}},createHref(C){return e(i,C)},createURL:p,encodeLocation(C){let m=p(C);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:h,go(C){return s.go(C)}};return y}var vm;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vm||(vm={}));function ox(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Yi(e):e,i=Dh(r.pathname||"/",n);if(i==null)return null;let o=jw(t);sx(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=gx(o[a],yx(i));return s}function jw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Ce(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=er([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(Ce(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),jw(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:hx(u,o.index),routesMeta:d})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of $w(o.path))i(o,s,l)}),e}function $w(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=$w(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function sx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:px(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ax=/^:\w+$/,lx=3,ux=2,cx=1,dx=10,fx=-2,ym=t=>t==="*";function hx(t,e){let n=t.split("/"),r=n.length;return n.some(ym)&&(r+=fx),e&&(r+=ux),n.filter(i=>!ym(i)).reduce((i,o)=>i+(ax.test(o)?lx:o===""?cx:dx),r)}function px(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function gx(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=mx({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!d)return null;Object.assign(r,d.params);let c=a.route;o.push({params:r,pathname:er([i,d.pathname]),pathnameBase:Ex(er([i,d.pathnameBase])),route:c}),d.pathnameBase!=="/"&&(i=er([i,d.pathnameBase]))}return o}function mx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=vx(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,c)=>{if(d==="*"){let f=a[c]||"";s=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}return u[d]=_x(a[c]||"",d),u},{}),pathname:o,pathnameBase:s,pattern:t}}function vx(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Rh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function yx(t){try{return decodeURI(t)}catch(e){return Rh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _x(t,e){try{return decodeURIComponent(t)}catch(n){return Rh(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Dh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function wx(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Yi(t):t;return{pathname:n?n.startsWith("/")?n:Cx(n,e):e,search:Sx(r),hash:bx(i)}}function Cx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Nc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ww(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Yi(t):(i=ds({},t),Ce(!i.pathname||!i.pathname.includes("?"),Nc("?","pathname","search",i)),Ce(!i.pathname||!i.pathname.includes("#"),Nc("#","pathname","hash",i)),Ce(!i.search||!i.search.includes("#"),Nc("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let c=e.length-1;if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),c-=1;i.pathname=f.join("/")}a=c>=0?e[c]:"/"}let l=wx(i,a),u=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const er=t=>t.join("/").replace(/\/\/+/g,"/"),Ex=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Sx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ix(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Vw=["post","put","patch","delete"];new Set(Vw);const xx=["get",...Vw];new Set(xx);/**
 * React Router v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function El(){return El=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},El.apply(this,arguments)}const kh=E.createContext(null),Tx=E.createContext(null),Qi=E.createContext(null),vu=E.createContext(null),_r=E.createContext({outlet:null,matches:[],isDataRoute:!1}),Hw=E.createContext(null);function Px(t,e){let{relative:n}=e===void 0?{}:e;Bs()||Ce(!1);let{basename:r,navigator:i}=E.useContext(Qi),{hash:o,pathname:s,search:a}=qw(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:er([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Bs(){return E.useContext(vu)!=null}function Fs(){return Bs()||Ce(!1),E.useContext(vu).location}function Gw(t){E.useContext(Qi).static||E.useLayoutEffect(t)}function Lt(){let{isDataRoute:t}=E.useContext(_r);return t?$x():Rx()}function Rx(){Bs()||Ce(!1);let t=E.useContext(kh),{basename:e,navigator:n}=E.useContext(Qi),{matches:r}=E.useContext(_r),{pathname:i}=Fs(),o=JSON.stringify(Ww(r).map(l=>l.pathnameBase)),s=E.useRef(!1);return Gw(()=>{s.current=!0}),E.useCallback(function(l,u){if(u===void 0&&(u={}),!s.current)return;if(typeof l=="number"){n.go(l);return}let d=zw(l,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:er([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,o,i,t])}function Xi(){let{matches:t}=E.useContext(_r),e=t[t.length-1];return e?e.params:{}}function qw(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=E.useContext(_r),{pathname:i}=Fs(),o=JSON.stringify(Ww(r).map(s=>s.pathnameBase));return E.useMemo(()=>zw(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function Dx(t,e){return kx(t,e)}function kx(t,e,n){Bs()||Ce(!1);let{navigator:r}=E.useContext(Qi),{matches:i}=E.useContext(_r),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=Fs(),u;if(e){var d;let y=typeof e=="string"?Yi(e):e;a==="/"||(d=y.pathname)!=null&&d.startsWith(a)||Ce(!1),u=y}else u=l;let c=u.pathname||"/",f=a==="/"?c:c.slice(a.length)||"/",h=ox(t,{pathname:f}),p=Mx(h&&h.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:er([a,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:er([a,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n);return e&&p?E.createElement(vu.Provider,{value:{location:El({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Hn.Pop}},p):p}function Nx(){let t=jx(),e=Ix(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,o)}const Ax=E.createElement(Nx,null);class Ox extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?E.createElement(_r.Provider,{value:this.props.routeContext},E.createElement(Hw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Lx(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(kh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(_r.Provider,{value:e},r)}function Mx(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||Ce(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,l,u)=>{let d=l.route.id?s==null?void 0:s[l.route.id]:null,c=null;n&&(c=l.route.errorElement||Ax);let f=e.concat(o.slice(0,u+1)),h=()=>{let p;return d?p=c:l.route.Component?p=E.createElement(l.route.Component,null):l.route.element?p=l.route.element:p=a,E.createElement(Lx,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:p})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?E.createElement(Ox,{location:n.location,revalidation:n.revalidation,component:c,error:d,children:h(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):h()},null)}var Kw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Kw||{}),Sl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Sl||{});function Bx(t){let e=E.useContext(kh);return e||Ce(!1),e}function Fx(t){let e=E.useContext(Tx);return e||Ce(!1),e}function Ux(t){let e=E.useContext(_r);return e||Ce(!1),e}function Yw(t){let e=Ux(),n=e.matches[e.matches.length-1];return n.route.id||Ce(!1),n.route.id}function jx(){var t;let e=E.useContext(Hw),n=Fx(Sl.UseRouteError),r=Yw(Sl.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function $x(){let{router:t}=Bx(Kw.UseNavigateStable),e=Yw(Sl.UseNavigateStable),n=E.useRef(!1);return Gw(()=>{n.current=!0}),E.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,El({fromRouteId:e},o)))},[t,e])}function $e(t){Ce(!1)}function Wx(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Hn.Pop,navigator:o,static:s=!1}=t;Bs()&&Ce(!1);let a=e.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=Yi(r));let{pathname:u="/",search:d="",hash:c="",state:f=null,key:h="default"}=r,p=E.useMemo(()=>{let y=Dh(u,a);return y==null?null:{location:{pathname:y,search:d,hash:c,state:f,key:h},navigationType:i}},[a,u,d,c,f,h,i]);return p==null?null:E.createElement(Qi.Provider,{value:l},E.createElement(vu.Provider,{children:n,value:p}))}function zx(t){let{children:e,location:n}=t;return Dx(tf(e),n)}new Promise(()=>{});function tf(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let o=[...e,i];if(r.type===E.Fragment){n.push.apply(n,tf(r.props.children,o));return}r.type!==$e&&Ce(!1),!r.props.index||!r.props.children||Ce(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=tf(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nf(){return nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nf.apply(this,arguments)}function Vx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Hx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Gx(t,e){return t.button===0&&(!e||e==="_self")&&!Hx(t)}function rf(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function qx(t,e){let n=rf(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(o=>{n.append(i,o)})}),n}const Kx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Yx="startTransition",_m=HS[Yx];function Qx(t){let{basename:e,children:n,future:r,window:i}=t,o=E.useRef();o.current==null&&(o.current=nx({window:i,v5Compat:!0}));let s=o.current,[a,l]=E.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},d=E.useCallback(c=>{u&&_m?_m(()=>l(c)):l(c)},[l,u]);return E.useLayoutEffect(()=>s.listen(d),[s,d]),E.createElement(Wx,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s})}const Xx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Jx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tn=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:d,unstable_viewTransition:c}=e,f=Vx(e,Kx),{basename:h}=E.useContext(Qi),p,y=!1;if(typeof u=="string"&&Jx.test(u)&&(p=u,Xx))try{let v=new URL(window.location.href),w=u.startsWith("//")?new URL(v.protocol+u):new URL(u),S=Dh(w.pathname,h);w.origin===v.origin&&S!=null?u=S+w.search+w.hash:y=!0}catch{}let C=Px(u,{relative:i}),m=Zx(u,{replace:s,state:a,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:c});function g(v){r&&r(v),v.defaultPrevented||m(v)}return E.createElement("a",nf({},f,{href:p||C,onClick:y||o?r:g,ref:n,target:l}))});var wm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(wm||(wm={}));var Cm;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Cm||(Cm={}));function Zx(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=Lt(),u=Fs(),d=qw(t,{relative:s});return E.useCallback(c=>{if(Gx(c,n)){c.preventDefault();let f=r!==void 0?r:Cl(u)===Cl(d);l(t,{replace:f,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[u,l,d,r,i,n,t,o,s,a])}function eT(t){let e=E.useRef(rf(t)),n=E.useRef(!1),r=Fs(),i=E.useMemo(()=>qx(r.search,n.current?null:e.current),[r.search]),o=Lt(),s=E.useCallback((a,l)=>{const u=rf(typeof a=="function"?a(i):a);n.current=!0,o("?"+u,l)},[o,i]);return[i,s]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P=function(t,e){if(!t)throw Ji(e)},Ji=function(t){return new Error("Firebase Database ("+Qw.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},tT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Nh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=o>>2,c=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,s||(f=64)),r.push(n[d],n[c],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Xw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||c==null)throw new nT;const f=o<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),c!==64){const p=u<<6&192|c;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jw=function(t){const e=Xw(t);return Nh.encodeByteArray(e,!0)},bl=function(t){return Jw(t).replace(/\./g,"")},Il=function(t){try{return Nh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t){return Zw(void 0,t)}function Zw(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!iT(n)||(t[n]=Zw(t[n],e[n]));return t}function iT(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=()=>oT().__FIREBASE_DEFAULTS__,aT=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Il(t[1]);return e&&JSON.parse(e)},Ah=()=>{try{return sT()||aT()||lT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},e0=t=>{var e,n;return(n=(e=Ah())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},uT=t=>{const e=e0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},t0=()=>{var t;return(t=Ah())===null||t===void 0?void 0:t.config},n0=t=>{var e;return(e=Ah())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[bl(JSON.stringify(n)),bl(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Oh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function dT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function r0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fT(){const t=He();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function i0(){return Qw.NODE_ADMIN===!0}function hT(){try{return typeof indexedDB=="object"}catch{return!1}}function pT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="FirebaseError";class wr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gT,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Us.prototype.create)}}class Us{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?mT(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new wr(i,a,r)}}function mT(t,e){return t.replace(vT,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const vT=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t){return JSON.parse(t)}function Se(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=fs(Il(o[0])||""),n=fs(Il(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},yT=function(t){const e=o0(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},_T=function(t){const e=o0(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ui(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function of(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xl(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Tl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Em(o)&&Em(s)){if(!Tl(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Em(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Do(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ko(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let c=0;c<16;c++)r[c]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let c=16;c<80;c++){const f=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,d;for(let c=0;c<80;c++){c<40?c<20?(u=a^o&(s^a),d=1518500249):(u=o^s^a,d=1859775393):c<60?(u=o&s|a&(o|s),d=2400959708):(u=o^s^a,d=3395469782);const f=(i<<5|i>>>27)+u+l+d+r[c]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function CT(t,e){const n=new ET(t,e);return n.subscribe.bind(n)}class ET{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ST(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ac),i.error===void 0&&(i.error=Ac),i.complete===void 0&&(i.complete=Ac);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ST(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ac(){}function _u(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,P(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wu=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t){return t&&t._delegate?t._delegate:t}class Hr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IT=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TT(e))try{this.getOrInitializeService({instanceIdentifier:Tr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Tr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Tr){return this.instances.has(e)}getOptions(e=Tr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xT(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Tr){return this.component?this.component.multipleInstances?e:Tr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function xT(t){return t===Tr?void 0:t}function TT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(te||(te={}));const RT={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},DT=te.INFO,kT={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},NT=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=kT[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lh{constructor(e){this.name=e,this._logLevel=DT,this._logHandler=NT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}}const AT=(t,e)=>e.some(n=>t instanceof n);let Sm,bm;function OT(){return Sm||(Sm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LT(){return bm||(bm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s0=new WeakMap,sf=new WeakMap,a0=new WeakMap,Oc=new WeakMap,Mh=new WeakMap;function MT(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(tr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&s0.set(n,t)}).catch(()=>{}),Mh.set(e,t),e}function BT(t){if(sf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});sf.set(t,e)}let af={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||a0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FT(t){af=t(af)}function UT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lc(this),e,...n);return a0.set(r,e.sort?e.sort():[e]),tr(r)}:LT().includes(t)?function(...e){return t.apply(Lc(this),e),tr(s0.get(this))}:function(...e){return tr(t.apply(Lc(this),e))}}function jT(t){return typeof t=="function"?UT(t):(t instanceof IDBTransaction&&BT(t),AT(t,OT())?new Proxy(t,af):t)}function tr(t){if(t instanceof IDBRequest)return MT(t);if(Oc.has(t))return Oc.get(t);const e=jT(t);return e!==t&&(Oc.set(t,e),Mh.set(e,t)),e}const Lc=t=>Mh.get(t);function $T(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=tr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(tr(s.result),l.oldVersion,l.newVersion,tr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const WT=["get","getKey","getAll","getAllKeys","count"],zT=["put","add","delete","clear"],Mc=new Map;function Im(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mc.get(e))return Mc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=zT.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WT.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Mc.set(e,o),o}FT(t=>({...t,get:(e,n,r)=>Im(e,n)||t.get(e,n,r),has:(e,n)=>!!Im(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HT(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function HT(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lf="@firebase/app",xm="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new Lh("@firebase/app"),GT="@firebase/app-compat",qT="@firebase/analytics-compat",KT="@firebase/analytics",YT="@firebase/app-check-compat",QT="@firebase/app-check",XT="@firebase/auth",JT="@firebase/auth-compat",ZT="@firebase/database",eP="@firebase/database-compat",tP="@firebase/functions",nP="@firebase/functions-compat",rP="@firebase/installations",iP="@firebase/installations-compat",oP="@firebase/messaging",sP="@firebase/messaging-compat",aP="@firebase/performance",lP="@firebase/performance-compat",uP="@firebase/remote-config",cP="@firebase/remote-config-compat",dP="@firebase/storage",fP="@firebase/storage-compat",hP="@firebase/firestore",pP="@firebase/firestore-compat",gP="firebase",mP="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf="[DEFAULT]",vP={[lf]:"fire-core",[GT]:"fire-core-compat",[KT]:"fire-analytics",[qT]:"fire-analytics-compat",[QT]:"fire-app-check",[YT]:"fire-app-check-compat",[XT]:"fire-auth",[JT]:"fire-auth-compat",[ZT]:"fire-rtdb",[eP]:"fire-rtdb-compat",[tP]:"fire-fn",[nP]:"fire-fn-compat",[rP]:"fire-iid",[iP]:"fire-iid-compat",[oP]:"fire-fcm",[sP]:"fire-fcm-compat",[aP]:"fire-perf",[lP]:"fire-perf-compat",[uP]:"fire-rc",[cP]:"fire-rc-compat",[dP]:"fire-gcs",[fP]:"fire-gcs-compat",[hP]:"fire-fst",[pP]:"fire-fst-compat","fire-js":"fire-js",[gP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=new Map,cf=new Map;function yP(t,e){try{t.container.addComponent(e)}catch(n){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ji(t){const e=t.name;if(cf.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;cf.set(e,t);for(const n of Pl.values())yP(n,t);return!0}function Bh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},nr=new Us("app","Firebase",_P);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=mP;function l0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:uf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw nr.create("bad-app-name",{appName:String(i)});if(n||(n=t0()),!n)throw nr.create("no-options");const o=Pl.get(i);if(o){if(Tl(n,o.options)&&Tl(r,o.config))return o;throw nr.create("duplicate-app",{appName:i})}const s=new PT(i);for(const l of cf.values())s.addComponent(l);const a=new wP(n,r,s);return Pl.set(i,a),a}function u0(t=uf){const e=Pl.get(t);if(!e&&t===uf&&t0())return l0();if(!e)throw nr.create("no-app",{appName:t});return e}function rr(t,e,n){var r;let i=(r=vP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(a.join(" "));return}ji(new Hr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP="firebase-heartbeat-database",EP=1,hs="firebase-heartbeat-store";let Bc=null;function c0(){return Bc||(Bc=$T(CP,EP,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(hs)}}}).catch(t=>{throw nr.create("idb-open",{originalErrorMessage:t.message})})),Bc}async function SP(t){try{return await(await c0()).transaction(hs).objectStore(hs).get(d0(t))}catch(e){if(e instanceof wr)Gr.warn(e.message);else{const n=nr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gr.warn(n.message)}}}async function Tm(t,e){try{const r=(await c0()).transaction(hs,"readwrite");await r.objectStore(hs).put(e,d0(t)),await r.done}catch(n){if(n instanceof wr)Gr.warn(n.message);else{const r=nr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gr.warn(r.message)}}}function d0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=1024,IP=30*24*60*60*1e3;class xP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Pm();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=IP}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Pm(),{heartbeatsToSend:r,unsentEntries:i}=TP(this._heartbeatsCache.heartbeats),o=bl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Pm(){return new Date().toISOString().substring(0,10)}function TP(t,e=bP){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Rm(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Rm(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class PP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hT()?pT().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await SP(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Tm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Tm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Rm(t){return bl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(t){ji(new Hr("platform-logger",e=>new VT(e),"PRIVATE")),ji(new Hr("heartbeat",e=>new xP(e),"PRIVATE")),rr(lf,xm,t),rr(lf,xm,"esm2017"),rr("fire-js","")}RP("");function Fh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function f0(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DP=f0,h0=new Us("auth","Firebase",f0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=new Lh("@firebase/auth");function kP(t,...e){Rl.logLevel<=te.WARN&&Rl.warn(`Auth (${eo}): ${t}`,...e)}function Ga(t,...e){Rl.logLevel<=te.ERROR&&Rl.error(`Auth (${eo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,...e){throw Uh(t,...e)}function on(t,...e){return Uh(t,...e)}function NP(t,e,n){const r=Object.assign(Object.assign({},DP()),{[e]:n});return new Us("auth","Firebase",r).create(e,{appName:t.name})}function Uh(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return h0.create(t,...e)}function j(t,e,...n){if(!t)throw Uh(e,...n)}function yn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ga(e),new Error(e)}function Tn(t,e){t||yn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function AP(){return Dm()==="http:"||Dm()==="https:"}function Dm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AP()||dT()||"connection"in navigator)?navigator.onLine:!0}function LP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){this.shortDelay=e,this.longDelay=n,Tn(n>e,"Short delay should be less than long delay!"),this.isMobile=Oh()||r0()}get(){return OP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t,e){Tn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=new js(3e4,6e4);function Cr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Er(t,e,n,r,i={}){return g0(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Zi(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),p0.fetch()(m0(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function g0(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},MP),e);try{const i=new UP(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Ta(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ta(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Ta(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Ta(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw NP(t,d,u);Kt(t,d)}}catch(i){if(i instanceof wr)throw i;Kt(t,"network-request-failed",{message:String(i)})}}async function $s(t,e,n,r,i={}){const o=await Er(t,e,n,r,i);return"mfaPendingCredential"in o&&Kt(t,"multi-factor-auth-required",{_serverResponse:o}),o}function m0(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?jh(t.config,i):`${t.config.apiScheme}://${i}`}function FP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(on(this.auth,"network-request-failed")),BP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ta(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=on(t,e,r);return i.customData._tokenResponse=n,i}function km(t){return t!==void 0&&t.enterprise!==void 0}class jP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return FP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function $P(t,e){return Er(t,"GET","/v2/recaptchaConfig",Cr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WP(t,e){return Er(t,"POST","/v1/accounts:delete",e)}async function zP(t,e){return Er(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VP(t,e=!1){const n=et(t),r=await n.getIdToken(e),i=$h(r);j(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:$o(Fc(i.auth_time)),issuedAtTime:$o(Fc(i.iat)),expirationTime:$o(Fc(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Fc(t){return Number(t)*1e3}function $h(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ga("JWT malformed, contained fewer than 3 sections"),null;try{const i=Il(n);return i?JSON.parse(i):(Ga("Failed to decode base64 JWT payload"),null)}catch(i){return Ga("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function HP(t){const e=$h(t);return j(e,"internal-error"),j(typeof e.exp<"u","internal-error"),j(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ps(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wr&&GP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function GP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$o(this.lastLoginAt),this.creationTime=$o(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ps(t,zP(n,{idToken:r}));j(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?QP(o.providerUserInfo):[],a=YP(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,c={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new v0(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,c)}async function KP(t){const e=et(t);await Dl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function QP(t){return t.map(e=>{var{providerId:n}=e,r=Fh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XP(t,e){const n=await g0(t,{},async()=>{const r=Zi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=m0(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",p0.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function JP(t,e){return Er(t,"POST","/v2/accounts:revokeToken",Cr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){j(e.idToken,"internal-error"),j(typeof e.idToken<"u","internal-error"),j(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return j(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await XP(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new gs;return r&&(j(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(j(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(j(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gs,this.toJSON())}_performRefresh(){return yn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t,e){j(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Br{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Fh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new v0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ps(this,this.stsTokenManager.getToken(this.auth,e));return j(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return VP(this,e)}reload(){return KP(this)}_assign(e){this!==e&&(j(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Br(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Dl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ps(this,WP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,d;const c=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:v,emailVerified:w,isAnonymous:S,providerData:b,stsTokenManager:x}=n;j(v&&x,e,"internal-error");const I=gs.fromJSON(this.name,x);j(typeof v=="string",e,"internal-error"),An(c,e.name),An(f,e.name),j(typeof w=="boolean",e,"internal-error"),j(typeof S=="boolean",e,"internal-error"),An(h,e.name),An(p,e.name),An(y,e.name),An(C,e.name),An(m,e.name),An(g,e.name);const D=new Br({uid:v,auth:e,email:f,emailVerified:w,displayName:c,isAnonymous:S,photoURL:p,phoneNumber:h,tenantId:y,stsTokenManager:I,createdAt:m,lastLoginAt:g});return b&&Array.isArray(b)&&(D.providerData=b.map(k=>Object.assign({},k))),C&&(D._redirectEventId=C),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new gs;i.updateFromServerResponse(n);const o=new Br({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Dl(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=new Map;function _n(t){Tn(t instanceof Function,"Expected a class definition");let e=Nm.get(t);return e?(Tn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Nm.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}y0.type="NONE";const Am=y0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(t,e,n){return`firebase:${t}:${e}:${n}`}class Pi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=qa(this.userKey,i.apiKey,o),this.fullPersistenceKey=qa("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Br._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pi(_n(Am),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||_n(Am);const s=qa(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(s);if(d){const c=Br._fromJSON(e,d);u!==o&&(a=c),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Pi(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Pi(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(C0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S0(e))return"Blackberry";if(b0(e))return"Webos";if(Wh(e))return"Safari";if((e.includes("chrome/")||w0(e))&&!e.includes("edge/"))return"Chrome";if(E0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _0(t=He()){return/firefox\//i.test(t)}function Wh(t=He()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w0(t=He()){return/crios\//i.test(t)}function C0(t=He()){return/iemobile/i.test(t)}function E0(t=He()){return/android/i.test(t)}function S0(t=He()){return/blackberry/i.test(t)}function b0(t=He()){return/webos/i.test(t)}function Cu(t=He()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ZP(t=He()){var e;return Cu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function e1(){return fT()&&document.documentMode===10}function I0(t=He()){return Cu(t)||E0(t)||b0(t)||S0(t)||/windows phone/i.test(t)||C0(t)}function t1(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(t,e=[]){let n;switch(t){case"Browser":n=Om(He());break;case"Worker":n=`${Om(He())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${eo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r1(t,e={}){return Er(t,"GET","/v2/passwordPolicy",Cr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=6;class o1{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:i1,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lm(this),this.idTokenSubscription=new Lm(this),this.beforeStateQueue=new n1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_n(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Pi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return j(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dl(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?et(e):null;return n&&j(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&j(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(_n(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await r1(this),n=new o1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Us("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await JP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_n(e)||this._popupRedirectResolver;j(n,this,"argument-error"),this.redirectPersistenceManager=await Pi.create(this,[_n(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(j(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=x0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&kP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ti(t){return et(t)}class Lm{constructor(e){this.auth=e,this.observer=null,this.addObserver=CT(n=>this.observer=n)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function T0(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=on("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",a1().appendChild(r)})}function l1(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const u1="https://www.google.com/recaptcha/enterprise.js?render=",c1="recaptcha-enterprise",d1="NO_RECAPTCHA";class f1{constructor(e){this.type=c1,this.auth=ti(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{$P(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new jP(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;km(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(d1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&km(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}T0(u1+a).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}}async function Mm(t,e,n,r=!1){const i=new f1(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function ff(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Mm(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await Mm(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t,e){const n=Bh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Tl(o,e??{}))return i;Kt(i,"already-initialized")}return n.initialize({options:e})}function p1(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_n);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function g1(t,e,n){const r=ti(t);j(r._canInitEmulator,r,"emulator-config-failed"),j(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=P0(e),{host:s,port:a}=m1(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||v1()}function P0(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function m1(t){const e=P0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Bm(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Bm(s)}}}function Bm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function v1(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yn("not implemented")}_getIdTokenResponse(e){return yn("not implemented")}_linkToIdToken(e,n){return yn("not implemented")}_getReauthenticationResolver(e){return yn("not implemented")}}async function y1(t,e){return Er(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(t,e){return $s(t,"POST","/v1/accounts:signInWithPassword",Cr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w1(t,e){return $s(t,"POST","/v1/accounts:signInWithEmailLink",Cr(t,e))}async function C1(t,e){return $s(t,"POST","/v1/accounts:signInWithEmailLink",Cr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends zh{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ms(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ms(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ff(e,n,"signInWithPassword",_1);case"emailLink":return w1(e,{email:this._email,oobCode:this._password});default:Kt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ff(e,r,"signUpPassword",y1);case"emailLink":return C1(e,{idToken:n,email:this._email,oobCode:this._password});default:Kt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ri(t,e){return $s(t,"POST","/v1/accounts:signInWithIdp",Cr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="http://localhost";class qr extends zh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Fh(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new qr(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Ri(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ri(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ri(e,n)}buildRequest(){const e={requestUri:E1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zi(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function b1(t){const e=Do(ko(t)).link,n=e?Do(ko(e)).deep_link_id:null,r=Do(ko(t)).deep_link_id;return(r?Do(ko(r)).link:null)||r||n||e||t}class Vh{constructor(e){var n,r,i,o,s,a;const l=Do(ko(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,c=S1((i=l.mode)!==null&&i!==void 0?i:null);j(u&&d&&c,"argument-error"),this.apiKey=u,this.operation=c,this.code=d,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=b1(e);try{return new Vh(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.providerId=to.PROVIDER_ID}static credential(e,n){return ms._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Vh.parseLink(n);return j(r,"argument-error"),ms._fromEmailAndCode(e,r.code,r.tenantId)}}to.PROVIDER_ID="password";to.EMAIL_PASSWORD_SIGN_IN_METHOD="password";to.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends R0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un extends Ws{constructor(){super("facebook.com")}static credential(e){return qr._fromParams({providerId:Un.PROVIDER_ID,signInMethod:Un.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Un.credentialFromTaggedObject(e)}static credentialFromError(e){return Un.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Un.credential(e.oauthAccessToken)}catch{return null}}}Un.FACEBOOK_SIGN_IN_METHOD="facebook.com";Un.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn extends Ws{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qr._fromParams({providerId:jn.PROVIDER_ID,signInMethod:jn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jn.credentialFromTaggedObject(e)}static credentialFromError(e){return jn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return jn.credential(n,r)}catch{return null}}}jn.GOOGLE_SIGN_IN_METHOD="google.com";jn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n extends Ws{constructor(){super("github.com")}static credential(e){return qr._fromParams({providerId:$n.PROVIDER_ID,signInMethod:$n.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $n.credentialFromTaggedObject(e)}static credentialFromError(e){return $n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $n.credential(e.oauthAccessToken)}catch{return null}}}$n.GITHUB_SIGN_IN_METHOD="github.com";$n.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn extends Ws{constructor(){super("twitter.com")}static credential(e,n){return qr._fromParams({providerId:Wn.PROVIDER_ID,signInMethod:Wn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wn.credentialFromTaggedObject(e)}static credentialFromError(e){return Wn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wn.credential(n,r)}catch{return null}}}Wn.TWITTER_SIGN_IN_METHOD="twitter.com";Wn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(t,e){return $s(t,"POST","/v1/accounts:signUp",Cr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Br._fromIdTokenResponse(e,r,i),s=Fm(r);return new Kr({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Fm(r);return new Kr({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Fm(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends wr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,kl.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new kl(e,n,r,i)}}function D0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?kl._fromErrorAndOperation(t,o,e,r):o})}async function x1(t,e,n=!1){const r=await ps(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Kr._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T1(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await ps(t,D0(r,i,e,t),n);j(o.idToken,r,"internal-error");const s=$h(o.idToken);j(s,r,"internal-error");const{sub:a}=s;return j(t.uid===a,r,"user-mismatch"),Kr._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Kt(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k0(t,e,n=!1){const r="signIn",i=await D0(t,r,e),o=await Kr._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function P1(t,e){return k0(ti(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N0(t){const e=ti(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function R1(t,e,n){const r=ti(t),s=await ff(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",I1).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&N0(t),l}),a=await Kr._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function D1(t,e,n){return P1(et(t),to.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&N0(t),r})}function k1(t,e,n,r){return et(t).onIdTokenChanged(e,n,r)}function N1(t,e,n){return et(t).beforeAuthStateChanged(e,n)}function A1(t,e,n,r){return et(t).onAuthStateChanged(e,n,r)}const Nl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nl,"1"),this.storage.removeItem(Nl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(){const t=He();return Wh(t)||Cu(t)}const L1=1e3,M1=10;class O0 extends A0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=O1()&&t1(),this.fallbackToPolling=I0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);e1()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,M1):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},L1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}O0.type="LOCAL";const B1=O0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0 extends A0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}L0.type="SESSION";const M0=L0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Eu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await F1(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Hh("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(c){const f=c;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return window}function j1(t){sn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(){return typeof sn().WorkerGlobalScope<"u"&&typeof sn().importScripts=="function"}async function $1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function W1(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function z1(){return B0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="firebaseLocalStorageDb",V1=1,Al="firebaseLocalStorage",U0="fbase_key";class zs{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Su(t,e){return t.transaction([Al],e?"readwrite":"readonly").objectStore(Al)}function H1(){const t=indexedDB.deleteDatabase(F0);return new zs(t).toPromise()}function hf(){const t=indexedDB.open(F0,V1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Al,{keyPath:U0})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Al)?e(r):(r.close(),await H1(),e(await hf()))})})}async function Um(t,e,n){const r=Su(t,!0).put({[U0]:e,value:n});return new zs(r).toPromise()}async function G1(t,e){const n=Su(t,!1).get(e),r=await new zs(n).toPromise();return r===void 0?null:r.value}function jm(t,e){const n=Su(t,!0).delete(e);return new zs(n).toPromise()}const q1=800,K1=3;class j0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>K1)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eu._getInstance(z1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $1(),!this.activeServiceWorker)return;this.sender=new U1(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||W1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hf();return await Um(e,Nl,"1"),await jm(e,Nl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Um(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>G1(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jm(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Su(i,!1).getAll();return new zs(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}j0.type="LOCAL";const Y1=j0;new js(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(t,e){return e?_n(e):(j(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh extends zh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ri(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ri(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ri(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function X1(t){return k0(t.auth,new Gh(t),t.bypassAuthState)}function J1(t){const{auth:e,user:n}=t;return j(n,e,"internal-error"),T1(n,new Gh(t),t.bypassAuthState)}async function Z1(t){const{auth:e,user:n}=t;return j(n,e,"internal-error"),x1(n,new Gh(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X1;case"linkViaPopup":case"linkViaRedirect":return Z1;case"reauthViaPopup":case"reauthViaRedirect":return J1;default:Kt(this.auth,"internal-error")}}resolve(e){Tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=new js(2e3,1e4);class wi extends $0{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,wi.currentPopupAction&&wi.currentPopupAction.cancel(),wi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return j(e,this.auth,"internal-error"),e}async onExecution(){Tn(this.filter.length===1,"Popup operations only handle one event");const e=Hh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(on(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(on(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(on(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eR.get())};e()}}wi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="pendingRedirect",Ka=new Map;class nR extends $0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ka.get(this.auth._key());if(!e){try{const r=await rR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ka.set(this.auth._key(),e)}return this.bypassAuthState||Ka.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rR(t,e){const n=sR(e),r=oR(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function iR(t,e){Ka.set(t._key(),e)}function oR(t){return _n(t._redirectPersistence)}function sR(t){return qa(tR,t.config.apiKey,t.name)}async function aR(t,e,n=!1){const r=ti(t),i=Q1(r,e),s=await new nR(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=10*60*1e3;class uR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!W0(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(on(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lR&&this.cachedEventUids.clear(),this.cachedEventUids.has($m(e))}saveEventToCache(e){this.cachedEventUids.add($m(e)),this.lastProcessedEventTime=Date.now()}}function $m(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function W0({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W0(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(t,e={}){return Er(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hR=/^https?/;async function pR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dR(t);for(const n of e)try{if(gR(n))return}catch{}Kt(t,"unauthorized-domain")}function gR(t){const e=df(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!hR.test(n))return!1;if(fR.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=new js(3e4,6e4);function Wm(){const t=sn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vR(t){return new Promise((e,n)=>{var r,i,o;function s(){Wm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wm(),n(on(t,"network-request-failed"))},timeout:mR.get()})}if(!((i=(r=sn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=sn().gapi)===null||o===void 0)&&o.load)s();else{const a=l1("iframefcb");return sn()[a]=()=>{gapi.load?s():n(on(t,"network-request-failed"))},T0(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ya=null,e})}let Ya=null;function yR(t){return Ya=Ya||vR(t),Ya}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=new js(5e3,15e3),wR="__/auth/iframe",CR="emulator/auth/iframe",ER={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bR(t){const e=t.config;j(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?jh(e,CR):`https://${t.config.authDomain}/${wR}`,r={apiKey:e.apiKey,appName:t.name,v:eo},i=SR.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Zi(r).slice(1)}`}async function IR(t){const e=await yR(t),n=sn().gapi;return j(n,t,"internal-error"),e.open({where:document.body,url:bR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ER,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=on(t,"network-request-failed"),a=sn().setTimeout(()=>{o(s)},_R.get());function l(){sn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TR=500,PR=600,RR="_blank",DR="http://localhost";class zm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kR(t,e,n,r=TR,i=PR){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},xR),{width:r.toString(),height:i.toString(),top:o,left:s}),u=He().toLowerCase();n&&(a=w0(u)?RR:n),_0(u)&&(e=e||DR,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(ZP(u)&&a!=="_self")return NR(e||"",a),new zm(null);const c=window.open(e||"",a,d);j(c,t,"popup-blocked");try{c.focus()}catch{}return new zm(c)}function NR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="__/auth/handler",OR="emulator/auth/handler",LR=encodeURIComponent("fac");async function Vm(t,e,n,r,i,o){j(t.config.authDomain,t,"auth-domain-config-required"),j(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:eo,eventId:i};if(e instanceof R0){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",of(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,c]of Object.entries(o||{}))s[d]=c}if(e instanceof Ws){const d=e.getScopes().filter(c=>c!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${LR}=${encodeURIComponent(l)}`:"";return`${MR(t)}?${Zi(a).slice(1)}${u}`}function MR({config:t}){return t.emulator?jh(t,OR):`https://${t.authDomain}/${AR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc="webStorageSupport";class BR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=M0,this._completeRedirectFn=aR,this._overrideRedirectResult=iR}async _openPopup(e,n,r,i){var o;Tn((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Vm(e,n,r,df(),i);return kR(e,s,Hh())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await Vm(e,n,r,df(),i);return j1(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Tn(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await IR(e),r=new uR(e);return n.register("authEvent",i=>(j(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Uc,{type:Uc},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Uc];s!==void 0&&n(!!s),Kt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return I0()||Wh()||Cu()}}const FR=BR;var Hm="@firebase/auth",Gm="1.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function $R(t){ji(new Hr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;j(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x0(t)},u=new s1(r,i,o,l);return p1(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ji(new Hr("auth-internal",e=>{const n=ti(e.getProvider("auth").getImmediate());return(r=>new UR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(Hm,Gm,jR(t)),rr(Hm,Gm,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=5*60,zR=n0("authIdTokenMaxAge")||WR;let qm=null;const VR=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>zR)return;const i=n==null?void 0:n.token;qm!==i&&(qm=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Yt(t=u0()){const e=Bh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=h1(t,{popupRedirectResolver:FR,persistence:[Y1,B1,M0]}),r=n0("authTokenSyncURL");if(r){const o=VR(r);N1(n,o,()=>o(n.currentUser)),k1(n,s=>o(s))}const i=e0("auth");return i&&g1(n,`http://${i}`),n}$R("Browser");const HR=()=>{const[t,e]=E.useState("");return E.useEffect(()=>{const n=Yt(),r=A1(n,i=>{if(i){const o=i.email,s=o.substring(0,o.indexOf("@"));e(s)}else e("")});return()=>r()},[]),_.jsxs("div",{style:On.navbar,children:[_.jsx("div",{style:On.logo,children:_.jsx(tn,{to:"",style:On.link,children:"ShareText"})}),_.jsx("div",{style:On.navLinks,children:t?_.jsxs(_.Fragment,{children:[_.jsx("a",{href:"/Logout",style:On.link,children:"Logout"}),_.jsx(tn,{to:"/Me",style:On.profileButton,children:t})]}):_.jsxs(_.Fragment,{children:[_.jsx(tn,{to:"/Login",style:On.link,children:"Login"}),_.jsx(tn,{to:"/Signup",style:On.link,children:"Signup"})]})})]})},On={profileButton:{padding:"8px 12px",textDecoration:"none",color:"#ecf0f1",backgroundColor:"#3498db",borderRadius:"5px",transition:"background-color 0.3s ease",fontWeight:"bold",marginLeft:"10px"},navbar:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",backgroundColor:"#2c3e50",color:"#ecf0f1",position:"fixed",top:"0",left:"0",right:"0",zIndex:"1000"},logo:{fontSize:"1.5rem",fontWeight:"bold",margin:"0"},navLinks:{display:"flex",alignItems:"center"},link:{margin:"0 1rem",textDecoration:"none",color:"#ecf0f1"}},Km="@firebase/database",Ym="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z0="";function GR(t){z0=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Se(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:fs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return un(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new qR(e)}}catch{}return new KR},Ar=V0("localStorage"),pf=V0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new Lh("@firebase/database"),YR=function(){let t=1;return function(){return t++}}(),H0=function(t){const e=bT(t),n=new wT;n.update(e);const r=n.digest();return Nh.encodeByteArray(r)},Vs=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Vs.apply(null,r):typeof r=="object"?e+=Se(r):e+=r,e+=" "}return e};let Fr=null,Qm=!0;const QR=function(t,e){P(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Di.logLevel=te.VERBOSE,Fr=Di.log.bind(Di),e&&pf.set("logging_enabled",!0)):typeof t=="function"?Fr=t:(Fr=null,pf.remove("logging_enabled"))},ze=function(...t){if(Qm===!0&&(Qm=!1,Fr===null&&pf.get("logging_enabled")===!0&&QR(!0)),Fr){const e=Vs.apply(null,t);Fr(e)}},Hs=function(t){return function(...e){ze(t,...e)}},gf=function(...t){const e="FIREBASE INTERNAL ERROR: "+Vs(...t);Di.error(e)},Pn=function(...t){const e=`FIREBASE FATAL ERROR: ${Vs(...t)}`;throw Di.error(e),new Error(e)},ct=function(...t){const e="FIREBASE WARNING: "+Vs(...t);Di.warn(e)},XR=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ct("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},qh=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},JR=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Yr="[MIN_NAME]",dr="[MAX_NAME]",no=function(t,e){if(t===e)return 0;if(t===Yr||e===dr)return-1;if(e===Yr||t===dr)return 1;{const n=Xm(t),r=Xm(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},ZR=function(t,e){return t===e?0:t<e?-1:1},_o=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Se(e))},Kh=function(t){if(typeof t!="object"||t===null)return Se(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Se(e[r]),n+=":",n+=Kh(t[e[r]]);return n+="}",n},G0=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function dt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const q0=function(t){P(!qh(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const d=u.join("");let c="";for(l=0;l<64;l+=8){let f=parseInt(d.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),c=c+f}return c.toLowerCase()},eD=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},tD=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function nD(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const rD=new RegExp("^-?(0*)\\d{1,10}$"),iD=-2147483648,oD=2147483647,Xm=function(t){if(rD.test(t)){const e=Number(t);if(e>=iD&&e<=oD)return e}return null},ro=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ct("Exception was thrown by user callback.",n),e},Math.floor(0))}},sD=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Wo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ct(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ze("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ct(e)}}class ki{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ki.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh="5",K0="v",Y0="s",Q0="r",X0="f",J0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Z0="ls",eC="p",mf="ac",tC="websocket",nC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ar.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ar.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function uD(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function iC(t,e,n){P(typeof e=="string","typeof type must == string"),P(typeof n=="object","typeof params must == object");let r;if(e===tC)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===nC)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);uD(t)&&(n.ns=t.namespace);const i=[];return dt(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.counters_={}}incrementCounter(e,n=1){un(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return rT(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc={},$c={};function Qh(t){const e=t.toString();return jc[e]||(jc[e]=new cD),jc[e]}function dD(t,e){const n=t.toString();return $c[n]||($c[n]=e()),$c[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ro(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="start",hD="close",pD="pLPCommand",gD="pRTLPCB",oC="id",sC="pw",aC="ser",mD="cb",vD="seg",yD="ts",_D="d",wD="dframe",lC=1870,uC=30,CD=lC-uC,ED=25e3,SD=3e4;class Ci{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Hs(e),this.stats_=Qh(n),this.urlFn=l=>(this.appCheckToken&&(l[mf]=this.appCheckToken),iC(n,nC,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new fD(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(SD)),JR(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Xh((...o)=>{const[s,a,l,u,d]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===Jm)this.id=a,this.password=l;else if(s===hD)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Jm]="t",r[aC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[mD]=this.scriptTagHolder.uniqueCallbackIdentifier),r[K0]=Yh,this.transportSessionId&&(r[Y0]=this.transportSessionId),this.lastSessionId&&(r[Z0]=this.lastSessionId),this.applicationId&&(r[eC]=this.applicationId),this.appCheckToken&&(r[mf]=this.appCheckToken),typeof location<"u"&&location.hostname&&J0.test(location.hostname)&&(r[Q0]=X0);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ci.forceAllow_=!0}static forceDisallow(){Ci.forceDisallow_=!0}static isAvailable(){return Ci.forceAllow_?!0:!Ci.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!eD()&&!tD()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Se(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Jw(n),i=G0(r,CD);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[wD]="t",r[oC]=e,r[sC]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Se(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Xh{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=YR(),window[pD+this.uniqueCallbackIdentifier]=e,window[gD+this.uniqueCallbackIdentifier]=n,this.myIFrame=Xh.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){ze("frame writing exception"),a.stack&&ze(a.stack),ze(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ze("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[oC]=this.myID,e[sC]=this.myPW,e[aC]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+uC+r.length<=lC;){const s=this.pendingSegs.shift();r=r+"&"+vD+i+"="+s.seg+"&"+yD+i+"="+s.ts+"&"+_D+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(ED)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ze("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=16384,ID=45e3;let Ol=null;typeof MozWebSocket<"u"?Ol=MozWebSocket:typeof WebSocket<"u"&&(Ol=WebSocket);class jt{constructor(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Hs(this.connId),this.stats_=Qh(n),this.connURL=jt.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[K0]=Yh,typeof location<"u"&&location.hostname&&J0.test(location.hostname)&&(s[Q0]=X0),n&&(s[Y0]=n),r&&(s[Z0]=r),i&&(s[mf]=i),o&&(s[eC]=o),iC(e,tC,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ar.set("previous_websocket_failure",!0);try{let r;i0(),this.mySock=new Ol(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){jt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ol!==null&&!jt.forceDisallow_}static previouslyFailed(){return Ar.isInMemoryStorage||Ar.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ar.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=fs(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(P(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Se(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=G0(n,bD);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(ID))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}jt.responsesRequiredToBeHealthy=2;jt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ci,jt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=jt&&jt.isAvailable();let r=n&&!jt.previouslyFailed();if(e.webSocketOnly&&(n||ct("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[jt];else{const i=this.transports_=[];for(const o of vs.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);vs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}vs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=6e4,TD=5e3,PD=10*1024,RD=100*1024,Wc="t",Zm="d",DD="s",ev="r",kD="e",tv="o",nv="a",rv="n",iv="p",ND="h";class AD{constructor(e,n,r,i,o,s,a,l,u,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Hs("c:"+this.id+":"),this.transportManager_=new vs(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Wo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>RD?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>PD?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Wc in e){const n=e[Wc];n===nv?this.upgradeIfSecondaryHealthy_():n===ev?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===tv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=_o("t",e),r=_o("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:iv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:nv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:rv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=_o("t",e),r=_o("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=_o(Wc,e);if(Zm in e){const r=e[Zm];if(n===ND){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===rv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===DD?this.onConnectionShutdown_(r):n===ev?this.onReset_(r):n===kD?gf("Server Error: "+r):n===tv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):gf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Yh!==r&&ct("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Wo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(xD))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Wo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(TD))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:iv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ar.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.allowedEvents_=e,this.listeners_={},P(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){P(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends dC{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Oh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ll}getInitialEvent(e){return P(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=32,sv=768;class ne{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function X(){return new ne("")}function V(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function fr(t){return t.pieces_.length-t.pieceNum_}function oe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ne(t.pieces_,e)}function fC(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function OD(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function hC(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function pC(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ne(e,0)}function be(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ne)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ne(n,0)}function W(t){return t.pieceNum_>=t.pieces_.length}function Ke(t,e){const n=V(t),r=V(e);if(n===null)return e;if(n===r)return Ke(oe(t),oe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function gC(t,e){if(fr(t)!==fr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function $t(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(fr(t)>fr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class LD{constructor(e,n){this.errorPrefix_=n,this.parts_=hC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=wu(this.parts_[r]);mC(this)}}function MD(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=wu(e),mC(t)}function BD(t){const e=t.parts_.pop();t.byteLength_-=wu(e),t.parts_.length>0&&(t.byteLength_-=1)}function mC(t){if(t.byteLength_>sv)throw new Error(t.errorPrefix_+"has a key path longer than "+sv+" bytes ("+t.byteLength_+").");if(t.parts_.length>ov)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ov+") or object contains a cycle "+Pr(t))}function Pr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends dC{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Jh}getInitialEvent(e){return P(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=1e3,FD=60*5*1e3,av=30*1e3,UD=1.3,jD=3e4,$D="server_kill",lv=3;class En extends cC{constructor(e,n,r,i,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=En.nextPersistentConnectionId_++,this.log_=Hs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=wo,this.maxReconnectDelay_=FD,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!i0())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Jh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ll.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(Se(o)),P(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new yu,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),P(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),P(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,u=a.s;En.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&un(e,"w")){const r=Ui(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();ct(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||_T(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=av)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=yT(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),P(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Se(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):gf("Unrecognized action received from server: "+Se(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){P(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=wo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=wo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>jD&&(this.reconnectDelay_=wo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*UD)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+En.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},u=function(c){P(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(c)};this.realtime_={close:l,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);s?ze("getToken() completed but was canceled"):(ze("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=f&&f.token,a=new AD(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,h=>{ct(h+" ("+this.repoInfo_.toString()+")"),this.interrupt($D)},o))}catch(c){this.log_("Failed to get token: "+c),s||(this.repoInfo_.nodeAdmin&&ct(c),l())}}}interrupt(e){ze("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ze("Resuming connection for reason: "+e),delete this.interruptReasons_[e],of(this.interruptReasons_)&&(this.reconnectDelay_=wo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>Kh(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ne(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){ze("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lv&&(this.reconnectDelay_=av,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ze("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=lv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+z0.replace(/\./g,"-")]=1,Oh()?e["framework.cordova"]=1:r0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ll.getInstance().currentlyOnline();return of(this.interruptReasons_)&&e}}En.nextPersistentConnectionId_=0;En.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new z(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new z(Yr,e),i=new z(Yr,n);return this.compare(r,i)!==0}minPost(){return z.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pa;class vC extends bu{static get __EMPTY_NODE(){return Pa}static set __EMPTY_NODE(e){Pa=e}compare(e,n){return no(e.name,n.name)}isDefinedOn(e){throw Ji("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return z.MIN}maxPost(){return new z(dr,Pa)}makePost(e,n){return P(typeof e=="string","KeyIndex indexValue must always be a string."),new z(e,Pa)}toString(){return".key"}}const Ur=new vC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Pe{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Pe.RED,this.left=i??st.EMPTY_NODE,this.right=o??st.EMPTY_NODE}copy(e,n,r,i,o){return new Pe(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return st.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return st.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Pe.RED=!0;Pe.BLACK=!1;class WD{copy(e,n,r,i,o){return this}insert(e,n,r){return new Pe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class st{constructor(e,n=st.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new st(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Pe.BLACK,null,null))}remove(e){return new st(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Pe.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ra(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ra(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ra(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ra(this.root_,null,this.comparator_,!0,e)}}st.EMPTY_NODE=new WD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t,e){return no(t.name,e.name)}function Zh(t,e){return no(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf;function VD(t){vf=t}const yC=function(t){return typeof t=="number"?"number:"+q0(t):"string:"+t},_C=function(t){if(t.isLeafNode()){const e=t.val();P(typeof e=="string"||typeof e=="number"||typeof e=="object"&&un(e,".sv"),"Priority must be a string or number.")}else P(t===vf||t.isEmpty(),"priority of unexpected type.");P(t===vf||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uv;class xe{constructor(e,n=xe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,P(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),_C(this.priorityNode_)}static set __childrenNodeConstructor(e){uv=e}static get __childrenNodeConstructor(){return uv}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new xe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:xe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return W(e)?this:V(e)===".priority"?this.priorityNode_:xe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:xe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=V(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(P(r!==".priority"||fr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,xe.__childrenNodeConstructor.EMPTY_NODE.updateChild(oe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+yC(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=q0(this.value_):e+=this.value_,this.lazyHash_=H0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===xe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof xe.__childrenNodeConstructor?-1:(P(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=xe.VALUE_TYPE_ORDER.indexOf(n),o=xe.VALUE_TYPE_ORDER.indexOf(r);return P(i>=0,"Unknown leaf type: "+n),P(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}xe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wC,CC;function HD(t){wC=t}function GD(t){CC=t}class qD extends bu{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?no(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return z.MIN}maxPost(){return new z(dr,new xe("[PRIORITY-POST]",CC))}makePost(e,n){const r=wC(e);return new z(n,new xe("[PRIORITY-POST]",r))}toString(){return".priority"}}const pe=new qD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=Math.log(2);class YD{constructor(e){const n=o=>parseInt(Math.log(o)/KD,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ml=function(t,e,n,r){t.sort(e);const i=function(l,u){const d=u-l;let c,f;if(d===0)return null;if(d===1)return c=t[l],f=n?n(c):c,new Pe(f,c.node,Pe.BLACK,null,null);{const h=parseInt(d/2,10)+l,p=i(l,h),y=i(h+1,u);return c=t[h],f=n?n(c):c,new Pe(f,c.node,Pe.BLACK,p,y)}},o=function(l){let u=null,d=null,c=t.length;const f=function(p,y){const C=c-p,m=c;c-=p;const g=i(C+1,m),v=t[C],w=n?n(v):v;h(new Pe(w,v.node,y,null,g))},h=function(p){u?(u.left=p,u=p):(d=p,u=p)};for(let p=0;p<l.count;++p){const y=l.nextBitIsOne(),C=Math.pow(2,l.count-(p+1));y?f(C,Pe.BLACK):(f(C,Pe.BLACK),f(C,Pe.RED))}return d},s=new YD(t.length),a=o(s);return new st(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc;const oi={};class wn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return P(oi&&pe,"ChildrenNode.ts has not been loaded"),zc=zc||new wn({".priority":oi},{".priority":pe}),zc}get(e){const n=Ui(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof st?n:null}hasIndex(e){return un(this.indexSet_,e.toString())}addIndex(e,n){P(e!==Ur,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(z.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Ml(r,e.getCompare()):a=oi;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new wn(d,u)}addToIndexes(e,n){const r=xl(this.indexes_,(i,o)=>{const s=Ui(this.indexSet_,o);if(P(s,"Missing index implementation for "+o),i===oi)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(z.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Ml(a,s.getCompare())}else return oi;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new z(e.name,a))),l.insert(e,e.node)}});return new wn(r,this.indexSet_)}removeFromIndexes(e,n){const r=xl(this.indexes_,i=>{if(i===oi)return i;{const o=n.get(e.name);return o?i.remove(new z(e.name,o)):i}});return new wn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co;class U{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&_C(this.priorityNode_),this.children_.isEmpty()&&P(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Co||(Co=new U(new st(Zh),null,wn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Co}updatePriority(e){return this.children_.isEmpty()?this:new U(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Co:n}}getChild(e){const n=V(e);return n===null?this:this.getImmediateChild(n).getChild(oe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(P(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new z(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?Co:this.priorityNode_;return new U(i,s,o)}}updateChild(e,n){const r=V(e);if(r===null)return n;{P(V(e)!==".priority"||fr(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(oe(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(pe,(s,a)=>{n[s]=a.val(e),r++,o&&U.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+yC(this.getPriority().val())+":"),this.forEachChild(pe,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":H0(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new z(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new z(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new z(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,z.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,z.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Gs?-1:0}withIndex(e){if(e===Ur||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new U(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ur||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(pe),i=n.getIterator(pe);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===Ur?null:this.indexMap_.get(e.toString())}}U.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class QD extends U{constructor(){super(new st(Zh),U.EMPTY_NODE,wn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return U.EMPTY_NODE}isEmpty(){return!1}}const Gs=new QD;Object.defineProperties(z,{MIN:{value:new z(Yr,U.EMPTY_NODE)},MAX:{value:new z(dr,Gs)}});vC.__EMPTY_NODE=U.EMPTY_NODE;xe.__childrenNodeConstructor=U;VD(Gs);GD(Gs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=!0;function Re(t,e=null){if(t===null)return U.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),P(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new xe(n,Re(e))}if(!(t instanceof Array)&&XD){const n=[];let r=!1;if(dt(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=Re(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new z(s,l)))}}),n.length===0)return U.EMPTY_NODE;const o=Ml(n,zD,s=>s.name,Zh);if(r){const s=Ml(n,pe.getCompare());return new U(o,Re(e),new wn({".priority":s},{".priority":pe}))}else return new U(o,Re(e),wn.Default)}else{let n=U.EMPTY_NODE;return dt(t,(r,i)=>{if(un(t,r)&&r.substring(0,1)!=="."){const o=Re(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Re(e))}}HD(Re);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep extends bu{constructor(e){super(),this.indexPath_=e,P(!W(e)&&V(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?no(e.name,n.name):o}makePost(e,n){const r=Re(e),i=U.EMPTY_NODE.updateChild(this.indexPath_,r);return new z(n,i)}maxPost(){const e=U.EMPTY_NODE.updateChild(this.indexPath_,Gs);return new z(dr,e)}toString(){return hC(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD extends bu{compare(e,n){const r=e.node.compareTo(n.node);return r===0?no(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return z.MIN}maxPost(){return z.MAX}makePost(e,n){const r=Re(e);return new z(n,r)}toString(){return".value"}}const EC=new JD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t){return{type:"value",snapshotNode:t}}function $i(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ys(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function _s(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function ZD(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){P(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(ys(n,a)):P(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange($i(n,r)):s.trackChildChange(_s(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(pe,(i,o)=>{n.hasChild(i)||r.trackChildChange(ys(i,o))}),n.isLeafNode()||n.forEachChild(pe,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(_s(i,o,s))}else r.trackChildChange($i(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?U.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.indexedFilter_=new tp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ws.getStartPost_(e),this.endPost_=ws.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new z(n,r))||(r=U.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=U.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(U.EMPTY_NODE);const o=this;return n.forEachChild(pe,(s,a)=>{o.matches(new z(s,a))||(i=i.updateImmediateChild(s,U.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ws(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new z(n,r))||(r=U.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=U.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=U.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(U.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,U.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const c=this.index_.getCompare();s=(f,h)=>c(h,f)}else s=this.index_.getCompare();const a=e;P(a.numChildren()===this.limit_,"");const l=new z(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const c=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:s(f,l);if(d&&!r.isEmpty()&&h>=0)return o!=null&&o.trackChildChange(_s(n,r,c)),a.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(ys(n,c));const y=a.updateImmediateChild(n,U.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o!=null&&o.trackChildChange($i(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?e:d&&s(u,l)>=0?(o!=null&&(o.trackChildChange(ys(u.name,u.node)),o.trackChildChange($i(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,U.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return P(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return P(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Yr}hasEnd(){return this.endSet_}getIndexEndValue(){return P(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return P(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:dr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return P(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pe}copy(){const e=new np;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function tk(t){return t.loadsAllData()?new tp(t.getIndex()):t.hasLimit()?new ek(t):new ws(t)}function nk(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function rk(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function ik(t,e){const n=t.copy();return n.index_=e,n}function cv(t){const e={};if(t.isDefault())return e;let n;if(t.index_===pe?n="$priority":t.index_===EC?n="$value":t.index_===Ur?n="$key":(P(t.index_ instanceof ep,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Se(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Se(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Se(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Se(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Se(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function dv(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==pe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends cC{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Hs("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(P(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=Bl.getListenId_(e,r),a={};this.listens_[s]=a;const l=cv(e._queryParams);this.restRequest_(o+".json",l,(u,d)=>{let c=d;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(o,c,!1,r),Ui(this.listens_,s)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=Bl.getListenId_(e,n);delete this.listens_[r]}get(e){const n=cv(e._queryParams),r=e._path.toString(),i=new yu;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Zi(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=fs(a.responseText)}catch{ct("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&ct("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(){this.rootNode_=U.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(){return{value:null,children:new Map}}function bC(t,e,n){if(W(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=V(e);t.children.has(r)||t.children.set(r,Fl());const i=t.children.get(r);e=oe(e),bC(i,e,n)}}function yf(t,e,n){t.value!==null?n(e,t.value):sk(t,(r,i)=>{const o=new ne(e.toString()+"/"+r);yf(i,o,n)})}function sk(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&dt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=10*1e3,lk=30*1e3,uk=5*60*1e3;class ck{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new ak(e);const r=fv+(lk-fv)*Math.random();Wo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;dt(e,(i,o)=>{o>0&&un(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Wo(this.reportStats_.bind(this),Math.floor(Math.random()*2*uk))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Wt||(Wt={}));function IC(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function rp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ip(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Wt.ACK_USER_WRITE,this.source=IC()}operationForChild(e){if(W(this.path)){if(this.affectedTree.value!=null)return P(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ne(e));return new Ul(X(),n,this.revert)}}else return P(V(this.path)===e,"operationForChild called for unrelated child."),new Ul(oe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n){this.source=e,this.path=n,this.type=Wt.LISTEN_COMPLETE}operationForChild(e){return W(this.path)?new Cs(this.source,X()):new Cs(this.source,oe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Wt.OVERWRITE}operationForChild(e){return W(this.path)?new Qr(this.source,X(),this.snap.getImmediateChild(e)):new Qr(this.source,oe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Wt.MERGE}operationForChild(e){if(W(this.path)){const n=this.children.subtree(new ne(e));return n.isEmpty()?null:n.value?new Qr(this.source,X(),n.value):new Es(this.source,X(),n)}else return P(V(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Es(this.source,oe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(W(e))return this.isFullyInitialized()&&!this.filtered_;const n=V(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function fk(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(ZD(s.childName,s.snapshotNode))}),Eo(t,i,"child_removed",e,r,n),Eo(t,i,"child_added",e,r,n),Eo(t,i,"child_moved",o,r,n),Eo(t,i,"child_changed",e,r,n),Eo(t,i,"value",e,r,n),i}function Eo(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>pk(t,a,l)),s.forEach(a=>{const l=hk(t,a,o);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function hk(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function pk(t,e,n){if(e.childName==null||n.childName==null)throw Ji("Should only compare child_ events.");const r=new z(e.childName,e.snapshotNode),i=new z(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(t,e){return{eventCache:t,serverCache:e}}function zo(t,e,n,r){return Iu(new hr(e,n,r),t.serverCache)}function xC(t,e,n,r){return Iu(t.eventCache,new hr(e,n,r))}function jl(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Xr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc;const gk=()=>(Vc||(Vc=new st(ZR)),Vc);class ce{constructor(e,n=gk()){this.value=e,this.children=n}static fromObject(e){let n=new ce(null);return dt(e,(r,i)=>{n=n.set(new ne(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:X(),value:this.value};if(W(e))return null;{const r=V(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(oe(e),n);return o!=null?{path:be(new ne(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(W(e))return this;{const n=V(e),r=this.children.get(n);return r!==null?r.subtree(oe(e)):new ce(null)}}set(e,n){if(W(e))return new ce(n,this.children);{const r=V(e),o=(this.children.get(r)||new ce(null)).set(oe(e),n),s=this.children.insert(r,o);return new ce(this.value,s)}}remove(e){if(W(e))return this.children.isEmpty()?new ce(null):new ce(null,this.children);{const n=V(e),r=this.children.get(n);if(r){const i=r.remove(oe(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new ce(null):new ce(this.value,o)}else return this}}get(e){if(W(e))return this.value;{const n=V(e),r=this.children.get(n);return r?r.get(oe(e)):null}}setTree(e,n){if(W(e))return n;{const r=V(e),o=(this.children.get(r)||new ce(null)).setTree(oe(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new ce(this.value,s)}}fold(e){return this.fold_(X(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(be(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,X(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(W(e))return null;{const o=V(e),s=this.children.get(o);return s?s.findOnPath_(oe(e),be(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,X(),n)}foreachOnPath_(e,n,r){if(W(e))return this;{this.value&&r(n,this.value);const i=V(e),o=this.children.get(i);return o?o.foreachOnPath_(oe(e),be(n,i),r):new ce(null)}}foreach(e){this.foreach_(X(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(be(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.writeTree_=e}static empty(){return new Gt(new ce(null))}}function Vo(t,e,n){if(W(e))return new Gt(new ce(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=Ke(i,e);return o=o.updateChild(s,n),new Gt(t.writeTree_.set(i,o))}else{const i=new ce(n),o=t.writeTree_.setTree(e,i);return new Gt(o)}}}function hv(t,e,n){let r=t;return dt(n,(i,o)=>{r=Vo(r,be(e,i),o)}),r}function pv(t,e){if(W(e))return Gt.empty();{const n=t.writeTree_.setTree(e,new ce(null));return new Gt(n)}}function _f(t,e){return ni(t,e)!=null}function ni(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ke(n.path,e)):null}function gv(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(pe,(r,i)=>{e.push(new z(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new z(r,i.value))}),e}function ir(t,e){if(W(e))return t;{const n=ni(t,e);return n!=null?new Gt(new ce(n)):new Gt(t.writeTree_.subtree(e))}}function wf(t){return t.writeTree_.isEmpty()}function Wi(t,e){return TC(X(),t.writeTree_,e)}function TC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(P(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=TC(be(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(be(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(t,e){return kC(e,t)}function mk(t,e,n,r,i){P(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Vo(t.visibleWrites,e,n)),t.lastWriteId=r}function vk(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function yk(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);P(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&_k(a,r.path)?i=!1:$t(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return wk(t),!0;if(r.snap)t.visibleWrites=pv(t.visibleWrites,r.path);else{const a=r.children;dt(a,l=>{t.visibleWrites=pv(t.visibleWrites,be(r.path,l))})}return!0}else return!1}function _k(t,e){if(t.snap)return $t(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&$t(be(t.path,n),e))return!0;return!1}function wk(t){t.visibleWrites=PC(t.allWrites,Ck,X()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Ck(t){return t.visible}function PC(t,e,n){let r=Gt.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)$t(n,s)?(a=Ke(n,s),r=Vo(r,a,o.snap)):$t(s,n)&&(a=Ke(s,n),r=Vo(r,X(),o.snap.getChild(a)));else if(o.children){if($t(n,s))a=Ke(n,s),r=hv(r,a,o.children);else if($t(s,n))if(a=Ke(s,n),W(a))r=hv(r,X(),o.children);else{const l=Ui(o.children,V(a));if(l){const u=l.getChild(oe(a));r=Vo(r,X(),u)}}}else throw Ji("WriteRecord should have .snap or .children")}}return r}function RC(t,e,n,r,i){if(!r&&!i){const o=ni(t.visibleWrites,e);if(o!=null)return o;{const s=ir(t.visibleWrites,e);if(wf(s))return n;if(n==null&&!_f(s,X()))return null;{const a=n||U.EMPTY_NODE;return Wi(s,a)}}}else{const o=ir(t.visibleWrites,e);if(!i&&wf(o))return n;if(!i&&n==null&&!_f(o,X()))return null;{const s=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&($t(u.path,e)||$t(e,u.path))},a=PC(t.allWrites,s,e),l=n||U.EMPTY_NODE;return Wi(a,l)}}}function Ek(t,e,n){let r=U.EMPTY_NODE;const i=ni(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(pe,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=ir(t.visibleWrites,e);return n.forEachChild(pe,(s,a)=>{const l=Wi(ir(o,new ne(s)),a);r=r.updateImmediateChild(s,l)}),gv(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=ir(t.visibleWrites,e);return gv(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function Sk(t,e,n,r,i){P(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=be(e,n);if(_f(t.visibleWrites,o))return null;{const s=ir(t.visibleWrites,o);return wf(s)?i.getChild(n):Wi(s,i.getChild(n))}}function bk(t,e,n,r){const i=be(e,n),o=ni(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=ir(t.visibleWrites,i);return Wi(s,r.getNode().getImmediateChild(n))}else return null}function Ik(t,e){return ni(t.visibleWrites,e)}function xk(t,e,n,r,i,o,s){let a;const l=ir(t.visibleWrites,e),u=ni(l,X());if(u!=null)a=u;else if(n!=null)a=Wi(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const d=[],c=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let h=f.getNext();for(;h&&d.length<i;)c(h,r)!==0&&d.push(h),h=f.getNext();return d}else return[]}function Tk(){return{visibleWrites:Gt.empty(),allWrites:[],lastWriteId:-1}}function $l(t,e,n,r){return RC(t.writeTree,t.treePath,e,n,r)}function op(t,e){return Ek(t.writeTree,t.treePath,e)}function mv(t,e,n,r){return Sk(t.writeTree,t.treePath,e,n,r)}function Wl(t,e){return Ik(t.writeTree,be(t.treePath,e))}function Pk(t,e,n,r,i,o){return xk(t.writeTree,t.treePath,e,n,r,i,o)}function sp(t,e,n){return bk(t.writeTree,t.treePath,e,n)}function DC(t,e){return kC(be(t.treePath,e),t.writeTree)}function kC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;P(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),P(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,_s(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,ys(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,$i(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,_s(r,e.snapshotNode,i.oldSnap));else throw Ji("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const NC=new Dk;class ap{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new hr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return sp(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Xr(this.viewCache_),o=Pk(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t){return{filter:t}}function Nk(t,e){P(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),P(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Ak(t,e,n,r,i){const o=new Rk;let s,a;if(n.type===Wt.OVERWRITE){const u=n;u.source.fromUser?s=Cf(t,e,u.path,u.snap,r,i,o):(P(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!W(u.path),s=zl(t,e,u.path,u.snap,r,i,a,o))}else if(n.type===Wt.MERGE){const u=n;u.source.fromUser?s=Lk(t,e,u.path,u.children,r,i,o):(P(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=Ef(t,e,u.path,u.children,r,i,a,o))}else if(n.type===Wt.ACK_USER_WRITE){const u=n;u.revert?s=Fk(t,e,u.path,r,i,o):s=Mk(t,e,u.path,u.affectedTree,r,i,o)}else if(n.type===Wt.LISTEN_COMPLETE)s=Bk(t,e,n.path,r,o);else throw Ji("Unknown operation type: "+n.type);const l=o.getChanges();return Ok(e,s,l),{viewCache:s,changes:l}}function Ok(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=jl(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(SC(jl(e)))}}function AC(t,e,n,r,i,o){const s=e.eventCache;if(Wl(r,n)!=null)return e;{let a,l;if(W(n))if(P(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Xr(e),d=u instanceof U?u:U.EMPTY_NODE,c=op(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const u=$l(r,Xr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const u=V(n);if(u===".priority"){P(fr(n)===1,"Can't have a priority with additional path components");const d=s.getNode();l=e.serverCache.getNode();const c=mv(r,n,d,l);c!=null?a=t.filter.updatePriority(d,c):a=s.getNode()}else{const d=oe(n);let c;if(s.isCompleteForChild(u)){l=e.serverCache.getNode();const f=mv(r,n,s.getNode(),l);f!=null?c=s.getNode().getImmediateChild(u).updateChild(d,f):c=s.getNode().getImmediateChild(u)}else c=sp(r,u,e.serverCache);c!=null?a=t.filter.updateChild(s.getNode(),u,c,d,i,o):a=s.getNode()}}return zo(e,a,s.isFullyInitialized()||W(n),t.filter.filtersNodes())}}function zl(t,e,n,r,i,o,s,a){const l=e.serverCache;let u;const d=s?t.filter:t.filter.getIndexedFilter();if(W(n))u=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,r);u=d.updateFullNode(l.getNode(),h,null)}else{const h=V(n);if(!l.isCompleteForPath(n)&&fr(n)>1)return e;const p=oe(n),C=l.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?u=d.updatePriority(l.getNode(),C):u=d.updateChild(l.getNode(),h,C,p,NC,null)}const c=xC(e,u,l.isFullyInitialized()||W(n),d.filtersNodes()),f=new ap(i,c,o);return AC(t,c,n,i,f,a)}function Cf(t,e,n,r,i,o,s){const a=e.eventCache;let l,u;const d=new ap(i,e,o);if(W(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=zo(e,u,!0,t.filter.filtersNodes());else{const c=V(n);if(c===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=zo(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=oe(n),h=a.getNode().getImmediateChild(c);let p;if(W(f))p=r;else{const y=d.getCompleteChild(c);y!=null?fC(f)===".priority"&&y.getChild(pC(f)).isEmpty()?p=y:p=y.updateChild(f,r):p=U.EMPTY_NODE}if(h.equals(p))l=e;else{const y=t.filter.updateChild(a.getNode(),c,p,f,d,s);l=zo(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function vv(t,e){return t.eventCache.isCompleteForChild(e)}function Lk(t,e,n,r,i,o,s){let a=e;return r.foreach((l,u)=>{const d=be(n,l);vv(e,V(d))&&(a=Cf(t,a,d,u,i,o,s))}),r.foreach((l,u)=>{const d=be(n,l);vv(e,V(d))||(a=Cf(t,a,d,u,i,o,s))}),a}function yv(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Ef(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;W(n)?u=r:u=new ce(null).setTree(n,r);const d=e.serverCache.getNode();return u.children.inorderTraversal((c,f)=>{if(d.hasChild(c)){const h=e.serverCache.getNode().getImmediateChild(c),p=yv(t,h,f);l=zl(t,l,new ne(c),p,i,o,s,a)}}),u.children.inorderTraversal((c,f)=>{const h=!e.serverCache.isCompleteForChild(c)&&f.value===null;if(!d.hasChild(c)&&!h){const p=e.serverCache.getNode().getImmediateChild(c),y=yv(t,p,f);l=zl(t,l,new ne(c),y,i,o,s,a)}}),l}function Mk(t,e,n,r,i,o,s){if(Wl(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(W(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return zl(t,e,n,l.getNode().getChild(n),i,o,a,s);if(W(n)){let u=new ce(null);return l.getNode().forEachChild(Ur,(d,c)=>{u=u.set(new ne(d),c)}),Ef(t,e,n,u,i,o,a,s)}else return e}else{let u=new ce(null);return r.foreach((d,c)=>{const f=be(n,d);l.isCompleteForPath(f)&&(u=u.set(d,l.getNode().getChild(f)))}),Ef(t,e,n,u,i,o,a,s)}}function Bk(t,e,n,r,i){const o=e.serverCache,s=xC(e,o.getNode(),o.isFullyInitialized()||W(n),o.isFiltered());return AC(t,s,n,r,NC,i)}function Fk(t,e,n,r,i,o){let s;if(Wl(r,n)!=null)return e;{const a=new ap(r,e,i),l=e.eventCache.getNode();let u;if(W(n)||V(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=$l(r,Xr(e));else{const c=e.serverCache.getNode();P(c instanceof U,"serverChildren would be complete if leaf node"),d=op(r,c)}d=d,u=t.filter.updateFullNode(l,d,o)}else{const d=V(n);let c=sp(r,d,e.serverCache);c==null&&e.serverCache.isCompleteForChild(d)&&(c=l.getImmediateChild(d)),c!=null?u=t.filter.updateChild(l,d,c,oe(n),a,o):e.eventCache.getNode().hasChild(d)?u=t.filter.updateChild(l,d,U.EMPTY_NODE,oe(n),a,o):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=$l(r,Xr(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||Wl(r,X())!=null,zo(e,u,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new tp(r.getIndex()),o=tk(r);this.processor_=kk(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(U.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(U.EMPTY_NODE,a.getNode(),null),d=new hr(l,s.isFullyInitialized(),i.filtersNodes()),c=new hr(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Iu(c,d),this.eventGenerator_=new dk(this.query_)}get query(){return this.query_}}function jk(t){return t.viewCache_.serverCache.getNode()}function $k(t){return jl(t.viewCache_)}function Wk(t,e){const n=Xr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!W(e)&&!n.getImmediateChild(V(e)).isEmpty())?n.getChild(e):null}function _v(t){return t.eventRegistrations_.length===0}function zk(t,e){t.eventRegistrations_.push(e)}function wv(t,e,n){const r=[];if(n){P(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Cv(t,e,n,r){e.type===Wt.MERGE&&e.source.queryId!==null&&(P(Xr(t.viewCache_),"We should always have a full cache before handling merges"),P(jl(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=Ak(t.processor_,i,e,n,r);return Nk(t.processor_,o.viewCache),P(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,OC(t,o.changes,o.viewCache.eventCache.getNode(),null)}function Vk(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(pe,(o,s)=>{r.push($i(o,s))}),n.isFullyInitialized()&&r.push(SC(n.getNode())),OC(t,r,n.getNode(),e)}function OC(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return fk(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl;class LC{constructor(){this.views=new Map}}function Hk(t){P(!Vl,"__referenceConstructor has already been defined"),Vl=t}function Gk(){return P(Vl,"Reference.ts has not been loaded"),Vl}function qk(t){return t.views.size===0}function lp(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return P(o!=null,"SyncTree gave us an op for an invalid query."),Cv(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat(Cv(s,e,n,r));return o}}function MC(t,e,n,r,i){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=$l(n,i?r:null),l=!1;a?l=!0:r instanceof U?(a=op(n,r),l=!1):(a=U.EMPTY_NODE,l=!1);const u=Iu(new hr(a,l,!1),new hr(r,i,!1));return new Uk(e,u)}return s}function Kk(t,e,n,r,i,o){const s=MC(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),zk(s,n),Vk(s,n)}function Yk(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=pr(t);if(i==="default")for(const[l,u]of t.views.entries())s=s.concat(wv(u,n,r)),_v(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||o.push(u.query));else{const l=t.views.get(i);l&&(s=s.concat(wv(l,n,r)),_v(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!pr(t)&&o.push(new(Gk())(e._repo,e._path)),{removed:o,events:s}}function BC(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function or(t,e){let n=null;for(const r of t.views.values())n=n||Wk(r,e);return n}function FC(t,e){if(e._queryParams.loadsAllData())return Tu(t);{const r=e._queryIdentifier;return t.views.get(r)}}function UC(t,e){return FC(t,e)!=null}function pr(t){return Tu(t)!=null}function Tu(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl;function Qk(t){P(!Hl,"__referenceConstructor has already been defined"),Hl=t}function Xk(){return P(Hl,"Reference.ts has not been loaded"),Hl}let Jk=1;class Ev{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ce(null),this.pendingWriteTree_=Tk(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function jC(t,e,n,r,i){return mk(t.pendingWriteTree_,e,n,r,i),i?Ks(t,new Qr(IC(),e,n)):[]}function Or(t,e,n=!1){const r=vk(t.pendingWriteTree_,e);if(yk(t.pendingWriteTree_,e)){let o=new ce(null);return r.snap!=null?o=o.set(X(),!0):dt(r.children,s=>{o=o.set(new ne(s),!0)}),Ks(t,new Ul(r.path,o,n))}else return[]}function qs(t,e,n){return Ks(t,new Qr(rp(),e,n))}function Zk(t,e,n){const r=ce.fromObject(n);return Ks(t,new Es(rp(),e,r))}function eN(t,e){return Ks(t,new Cs(rp(),e))}function tN(t,e,n){const r=cp(t,n);if(r){const i=dp(r),o=i.path,s=i.queryId,a=Ke(o,e),l=new Cs(ip(s),a);return fp(t,o,l)}else return[]}function $C(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&(e._queryIdentifier==="default"||UC(s,e))){const l=Yk(s,e,n,r);qk(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const u=l.removed;if(a=l.events,!i){const d=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,c=t.syncPointTree_.findOnPath(o,(f,h)=>pr(h));if(d&&!c){const f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){const h=oN(f);for(let p=0;p<h.length;++p){const y=h[p],C=y.query,m=HC(t,y);t.listenProvider_.startListening(Ho(C),Ss(t,C),m.hashFn,m.onComplete)}}}!c&&u.length>0&&!r&&(d?t.listenProvider_.stopListening(Ho(e),null):u.forEach(f=>{const h=t.queryToTagMap.get(Pu(f));t.listenProvider_.stopListening(Ho(f),h)}))}sN(t,u)}return a}function WC(t,e,n,r){const i=cp(t,r);if(i!=null){const o=dp(i),s=o.path,a=o.queryId,l=Ke(s,e),u=new Qr(ip(a),l,n);return fp(t,s,u)}else return[]}function nN(t,e,n,r){const i=cp(t,r);if(i){const o=dp(i),s=o.path,a=o.queryId,l=Ke(s,e),u=ce.fromObject(n),d=new Es(ip(a),l,u);return fp(t,s,d)}else return[]}function rN(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{const p=Ke(f,i);o=o||or(h,p),s=s||pr(h)});let a=t.syncPointTree_.get(i);a?(s=s||pr(a),o=o||or(a,X())):(a=new LC,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=U.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,p)=>{const y=or(p,X());y&&(o=o.updateImmediateChild(h,y))}));const u=UC(a,e);if(!u&&!e._queryParams.loadsAllData()){const f=Pu(e);P(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=aN();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}const d=xu(t.pendingWriteTree_,i);let c=Kk(a,e,n,d,o,l);if(!u&&!s&&!r){const f=FC(a,e);c=c.concat(lN(t,e,f))}return c}function up(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=Ke(s,e),u=or(a,l);if(u)return u});return RC(i,e,o,n,!0)}function iN(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,d)=>{const c=Ke(u,n);r=r||or(d,c)});let i=t.syncPointTree_.get(n);i?r=r||or(i,X()):(i=new LC,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=r!=null,s=o?new hr(r,!0,!1):null,a=xu(t.pendingWriteTree_,e._path),l=MC(i,e,a,o?s.getNode():U.EMPTY_NODE,o);return $k(l)}function Ks(t,e){return zC(e,t.syncPointTree_,null,xu(t.pendingWriteTree_,X()))}function zC(t,e,n,r){if(W(t.path))return VC(t,e,n,r);{const i=e.get(X());n==null&&i!=null&&(n=or(i,X()));let o=[];const s=V(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const u=n?n.getImmediateChild(s):null,d=DC(r,s);o=o.concat(zC(a,l,u,d))}return i&&(o=o.concat(lp(i,t,r,n))),o}}function VC(t,e,n,r){const i=e.get(X());n==null&&i!=null&&(n=or(i,X()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,u=DC(r,s),d=t.operationForChild(s);d&&(o=o.concat(VC(d,a,l,u)))}),i&&(o=o.concat(lp(i,t,r,n))),o}function HC(t,e){const n=e.query,r=Ss(t,n);return{hashFn:()=>(jk(e)||U.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?tN(t,n._path,r):eN(t,n._path);{const o=nD(i,n);return $C(t,n,null,o)}}}}function Ss(t,e){const n=Pu(e);return t.queryToTagMap.get(n)}function Pu(t){return t._path.toString()+"$"+t._queryIdentifier}function cp(t,e){return t.tagToQueryMap.get(e)}function dp(t){const e=t.indexOf("$");return P(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ne(t.substr(0,e))}}function fp(t,e,n){const r=t.syncPointTree_.get(e);P(r,"Missing sync point for query tag that we're tracking");const i=xu(t.pendingWriteTree_,e);return lp(r,n,i,null)}function oN(t){return t.fold((e,n,r)=>{if(n&&pr(n))return[Tu(n)];{let i=[];return n&&(i=BC(n)),dt(r,(o,s)=>{i=i.concat(s)}),i}})}function Ho(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Xk())(t._repo,t._path):t}function sN(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Pu(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function aN(){return Jk++}function lN(t,e,n){const r=e._path,i=Ss(t,e),o=HC(t,n),s=t.listenProvider_.startListening(Ho(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)P(!pr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,d,c)=>{if(!W(u)&&d&&pr(d))return[Tu(d).query];{let f=[];return d&&(f=f.concat(BC(d).map(h=>h.query))),dt(c,(h,p)=>{f=f.concat(p)}),f}});for(let u=0;u<l.length;++u){const d=l[u];t.listenProvider_.stopListening(Ho(d),Ss(t,d))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new hp(n)}node(){return this.node_}}class pp{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=be(this.path_,e);return new pp(this.syncTree_,n)}node(){return up(this.syncTree_,this.path_)}}const uN=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Sv=function(t,e,n){if(!t||typeof t!="object")return t;if(P(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return cN(t[".sv"],e,n);if(typeof t[".sv"]=="object")return dN(t[".sv"],e);P(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},cN=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:P(!1,"Unexpected server value: "+t)}},dN=function(t,e,n){t.hasOwnProperty("increment")||P(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&P(!1,"Unexpected increment value: "+r);const i=e.node();if(P(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},fN=function(t,e,n,r){return gp(e,new pp(n,t),r)},GC=function(t,e,n){return gp(t,new hp(e),n)};function gp(t,e,n){const r=t.getPriority().val(),i=Sv(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=Sv(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new xe(a,Re(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new xe(i))),s.forEachChild(pe,(a,l)=>{const u=gp(l,e.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function vp(t,e){let n=e instanceof ne?e:new ne(e),r=t,i=V(n);for(;i!==null;){const o=Ui(r.node.children,i)||{children:{},childCount:0};r=new mp(i,r,o),n=oe(n),i=V(n)}return r}function io(t){return t.node.value}function qC(t,e){t.node.value=e,Sf(t)}function KC(t){return t.node.childCount>0}function hN(t){return io(t)===void 0&&!KC(t)}function Ru(t,e){dt(t.node.children,(n,r)=>{e(new mp(n,t,r))})}function YC(t,e,n,r){n&&!r&&e(t),Ru(t,i=>{YC(i,e,!0,r)}),n&&r&&e(t)}function pN(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ys(t){return new ne(t.parent===null?t.name:Ys(t.parent)+"/"+t.name)}function Sf(t){t.parent!==null&&gN(t.parent,t.name,t)}function gN(t,e,n){const r=hN(n),i=un(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Sf(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Sf(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=/[\[\].#$\/\u0000-\u001F\u007F]/,vN=/[\[\].#$\u0000-\u001F\u007F]/,Hc=10*1024*1024,yp=function(t){return typeof t=="string"&&t.length!==0&&!mN.test(t)},QC=function(t){return typeof t=="string"&&t.length!==0&&!vN.test(t)},yN=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),QC(t)},bv=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!qh(t)||t&&typeof t=="object"&&un(t,".sv")},Du=function(t,e,n,r){r&&e===void 0||_p(_u(t,"value"),e,n)},_p=function(t,e,n){const r=n instanceof ne?new LD(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Pr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Pr(r)+" with contents = "+e.toString());if(qh(e))throw new Error(t+"contains "+e.toString()+" "+Pr(r));if(typeof e=="string"&&e.length>Hc/3&&wu(e)>Hc)throw new Error(t+"contains a string greater than "+Hc+" utf8 bytes "+Pr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(dt(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!yp(s)))throw new Error(t+" contains an invalid key ("+s+") "+Pr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);MD(r,s),_p(t,a,r),BD(r)}),i&&o)throw new Error(t+' contains ".value" child '+Pr(r)+" in addition to actual children.")}},_N=function(t,e,n,r){if(!(r&&n===void 0)&&!yp(n))throw new Error(_u(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},wp=function(t,e,n,r){if(!(r&&n===void 0)&&!QC(n))throw new Error(_u(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},wN=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),wp(t,e,n,r)},CN=function(t,e){if(V(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},EN=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!yp(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!yN(n))throw new Error(_u(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function XC(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!gC(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function an(t,e,n){XC(t,n),bN(t,r=>$t(r,e)||$t(e,r))}function bN(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(IN(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function IN(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Fr&&ze("event: "+n.toString()),ro(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="repo_interrupt",TN=25;class PN{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new SN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Fl(),this.transactionQueueTree_=new mp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function RN(t,e,n){if(t.stats_=Qh(t.repoInfo_),t.forceRestClient_||sD())t.server_=new Bl(t.repoInfo_,(r,i,o,s)=>{Iv(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>xv(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Se(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new En(t.repoInfo_,e,(r,i,o,s)=>{Iv(t,r,i,o,s)},r=>{xv(t,r)},r=>{kN(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=dD(t.repoInfo_,()=>new ck(t.stats_,t.server_)),t.infoData_=new ok,t.infoSyncTree_=new Ev({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=qs(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Ep(t,"connected",!1),t.serverSyncTree_=new Ev({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const u=s(a,l);an(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function DN(t){const n=t.infoData_.getNode(new ne(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Cp(t){return uN({timestamp:DN(t)})}function Iv(t,e,n,r,i){t.dataUpdateCount++;const o=new ne(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=xl(n,u=>Re(u));s=nN(t.serverSyncTree_,o,l,i)}else{const l=Re(n);s=WC(t.serverSyncTree_,o,l,i)}else if(r){const l=xl(n,u=>Re(u));s=Zk(t.serverSyncTree_,o,l)}else{const l=Re(n);s=qs(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Nu(t,o)),an(t.eventQueue_,a,s)}function xv(t,e){Ep(t,"connected",e),e===!1&&ON(t)}function kN(t,e){dt(e,(n,r)=>{Ep(t,n,r)})}function Ep(t,e,n){const r=new ne("/.info/"+e),i=Re(n);t.infoData_.updateSnapshot(r,i);const o=qs(t.infoSyncTree_,r,i);an(t.eventQueue_,r,o)}function JC(t){return t.nextWriteId_++}function NN(t,e,n){const r=iN(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const o=Re(i).withIndex(e._queryParams.getIndex());rN(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=qs(t.serverSyncTree_,e._path,o);else{const a=Ss(t.serverSyncTree_,e);s=WC(t.serverSyncTree_,e._path,o,a)}return an(t.eventQueue_,e._path,s),$C(t.serverSyncTree_,e,n,null,!0),o},i=>(ku(t,"get for query "+Se(e)+" failed: "+i),Promise.reject(new Error(i))))}function AN(t,e,n,r,i){ku(t,"set",{path:e.toString(),value:n,priority:r});const o=Cp(t),s=Re(n,r),a=up(t.serverSyncTree_,e),l=GC(s,a,o),u=JC(t),d=jC(t.serverSyncTree_,e,l,u,!0);XC(t.eventQueue_,d),t.server_.put(e.toString(),s.val(!0),(f,h)=>{const p=f==="ok";p||ct("set at "+e+" failed: "+f);const y=Or(t.serverSyncTree_,u,!p);an(t.eventQueue_,e,y),MN(t,i,f,h)});const c=rE(t,e);Nu(t,c),an(t.eventQueue_,c,[])}function ON(t){ku(t,"onDisconnectEvents");const e=Cp(t),n=Fl();yf(t.onDisconnect_,X(),(i,o)=>{const s=fN(i,o,t.serverSyncTree_,e);bC(n,i,s)});let r=[];yf(n,X(),(i,o)=>{r=r.concat(qs(t.serverSyncTree_,i,o));const s=rE(t,i);Nu(t,s)}),t.onDisconnect_=Fl(),an(t.eventQueue_,X(),r)}function LN(t){t.persistentConnection_&&t.persistentConnection_.interrupt(xN)}function ku(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ze(n,...e)}function MN(t,e,n,r){e&&ro(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function ZC(t,e,n){return up(t.serverSyncTree_,e,n)||U.EMPTY_NODE}function Sp(t,e=t.transactionQueueTree_){if(e||Au(t,e),io(e)){const n=tE(t,e);P(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&BN(t,Ys(e),n)}else KC(e)&&Ru(e,n=>{Sp(t,n)})}function BN(t,e,n){const r=n.map(u=>u.currentWriteId),i=ZC(t,e,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const d=n[u];P(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const c=Ke(e,d.path);o=o.updateChild(c,d.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,u=>{ku(t,"transaction put response",{path:l.toString(),status:u});let d=[];if(u==="ok"){const c=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(Or(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&c.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Au(t,vp(t.transactionQueueTree_,e)),Sp(t,t.transactionQueueTree_),an(t.eventQueue_,e,d);for(let f=0;f<c.length;f++)ro(c[f])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{ct("transaction at "+l.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}Nu(t,e)}},s)}function Nu(t,e){const n=eE(t,e),r=Ys(n),i=tE(t,n);return FN(t,i,r),r}function FN(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Ke(n,l.path);let d=!1,c;if(P(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,c=l.abortReason,i=i.concat(Or(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=TN)d=!0,c="maxretry",i=i.concat(Or(t.serverSyncTree_,l.currentWriteId,!0));else{const f=ZC(t,l.path,s);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(h!==void 0){_p("transaction failed: Data returned ",h,l.path);let p=Re(h);typeof h=="object"&&h!=null&&un(h,".priority")||(p=p.updatePriority(f.getPriority()));const C=l.currentWriteId,m=Cp(t),g=GC(p,f,m);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=g,l.currentWriteId=JC(t),s.splice(s.indexOf(C),1),i=i.concat(jC(t.serverSyncTree_,l.path,g,l.currentWriteId,l.applyLocally)),i=i.concat(Or(t.serverSyncTree_,C,!0))}else d=!0,c="nodata",i=i.concat(Or(t.serverSyncTree_,l.currentWriteId,!0))}an(t.eventQueue_,n,i),i=[],d&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(c==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(c),!1,null))))}Au(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)ro(r[a]);Sp(t,t.transactionQueueTree_)}function eE(t,e){let n,r=t.transactionQueueTree_;for(n=V(e);n!==null&&io(r)===void 0;)r=vp(r,n),e=oe(e),n=V(e);return r}function tE(t,e){const n=[];return nE(t,e,n),n.sort((r,i)=>r.order-i.order),n}function nE(t,e,n){const r=io(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ru(e,i=>{nE(t,i,n)})}function Au(t,e){const n=io(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,qC(e,n.length>0?n:void 0)}Ru(e,r=>{Au(t,r)})}function rE(t,e){const n=Ys(eE(t,e)),r=vp(t.transactionQueueTree_,e);return pN(r,i=>{Gc(t,i)}),Gc(t,r),YC(r,i=>{Gc(t,i)}),n}function Gc(t,e){const n=io(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(P(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(P(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Or(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?qC(e,void 0):n.length=o+1,an(t.eventQueue_,Ys(e),i);for(let s=0;s<r.length;s++)ro(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function jN(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ct(`Invalid query segment '${n}' in query '${t}'`)}return e}const Tv=function(t,e){const n=$N(t),r=n.namespace;n.domain==="firebase.com"&&Pn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Pn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||XR();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new rC(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ne(n.pathString)}},$N=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let d=t.indexOf("/");d===-1&&(d=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(d,c)),d<c&&(i=UN(t.substring(d,c)));const f=jN(t.substring(Math.min(t.length,c)));u=e.indexOf(":"),u>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const h=e.slice(0,u);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Se(this.snapshot.exportVal())}}class zN{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return P(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return W(this._path)?null:fC(this._path)}get ref(){return new kn(this._repo,this._path)}get _queryIdentifier(){const e=dv(this._queryParams),n=Kh(e);return n==="{}"?"default":n}get _queryObject(){return dv(this._queryParams)}isEqual(e){if(e=et(e),!(e instanceof oo))return!1;const n=this._repo===e._repo,r=gC(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+OD(this._path)}}function HN(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function bp(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ur){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Yr)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==dr)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===pe){if(e!=null&&!bv(e)||n!=null&&!bv(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(P(t.getIndex()instanceof ep||t.getIndex()===EC,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function iE(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class kn extends oo{constructor(e,n){super(e,n,new np,!1)}get parent(){const e=pC(this._path);return e===null?null:new kn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class bs{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ne(e),r=ln(this.ref,e);return new bs(this._node.getChild(n),r,pe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new bs(i,ln(this.ref,r),pe)))}hasChild(e){const n=new ne(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Qe(t,e){return t=et(t),t._checkNotDeleted("ref"),e!==void 0?ln(t._root,e):t._root}function ln(t,e){return t=et(t),V(t._path)===null?wN("child","path",e,!1):wp("child","path",e,!1),new kn(t._repo,be(t._path,e))}function Qs(t,e){t=et(t),CN("set",t._path),Du("set",e,t._path,!1);const n=new yu;return AN(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Rn(t){t=et(t);const e=new VN(()=>{}),n=new Ip(e);return NN(t._repo,t,n).then(r=>new bs(r,new kn(t._repo,t._path),t._queryParams.getIndex()))}class Ip{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new WN("value",this,new bs(e.snapshotNode,new kn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new zN(this,e,n):null}matches(e){return e instanceof Ip?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Ou{}class GN extends Ou{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Du("endAt",this._value,e._path,!0);const n=rk(e._queryParams,this._value,this._key);if(iE(n),bp(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new oo(e._repo,e._path,n,e._orderByCalled)}}class qN extends Ou{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Du("startAt",this._value,e._path,!0);const n=nk(e._queryParams,this._value,this._key);if(iE(n),bp(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new oo(e._repo,e._path,n,e._orderByCalled)}}class KN extends Ou{constructor(e){super(),this._path=e}_apply(e){HN(e,"orderByChild");const n=new ne(this._path);if(W(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new ep(n),i=ik(e._queryParams,r);return bp(i),new oo(e._repo,e._path,i,!0)}}function xp(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return wp("orderByChild","path",t,!1),new KN(t)}class YN extends Ou{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){if(Du("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new GN(this._value,this._key)._apply(new qN(this._value,this._key)._apply(e))}}function Tp(t,e){return _N("equalTo","key",e,!0),new YN(t,e)}function Pp(t,...e){let n=et(t);for(const r of e)n=r._apply(n);return n}Hk(kn);Qk(kn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="FIREBASE_DATABASE_EMULATOR_HOST",bf={};let XN=!1;function JN(t,e,n,r){t.repoInfo_=new rC(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function ZN(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Pn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ze("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=Tv(o,i),a=s.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[QN]),u?(l=!0,o=`http://${u}?ns=${a.namespace}`,s=Tv(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const d=i&&l?new ki(ki.OWNER):new lD(t.name,t.options,e);EN("Invalid Firebase Database URL",s),W(s.path)||Pn("Database URL must point to the root of a Firebase Database (not including a child path).");const c=tA(a,t,d,new aD(t.name,n));return new nA(c,t)}function eA(t,e){const n=bf[e];(!n||n[t.key]!==t)&&Pn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),LN(t),delete n[t.key]}function tA(t,e,n,r){let i=bf[e.name];i||(i={},bf[e.name]=i);let o=i[t.toURLString()];return o&&Pn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new PN(t,XN,n,r),i[t.toURLString()]=o,o}class nA{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(RN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new kn(this._repo,X())),this._rootInternal}_delete(){return this._rootInternal!==null&&(eA(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Pn("Cannot call "+e+" on a deleted database.")}}function Xe(t=u0(),e){const n=Bh(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=uT("database");r&&rA(n,...r)}return n}function rA(t,e,n,r={}){t=et(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Pn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Pn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new ki(ki.OWNER);else if(r.mockUserToken){const s=typeof r.mockUserToken=="string"?r.mockUserToken:cT(r.mockUserToken,t.app.options.projectId);o=new ki(s)}JN(i,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t){GR(eo),ji(new Hr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return ZN(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),rr(Km,Ym,t),rr(Km,Ym,"esm2017")}En.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};En.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};iA();const Is=async t=>{try{t=t.toLowerCase();const e=Qe(Xe()),n=`usernames/${t}`,r=await Rn(ln(e,n));return r.exists()?r.val():(console.error("Username Not Found"),null)}catch(e){return console.error(e),console.error("Failed to get UID of username",t),null}},oA=async(t,e)=>{if(Yt().currentUser==null)return console.log("Not Authenticated"),Promise.reject("User Not Authenticated");try{const r=Xe(),o=(await Yt()).currentUser.uid,s=Qe(r,"posts/"+t);return await Qs(s,{uid:o,text:e}),Promise.resolve()}catch(r){return console.error("An Error Occurred while Uploading the Post, try Renaming the title:",r),alert("An Error Occurred while Uploading the Post, try Renaming the post title"),Promise.reject()}},sA=async t=>{const e=Qe(Xe());console.log(`Trying to get Post With Name ${t}`);try{if((await Rn(ln(e,`posts/${t}`))).exists())return;throw new Error("No Post Found")}catch(n){throw alert("No Post Found"),console.error(n),n}},oE=async t=>{const e=Qe(Xe());console.log(`Trying to get Post With Name ${t}`);try{const n=await Rn(ln(e,`posts/${t}`));if(n.exists()){const r=n.val();return Promise.resolve(r.text)}else return console.log("No data available"),alert("No Post Found"),Promise.reject("No data available")}catch(n){return console.error(n),Promise.reject(n)}},aA=async t=>{try{const e=Xe();await Qs(Qe(e,`posts/${t}`),null),console.log("Post deleted.")}catch(e){console.error("Error deleting post:",e)}},lA=async t=>{try{const e=await Is(t),n=Qe(Xe()),r=`users/${e}/Collections/`;console.log(`Fetching Collections of ${t}, uid: ${e}`);const i=await Rn(ln(n,r));if(!i.exists())return console.error("Collections Not Found"),[];console.log("Collections Fetched");const o=i.val();let s=[];return Object.keys(o).forEach(a=>{s.push(a)}),console.log(s),s}catch(e){return console.error(e),console.error("Failed to get Collections",t),[]}},sE=async(t,e)=>{try{const n=await Qe(Xe()),i=`users/${await Is(t)}/Collections/${e}`,o=await Rn(ln(n,i));return o.exists()?o.val().posts:(console.error(`No Collection Named : ${e}`),null)}catch{return console.error(`Failed to fetch Collection Posts, collectionName : ${e}, username : ${t}`),null}},aE=async(t,e)=>{try{const n=Xe(),r={posts:e},s=`users/${(await Yt()).currentUser.uid}/Collections/${t}`;await Qs(Qe(n,s),r),console.log("Collection Uploaded",r)}catch(n){console.error(n),console.error("Couldn't Update Collection."),alert("Collection Upload Failed, try renaming the collection.")}},uA=async t=>{try{const e=Xe(),i=`users/${(await Yt()).currentUser.uid}/Collections/${t}`;await Qs(Qe(e,write_path),null),console.log("Collection Deleted",t)}catch(e){console.error(e),console.error("Couldn't Delete Collection.")}},cA=()=>_.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[_.jsx(dA,{}),_.jsx(pA,{}),_.jsx(hA,{}),_.jsx(fA,{})]}),dA=()=>{const[t,e]=E.useState(""),n=Lt(),r=()=>{sA(t).then(()=>{n(`/viewpost/${t}`)})},i=s=>{s.key==="Enter"&&r()},o={container:{maxWidth:"400px",margin:"20px auto",padding:"10px",border:"1px solid #ccc",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",textAlign:"center"},postNameInput:{width:"100%",padding:"10px",fontSize:"16px",marginBottom:"10px",boxSizing:"border-box"},viewPostButton:{width:"100%",padding:"12px",fontSize:"18px",backgroundColor:"#3498db",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",transition:"background-color 0.3s"}};return _.jsxs("div",{style:o.container,children:[_.jsx("h2",{children:"View Post"}),_.jsx("input",{type:"text",style:o.postNameInput,placeholder:"Enter Post Name",value:t,onChange:s=>e(s.target.value),onKeyPress:i}),_.jsx("button",{style:o.viewPostButton,onClick:r,children:"View Post"})]})},fA=()=>{const t=Lt(),[e,n]=E.useState(!1),r=()=>{t("/CreateCollection")},i={createPostButtonContainer:{textAlign:"center"},CreateCollection:{marginTop:"50px",padding:"30px 60px",fontSize:"28px",backgroundColor:"#4caf50",color:"#fff",border:"none",borderRadius:"15px",cursor:"pointer",transition:"background-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease",boxShadow:"0px 8px 15px rgba(0, 0, 0, 0.1)"},createPostButtonHover:{backgroundColor:"#45a049",transform:"scale(1.05)",boxShadow:"0px 12px 20px rgba(0, 0, 0, 0.2)"},createPostButtonPress:{transform:"scale(0.95)",boxShadow:"none"}};return _.jsx("div",{style:i.createPostButtonContainer,children:_.jsx("button",{style:{...i.CreateCollection,...e?i.createPostButtonPress:i.createPostButtonHover},onClick:r,onMouseDown:()=>n(!0),onMouseUp:()=>n(!1),onMouseLeave:()=>n(!1),children:"Create Collection"})})},hA=()=>{const t=Lt(),[e,n]=E.useState(!1),r=()=>{t("/Texteditor")},i={createPostButtonContainer:{textAlign:"center"},createPostButton:{marginTop:"20px",padding:"30px 60px",fontSize:"28px",backgroundColor:"#4caf50",color:"#fff",border:"none",borderRadius:"15px",cursor:"pointer",transition:"background-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease",boxShadow:"0px 8px 15px rgba(0, 0, 0, 0.1)"},createPostButtonHover:{backgroundColor:"#45a049",transform:"scale(1.05)",boxShadow:"0px 12px 20px rgba(0, 0, 0, 0.2)"},createPostButtonPress:{transform:"scale(0.95)",boxShadow:"none"}};return _.jsx("div",{style:i.createPostButtonContainer,children:_.jsx("button",{style:{...i.createPostButton,...e?i.createPostButtonPress:i.createPostButtonHover},onClick:r,onMouseDown:()=>n(!0),onMouseUp:()=>n(!1),onMouseLeave:()=>n(!1),children:"Create Post"})})},pA=()=>{const[t,e]=E.useState(""),n=Lt(),r=()=>{n(`/profile/${t}`)},i={container:{maxWidth:"400px",margin:"10px auto",padding:"20px",border:"1px solid #ccc",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",textAlign:"center"},profileNameInput:{width:"70%",padding:"10px",fontSize:"16px",marginBottom:"10px",boxSizing:"border-box"},viewProfileButton:{width:"25%",padding:"7px",fontSize:"18px",backgroundColor:"#3498db",color:"#fff",border:"none",cursor:"pointer",borderRadius:"2px",transition:"background-color 0.3s",marginLeft:"5px"}},o=s=>{s.key==="Enter"&&n(`/profile/${t}`)};return _.jsxs("div",{style:i.container,children:[_.jsx("input",{type:"text",style:i.profileNameInput,placeholder:"Enter Profile Name",value:t,onChange:s=>e(s.target.value),onKeyPress:o}),_.jsx(tn,{to:`/profile/${t}`,children:_.jsx("button",{style:i.viewProfileButton,onClick:r,children:"➜ "})})]})},gA=async(t,e)=>{const n=Yt();try{const i=(await R1(n,t,e)).user;console.log(i);const o=Xe(),s=i.uid,a=i.email.substring(0,t.indexOf("@"));console.log(`Username : ${a}, UID : ${s}`);const l=Qe(o,"/usernames");return await Qs(ln(l,a),s),Promise.resolve()}catch(r){return console.error("Error signing in:",r),alert(r),Promise.reject(r)}},mA=async(t,e)=>{const n=Yt();try{const i=(await D1(n,t,e)).user;return Promise.resolve()}catch(r){return console.error("Error signing in:",r),alert(r),Promise.reject(r)}},vA=async()=>{try{return await Yt().signOut(),Promise.resolve()}catch(t){return console.error("Error signing out:",t.message),Promise.reject()}},yA=()=>{const[t,e]=E.useState(""),[n,r]=E.useState(""),i=Lt(),o=()=>{const s=t+"@gmail.com";mA(s,n).then(()=>{i("/Homepage")})};return _.jsx("div",{style:dn.background,children:_.jsxs("div",{style:dn.container,children:[_.jsx("h2",{style:dn.heading,children:"Login"}),_.jsxs("form",{style:dn.form,children:[_.jsx("label",{style:dn.label,htmlFor:"email",children:"Username:"}),_.jsx("input",{type:"text",id:"email",style:dn.input,value:t,onChange:s=>e(s.target.value)}),_.jsx("label",{style:dn.label,htmlFor:"password",children:"Password:"}),_.jsx("input",{type:"password",id:"password",style:dn.input,value:n,onChange:s=>r(s.target.value)}),_.jsx("button",{type:"button",style:dn.button,onClick:o,children:"Login"})]})]})})},dn={background:{background:"#f0f0f0",height:"75vh",display:"flex",alignItems:"center",justifyContent:"center",margin:0},container:{background:"#ffffff",padding:"30px",borderRadius:"5px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.1)",maxWidth:"400px",width:"100%",margin:"auto"},heading:{textAlign:"center",marginTop:0},form:{display:"flex",flexDirection:"column"},label:{marginBottom:"8px"},input:{padding:"8px",marginBottom:"16px",border:"1px solid #ccc",borderRadius:"3px"},button:{backgroundColor:"#4caf50",color:"white",padding:"10px",border:"none",borderRadius:"3px",cursor:"pointer"}},_A=()=>{const[t,e]=E.useState(""),[n,r]=E.useState(""),i=Lt(),o=()=>{const s=t+"@gmail.com";gA(s,n).then(()=>{i("/Homepage")})};return _.jsx("div",{style:fn.background,children:_.jsxs("div",{style:fn.container,children:[_.jsx("h2",{style:fn.heading,children:"Signup"}),_.jsxs("form",{style:fn.form,children:[_.jsx("label",{style:fn.label,htmlFor:"email",children:"Username:"}),_.jsx("input",{type:"text",id:"email",style:fn.input,value:t,onChange:s=>e(s.target.value)}),_.jsx("label",{style:fn.label,htmlFor:"password",children:"Password:"}),_.jsx("input",{type:"password",id:"password",style:fn.input,value:n,onChange:s=>r(s.target.value)}),_.jsx("button",{type:"button",style:fn.button,onClick:o,children:"Signup"})]})]})})},fn={background:{background:"#f0f0f0",height:"75vh",display:"flex",alignItems:"center",justifyContent:"center",margin:0},container:{background:"#ffffff",padding:"30px",borderRadius:"5px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.1)",maxWidth:"400px",width:"100%",margin:"auto"},heading:{textAlign:"center",marginTop:0},form:{display:"flex",flexDirection:"column"},label:{marginBottom:"8px"},input:{padding:"8px",marginBottom:"16px",border:"1px solid #ccc",borderRadius:"3px"},button:{backgroundColor:"#4caf50",color:"white",padding:"10px",border:"none",borderRadius:"3px",cursor:"pointer"}},wA=()=>{aE("ADS",["qwdqwd","qwxqwxwq"])},CA=()=>{console.log(Yt().currentUser.uid)},EA=async()=>{},SA=()=>_.jsxs(_.Fragment,{children:[_.jsx("h2",{children:"DEBUG"}),_.jsx("button",{onClick:wA,children:" Upload Collection "}),_.jsx("button",{onClick:CA,children:" Run Code 2 "}),_.jsx("button",{onClick:EA,children:" Fetch All Posts "})]}),Pv=({})=>{const[t,e]=E.useState(""),[n,r]=E.useState(""),[i,o]=E.useState(!1),[s,a]=E.useState(!1),l=E.useRef(null),u=Lt(),{postName:d}=Xi();E.useEffect(()=>{d&&(a(!0),console.log(`Edit Mode : ${!0}`),e(d),oE(d).then(C=>{console.log(C),r(C)}))},[]);const c=C=>{e(C.target.value)},f=C=>{r(C.target.value)},h=()=>{oA(t,n).then(()=>{u("/PostCreated")}).catch(C=>{console.log("Failed To Create Post."),alert(C)})},p={textEditorContainer:{position:"relative",padding:"30px",backgroundColor:"#f0f0f0",marginBottom:"100px"},titleInput:{width:"99%",marginBottom:"8px",padding:"8px",fontSize:"18px",fontFamily:"Arial, sans-serif",borderRadius:"4px",border:"1px solid #ccc"},textEditor:{width:"98%",minHeight:"60vh",padding:"16px",paddingRight:"20px",fontSize:"18px",fontFamily:"Arial, sans-serif",borderRadius:"8px",border:"1px solid #ccc",outline:"none",resize:"vertical"},createPostButton:{marginTop:"16px",marginLeft:"8px",padding:"12px",fontSize:"18px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",transition:"transform 0.3s"},createPostButtonPressed:{transform:"scale(0.95)"}},y=()=>{h(),o(!1)};return _.jsx("div",{children:_.jsxs("div",{style:p.textEditorContainer,children:[_.jsx("input",{style:p.titleInput,type:"text",placeholder:"Enter post title...",value:t,onChange:c,readOnly:s}),_.jsx("textarea",{ref:l,style:p.textEditor,value:n,onChange:f,placeholder:"Type your post here..."}),_.jsx("button",{style:{...p.createPostButton,...i&&p.createPostButtonPressed},onClick:y,onMouseDown:()=>o(!0),onMouseUp:()=>o(!1),children:s?_.jsx(_.Fragment,{children:"UpdatePost"}):_.jsx(_.Fragment,{children:"Create Post"})})]})})},bA=()=>{const{postName:t}=Xi(),[e,n]=E.useState("Loading..."),[r,i]=E.useState("Copy");E.useEffect(()=>{oE(t).then(s=>{n(s),console.log(`Post Text updated TO ${s}`)})},[t]);const o=()=>{navigator.clipboard.writeText(e).then(()=>{console.log("Text copied to clipboard!"),i("Copied!"),setTimeout(()=>{i("Copy")},3e3)}).catch(s=>{console.error("Unable to copy text to clipboard.",s)})};return _.jsxs("div",{children:[_.jsx("h1",{style:IA,children:t}),_.jsxs("div",{style:xA,children:[_.jsx("textarea",{value:e,readOnly:!0,style:TA}),_.jsx("button",{onClick:o,style:PA,children:r})]})]})},IA={fontSize:"24px",color:"#333",marginLeft:"20px"},xA={marginTop:"20px",marginLeft:"20px",maxWidth:"1300px",marginRight:"50px",position:"relative"},TA={width:"100%",height:"65vh",padding:"15px",borderRadius:"8px",border:"1px solid #ccc",fontSize:"16px",lineHeight:"1.5",fontFamily:"Arial, sans-serif",resize:"vertical",overflowX:"auto",whiteSpace:"pre"},PA={position:"absolute",top:"10px",right:"10px",padding:"5px 10px",fontSize:"16px",borderRadius:"4px",cursor:"pointer",backgroundColor:"#2c3e50",color:"white",border:"none"},RA=()=>{const t=Lt();E.useEffect(()=>{vA().then(()=>{t("/Homepage")}).catch(e=>{console.log("Failed To Logout"),t("/Homepage")})},[])},DA=()=>_.jsx(_.Fragment,{children:_.jsx("p",{style:{fontSize:"25px",color:"green",fontWeight:"bold",paddingLeft:"20px"},children:"Post Created"})}),qc={container:{backgroundColor:"#2c3e50",color:"#ecf0f1",padding:"10px 20px",textAlign:"center",position:"fixed",bottom:"0",left:"0",width:"100%"},copyright:{fontSize:"14px",marginBottom:"5px"},link:{color:"#3498db",textDecoration:"none",marginLeft:"5px"},linkHover:{textDecoration:"underline"}},kA=()=>{const t=new Date().getFullYear();return _.jsx("footer",{style:qc.container,children:_.jsxs("div",{children:[_.jsxs("p",{style:qc.copyright,children:["© ",t," Made With ❤ by Sushil L."]}),_.jsx("a",{href:"https://github.com/21ThousandProof/ShareText",target:"_blank",rel:"noopener noreferrer",style:qc.link,children:"View Source Code"})]})})},NA="#1e2a3a",AA="#333333",OA="#f5f5f5",LA="#f44336",Rv="#4caf50",MA="#2196f3",Jt={container:{maxWidth:"900px",margin:"0 auto 0px",padding:"3px 20px 0px 20px",borderRadius:"8px",backgroundColor:NA,color:"#ffffff"},heading:{marginBottom:"20px",fontSize:"32px",fontWeight:"bold",color:Rv},listItem:{marginBottom:"15px",padding:"10px",borderRadius:"6px",boxShadow:"0 0 5px rgba(255, 255, 255, 0.1)",backgroundColor:OA,display:"flex",alignItems:"center",justifyContent:"space-between"},postTitle:{fontSize:"18px",color:AA,marginRight:"20px",overflow:"auto"},buttonsContainer:{display:"flex",alignItems:"center"},actionButton:{padding:"8px 12px",marginRight:"10px",borderRadius:"4px",cursor:"pointer",textDecoration:"none",color:"#ffffff",fontWeight:"bold",fontSize:"14px"},editButton:{backgroundColor:Rv},viewButton:{backgroundColor:MA},deleteButton:{backgroundColor:LA}},lE=({isCurrentUser:t,username:e,collections:n,handleDelete:r})=>{const i=Lt(),o=s=>{s!=""&&i(`/CollectionEditor/${s}`)};return _.jsxs("div",{style:Jt.container,children:[n&&n.length>0&&n.map((s,a)=>_.jsxs("div",{style:Jt.listItem,children:[_.jsx("span",{style:Jt.postTitle,children:s}),_.jsxs("div",{style:Jt.buttonsContainer,children:[_.jsx(tn,{to:`/${e}/Collections/${s}`,style:{...Jt.actionButton,...Jt.viewButton},children:"View"}),t&&_.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:()=>o(s),style:{...Jt.actionButton,...Jt.editButton},children:"Edit"}),_.jsx("button",{style:{...Jt.actionButton,...Jt.deleteButton},onClick:()=>r(s),children:"Delete"})]})]})]},a)),!n||n.length==0&&_.jsx("h3",{children:"No Collections."})]})},BA="#333333",FA="#f5f5f5",UA="#f44336",jA="#4caf50",$A="#2196f3",hn={listItem:{marginBottom:"15px",padding:"10px",marginLeft:"16px",marginRight:"16px",borderRadius:"6px",boxShadow:"0 0 5px rgba(255, 255, 255, 0.1)",backgroundColor:FA,display:"flex",alignItems:"center",justifyContent:"space-between"},postTitle:{fontSize:"18px",color:BA,marginRight:"20px",overflow:"auto"},buttonsContainer:{display:"flex",alignItems:"center"},actionButton:{padding:"8px 12px",marginRight:"10px",borderRadius:"4px",cursor:"pointer",textDecoration:"none",color:"#ffffff",fontWeight:"bold",fontSize:"14px"},editButton:{backgroundColor:jA},viewButton:{backgroundColor:$A},deleteButton:{backgroundColor:UA}},uE=({posts:t,handleDelete:e,isCurrentUser:n=!1})=>_.jsx("div",{children:t.map((r,i)=>_.jsxs("div",{style:hn.listItem,children:[_.jsx("span",{style:hn.postTitle,children:r}),_.jsxs("div",{style:hn.buttonsContainer,children:[_.jsx(tn,{to:`/viewpost/${r}`,style:{...hn.actionButton,...hn.viewButton},children:"View"}),n&&_.jsxs(_.Fragment,{children:[_.jsx(tn,{to:`/editpost/${r}`,style:{...hn.actionButton,...hn.editButton},children:"Edit"}),_.jsx("button",{onClick:()=>e(r),style:{...hn.actionButton,...hn.deleteButton},children:"Delete"})]})]})]},i))}),WA="#3f5176",zA="#f44336",Dv="#4caf50",VA="#2196f3",si={actionButton:{padding:"8px 12px",marginRight:"10px",borderRadius:"4px",cursor:"pointer",textDecoration:"none",color:"#ffffff",fontWeight:"bold",fontSize:"14px"},editButton:{backgroundColor:Dv},viewButton:{backgroundColor:VA},deleteButton:{backgroundColor:zA},cardListContainer:{display:"flex",marginBottom:"20px",alignItems:"center"},cardListButton:{padding:"10px 20px",marginRight:"10px",borderRadius:"4px",cursor:"pointer",backgroundColor:WA,color:"#ffffff",fontWeight:"bold",fontSize:"16px",border:"none"},cardListButtonActive:{backgroundColor:Dv},searchBox:{marginLeft:"4px",padding:"10px",borderRadius:"4px",border:"1px solid #ccc",width:"300px"}},cE=({searchValue:t,handleSearchChange:e,viewingCard:n,searchInputRef:r,setViewingCard:i})=>_.jsxs("div",{style:si.cardListContainer,children:[_.jsx("button",{onClick:()=>i("Posts"),style:{...si.cardListButton,...n==="Posts"?si.cardListButtonActive:{}},children:"Posts"}),_.jsx("button",{onClick:()=>i("Collections"),style:{...si.cardListButton,...n==="Collections"?si.cardListButtonActive:{}},children:"Collections"}),_.jsx("input",{type:"text",placeholder:n==="Posts"?"Search posts...":"Search collections...",style:si.searchBox,value:t,onChange:e,ref:r,autoFocus:!0})]}),HA="#1e2a3a",GA="#333333",qA="#f5f5f5",KA="#4caf50",kv={container:{maxWidth:"900px",margin:"0 auto 50px",padding:"3px 20px 20px 20px",borderRadius:"8px",boxShadow:"0 0 10px rgba(255, 255, 255, 0.1)",backgroundColor:HA,color:"#ffffff"},heading:{marginBottom:"20px",fontSize:"32px",fontWeight:"bold",color:KA},listItem:{marginBottom:"15px",padding:"10px",marginLeft:"16px",marginRight:"16px",borderRadius:"6px",boxShadow:"0 0 5px rgba(255, 255, 255, 0.1)",backgroundColor:qA,display:"flex",alignItems:"center",justifyContent:"space-between"},postTitle:{fontSize:"18px",color:GA,marginRight:"20px",overflow:"auto"},buttonsContainer:{display:"flex",alignItems:"center"}},YA=()=>{const{username:t}=Xi(),[e,n]=E.useState([]),[r,i]=E.useState([]),[o,s]=E.useState([]),[a,l]=E.useState(!0),[u,d]=E.useState("Posts"),[c,f]=E.useState(""),[h,p]=E.useState([]),[y,C]=E.useState([]),[m,g]=E.useState([]),v=E.useRef(null);E.useEffect(()=>{const b=async()=>{try{const I=await Is(t),D=Xe(),k=Qe(D,"posts"),O=Pp(k,xp("uid"),Tp(I)),re=await Rn(O),ee=[];return re.forEach(Y=>{const ve=Y.key;ee.push(ve)}),ee}catch(I){return console.error("Error fetching posts:",I),[]}},x=async()=>{try{const I=await Is(t);return lA(t)}catch(I){return console.error(I),console.error("Failed to get Collections",t),null}};b().then(I=>{s(I),n(I),i(I),l(!1)}),x().then(I=>{g(I),p(I),C(I)})},[]),E.useEffect(()=>{if(u==="Posts"){const b=o.filter(x=>x.toLowerCase().includes(c.toLowerCase()));i(b)}else if(u==="Collections"){const b=m.filter(x=>x.toLowerCase().includes(c.toLowerCase()));C(b)}},[c,u,o,m]);const w=b=>{f(b.target.value)},S=()=>_.jsx("div",{children:u==="Posts"?_.jsx(uE,{posts:r}):_.jsx(lE,{username:t,collections:y})});return _.jsxs("div",{style:kv.container,children:[_.jsx("h2",{style:kv.heading,children:t}),_.jsx(cE,{handleSearchChange:w,viewingCard:u,searchInputRef:v,setViewingCard:d}),a?_.jsx("p",{children:"Loading..."}):_.jsx(_.Fragment,{children:t?_.jsx(S,{}):_.jsx("p",{children:"User not found."})})]})},QA="#1e2a3a",XA="#333333",JA="#f5f5f5",ZA="#4caf50",Nv={container:{maxWidth:"900px",margin:"0 auto 90px",padding:"3px 20px 20px 20px",borderRadius:"8px",boxShadow:"0 0 10px rgba(255, 255, 255, 0.1)",backgroundColor:QA,color:"#ffffff"},heading:{marginBottom:"20px",fontSize:"32px",fontWeight:"bold",color:ZA},listItem:{marginBottom:"15px",padding:"10px",marginLeft:"16px",marginRight:"16px",borderRadius:"6px",boxShadow:"0 0 5px rgba(255, 255, 255, 0.1)",backgroundColor:JA,display:"flex",alignItems:"center",justifyContent:"space-between"},postTitle:{fontSize:"18px",color:XA,marginRight:"20px",overflow:"auto"},buttonsContainer:{display:"flex",alignItems:"center"}},eO=()=>{const[t,e]=E.useState(""),[n,r]=E.useState([]),[i,o]=E.useState([]),[s,a]=E.useState([]),[l,u]=E.useState(!0),[d,c]=E.useState("Posts"),[f,h]=E.useState(""),[p,y]=E.useState([]),[C,m]=E.useState([]),[g,v]=E.useState([]),w=E.useRef(null);E.useEffect(()=>{const k=Yt().onAuthStateChanged(O=>{if(O){const re=O.email,ee=re.substring(0,re.indexOf("@"));e(ee);const Y=O.uid;Qe(Xe());const ve=async()=>{try{const Q=Xe(),N=Qe(Q,"posts"),B=Pp(N,xp("uid"),Tp(Y)),M=await Rn(B),G=[];return M.forEach($=>{const tt=$.key;G.push(tt)}),G}catch(Q){return console.error("Error fetching posts:",Q),[]}},le=async()=>{try{const Q=await Is(ee),N=await Qe(Xe()),B=`users/${Q}/Collections/`;console.log(Q),console.log(`Fetching Collections of ${ee}, uid: ${Q}`);const M=await Rn(ln(N,B));if(!M.exists())return console.error("Collections Not Found"),[];console.log("Collections Fetched");const G=M.val();let $=[];return Object.keys(G).forEach(tt=>{$.push(tt)}),console.log($),$}catch(Q){return console.error(Q),console.error("Failed to get Collections",ee),[]}};ve().then(Q=>{a(Q),r(Q),o(Q),u(!1)}),le().then(Q=>{v(Q),y(Q),m(Q)})}else e(""),r([]),y([]),u(!1)});return()=>{k()}},[]),E.useEffect(()=>{if(d==="Posts"){const D=s.filter(k=>k.toLowerCase().includes(f.toLowerCase()));o(D)}else if(d==="Collections"){const D=g.filter(k=>k.toLowerCase().includes(f.toLowerCase()));m(D)}},[f,d,s,g]);const S=D=>{const k=async()=>{aA(D).then(()=>{a(s.filter(O=>O!==D)),r(n.filter(O=>O!==D)),console.log("Post Deleted Successfully")})};try{k()}catch(O){console.error(O),alert(O)}},b=D=>{(async O=>{uA(O).then(()=>{v(g.filter(re=>re!==O))}),console.log("Collection Deleted Successfully")})(D)},x=D=>{h(D.target.value)},I=()=>_.jsx("div",{children:d==="Posts"?_.jsx(uE,{posts:i,handleDelete:S,isCurrentUser:!0}):_.jsx(lE,{isCurrentUser:!0,username:t,collections:C,handleDelete:b})});return _.jsxs("div",{style:Nv.container,children:[_.jsx("h2",{style:Nv.heading,children:t}),_.jsx(cE,{handleSearchChange:x,viewingCard:d,searchInputRef:w,setViewingCard:c}),l?_.jsx("p",{children:"Loading..."}):_.jsx(_.Fragment,{children:t?_.jsx(I,{}):_.jsx("p",{children:"User not found."})})]})};var tO="firebase",nO="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr(tO,nO,"app");const rO={apiKey:"AIzaSyCUy1bhWG-83oU2zJVKlJWNAO56fdsDybY",authDomain:"textshare-37fab.firebaseapp.com",projectId:"textshare-37fab",storageBucket:"textshare-37fab.appspot.com",messagingSenderId:"796140934378",appId:"1:796140934378:web:0e392b13f403314035b393",measurementId:"G-JQ5E5WFX86",databaseURL:"https://textshare-37fab-default-rtdb.asia-southeast1.firebasedatabase.app/"};l0(rO);const iO="#1e2a3a",oO="#333333",Av="#f5f5f5",sO="#f44336",Ov="#4caf50",aO="#2196f3",It={container:{maxWidth:"900px",margin:"0 auto 50px",padding:"3px 20px 20px 20px",borderRadius:"8px",boxShadow:"0 0 10px rgba(255, 255, 255, 0.1)",backgroundColor:iO,color:"#ffffff"},heading:{marginBottom:"5px",fontSize:"32px",fontWeight:"bold",color:Ov},authorName:{marginBottom:"20px",fontSize:"20px",color:Av,fontStyle:"italic"},listItem:{marginBottom:"15px",padding:"10px",borderRadius:"6px",boxShadow:"0 0 5px rgba(255, 255, 255, 0.1)",backgroundColor:Av,display:"flex",alignItems:"center",justifyContent:"space-between"},postTitle:{fontSize:"18px",color:oO,marginRight:"20px",overflow:"auto"},buttonsContainer:{display:"flex",alignItems:"center"},actionButton:{padding:"8px 12px",marginRight:"10px",borderRadius:"4px",cursor:"pointer",textDecoration:"none",color:"#ffffff",fontWeight:"bold",fontSize:"14px"},editButton:{backgroundColor:Ov},viewButton:{backgroundColor:aO},deleteButton:{backgroundColor:sO}},lO=({header:t,isCurrentUser:e=!1,posts:n=[]})=>{const[r]=E.useState(Xi().username||"Anonymous"),i=o=>{console.log(`Deleting post: ${o}`)};return _.jsxs("div",{style:It.container,children:[_.jsx("h2",{style:It.heading,children:t}),r&&_.jsxs("p",{style:It.authorName,children:["by ",r]}),n&&n.length>0?n.map((o,s)=>_.jsxs("div",{style:It.listItem,children:[_.jsx("span",{style:It.postTitle,children:o}),_.jsxs("div",{style:It.buttonsContainer,children:[_.jsx(tn,{to:`/viewpost/${o}`,style:{...It.actionButton,...It.viewButton},children:"View"}),e&&_.jsxs(_.Fragment,{children:[_.jsx(tn,{to:`/editpost/${o}`,style:{...It.actionButton,...It.editButton},children:"Edit"}),_.jsx("button",{onClick:()=>i(o),style:{...It.actionButton,...It.deleteButton},children:"Delete"})]})]})]},s)):_.jsx(_.Fragment,{children:_.jsx("h3",{children:"Loading Collection..."})})]})},uO={container:{marginBottom:"90px"}},cO=()=>{const{username:t,collectionName:e}=Xi(),[n,r]=E.useState(null);return E.useEffect(()=>{(async()=>{try{const o=await sE(t,e);console.log(o),r(o)}catch(o){console.error("Error fetching posts:",o)}})()},[]),_.jsx("div",{style:uO.container,children:_.jsx(lO,{header:`Collection : ${e}`,posts:n})})};function If(t,e){return If=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},If(t,e)}function dE(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,If(t,e)}function F(){return F=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F.apply(null,arguments)}function xs(t){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xs(t)}function dO(t,e){if(xs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fO(t){var e=dO(t,"string");return xs(e)=="symbol"?e:e+""}function hO(t,e,n){return(e=fO(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lv(Object(n),!0).forEach(function(r){hO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Bv=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Kc=function(){return Math.random().toString(36).substring(7).split("").join(".")},Fv={INIT:"@@redux/INIT"+Kc(),REPLACE:"@@redux/REPLACE"+Kc(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Kc()}};function pO(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function fE(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(rt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(rt(1));return n(fE)(t,e)}if(typeof t!="function")throw new Error(rt(2));var i=t,o=e,s=[],a=s,l=!1;function u(){a===s&&(a=s.slice())}function d(){if(l)throw new Error(rt(3));return o}function c(y){if(typeof y!="function")throw new Error(rt(4));if(l)throw new Error(rt(5));var C=!0;return u(),a.push(y),function(){if(C){if(l)throw new Error(rt(6));C=!1,u();var g=a.indexOf(y);a.splice(g,1),s=null}}}function f(y){if(!pO(y))throw new Error(rt(7));if(typeof y.type>"u")throw new Error(rt(8));if(l)throw new Error(rt(9));try{l=!0,o=i(o,y)}finally{l=!1}for(var C=s=a,m=0;m<C.length;m++){var g=C[m];g()}return y}function h(y){if(typeof y!="function")throw new Error(rt(10));i=y,f({type:Fv.REPLACE})}function p(){var y,C=c;return y={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(rt(11));function v(){g.next&&g.next(d())}v();var w=C(v);return{unsubscribe:w}}},y[Bv]=function(){return this},y}return f({type:Fv.INIT}),r={dispatch:f,subscribe:c,getState:d,replaceReducer:h},r[Bv]=p,r}function Uv(t,e){return function(){return e(t.apply(this,arguments))}}function jv(t,e){if(typeof t=="function")return Uv(t,e);if(typeof t!="object"||t===null)throw new Error(rt(16));var n={};for(var r in t){var i=t[r];typeof i=="function"&&(n[r]=Uv(i,e))}return n}function hE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function gO(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(rt(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=e.map(function(l){return l(s)});return o=hE.apply(void 0,a)(i.dispatch),Mv(Mv({},i),{},{dispatch:o})}}}var pE=se.createContext(null);function mO(t){t()}var gE=mO,vO=function(e){return gE=e},yO=function(){return gE};function _O(){var t=yO(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t(function(){for(var i=e;i;)i.callback(),i=i.next})},get:function(){for(var i=[],o=e;o;)i.push(o),o=o.next;return i},subscribe:function(i){var o=!0,s=n={callback:i,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!o||e===null||(o=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var $v={notify:function(){},get:function(){return[]}};function mE(t,e){var n,r=$v;function i(c){return l(),r.subscribe(c)}function o(){r.notify()}function s(){d.onStateChange&&d.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(s):t.subscribe(s),r=_O())}function u(){n&&(n(),n=void 0,r.clear(),r=$v)}var d={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:function(){return r}};return d}var vE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E.useLayoutEffect:E.useEffect;function wO(t){var e=t.store,n=t.context,r=t.children,i=E.useMemo(function(){var a=mE(e);return{store:e,subscription:a}},[e]),o=E.useMemo(function(){return e.getState()},[e]);vE(function(){var a=i.subscription;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==e.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[i,o]);var s=n||pE;return se.createElement(s.Provider,{value:i},r)}function Gl(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}var yE={exports:{}},Z={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ae=typeof Symbol=="function"&&Symbol.for,Rp=Ae?Symbol.for("react.element"):60103,Dp=Ae?Symbol.for("react.portal"):60106,Lu=Ae?Symbol.for("react.fragment"):60107,Mu=Ae?Symbol.for("react.strict_mode"):60108,Bu=Ae?Symbol.for("react.profiler"):60114,Fu=Ae?Symbol.for("react.provider"):60109,Uu=Ae?Symbol.for("react.context"):60110,kp=Ae?Symbol.for("react.async_mode"):60111,ju=Ae?Symbol.for("react.concurrent_mode"):60111,$u=Ae?Symbol.for("react.forward_ref"):60112,Wu=Ae?Symbol.for("react.suspense"):60113,CO=Ae?Symbol.for("react.suspense_list"):60120,zu=Ae?Symbol.for("react.memo"):60115,Vu=Ae?Symbol.for("react.lazy"):60116,EO=Ae?Symbol.for("react.block"):60121,SO=Ae?Symbol.for("react.fundamental"):60117,bO=Ae?Symbol.for("react.responder"):60118,IO=Ae?Symbol.for("react.scope"):60119;function Ct(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Rp:switch(t=t.type,t){case kp:case ju:case Lu:case Bu:case Mu:case Wu:return t;default:switch(t=t&&t.$$typeof,t){case Uu:case $u:case Vu:case zu:case Fu:return t;default:return e}}case Dp:return e}}}function _E(t){return Ct(t)===ju}Z.AsyncMode=kp;Z.ConcurrentMode=ju;Z.ContextConsumer=Uu;Z.ContextProvider=Fu;Z.Element=Rp;Z.ForwardRef=$u;Z.Fragment=Lu;Z.Lazy=Vu;Z.Memo=zu;Z.Portal=Dp;Z.Profiler=Bu;Z.StrictMode=Mu;Z.Suspense=Wu;Z.isAsyncMode=function(t){return _E(t)||Ct(t)===kp};Z.isConcurrentMode=_E;Z.isContextConsumer=function(t){return Ct(t)===Uu};Z.isContextProvider=function(t){return Ct(t)===Fu};Z.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rp};Z.isForwardRef=function(t){return Ct(t)===$u};Z.isFragment=function(t){return Ct(t)===Lu};Z.isLazy=function(t){return Ct(t)===Vu};Z.isMemo=function(t){return Ct(t)===zu};Z.isPortal=function(t){return Ct(t)===Dp};Z.isProfiler=function(t){return Ct(t)===Bu};Z.isStrictMode=function(t){return Ct(t)===Mu};Z.isSuspense=function(t){return Ct(t)===Wu};Z.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Lu||t===ju||t===Bu||t===Mu||t===Wu||t===CO||typeof t=="object"&&t!==null&&(t.$$typeof===Vu||t.$$typeof===zu||t.$$typeof===Fu||t.$$typeof===Uu||t.$$typeof===$u||t.$$typeof===SO||t.$$typeof===bO||t.$$typeof===IO||t.$$typeof===EO)};Z.typeOf=Ct;yE.exports=Z;var xO=yE.exports,Np=xO,TO={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},PO={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},RO={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},wE={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ap={};Ap[Np.ForwardRef]=RO;Ap[Np.Memo]=wE;function Wv(t){return Np.isMemo(t)?wE:Ap[t.$$typeof]||TO}var DO=Object.defineProperty,kO=Object.getOwnPropertyNames,zv=Object.getOwnPropertySymbols,NO=Object.getOwnPropertyDescriptor,AO=Object.getPrototypeOf,Vv=Object.prototype;function CE(t,e,n){if(typeof e!="string"){if(Vv){var r=AO(e);r&&r!==Vv&&CE(t,r,n)}var i=kO(e);zv&&(i=i.concat(zv(e)));for(var o=Wv(t),s=Wv(e),a=0;a<i.length;++a){var l=i[a];if(!PO[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var u=NO(e,l);try{DO(t,l,u)}catch{}}}}return t}var OO=CE;const Hv=Af(OO);var EE={exports:{}},ie={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hu=60103,Gu=60106,Xs=60107,Js=60108,Zs=60114,ea=60109,ta=60110,na=60112,ra=60113,Op=60120,ia=60115,oa=60116,SE=60121,bE=60122,IE=60117,xE=60129,TE=60131;if(typeof Symbol=="function"&&Symbol.for){var Oe=Symbol.for;Hu=Oe("react.element"),Gu=Oe("react.portal"),Xs=Oe("react.fragment"),Js=Oe("react.strict_mode"),Zs=Oe("react.profiler"),ea=Oe("react.provider"),ta=Oe("react.context"),na=Oe("react.forward_ref"),ra=Oe("react.suspense"),Op=Oe("react.suspense_list"),ia=Oe("react.memo"),oa=Oe("react.lazy"),SE=Oe("react.block"),bE=Oe("react.server.block"),IE=Oe("react.fundamental"),xE=Oe("react.debug_trace_mode"),TE=Oe("react.legacy_hidden")}function Qt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Hu:switch(t=t.type,t){case Xs:case Zs:case Js:case ra:case Op:return t;default:switch(t=t&&t.$$typeof,t){case ta:case na:case oa:case ia:case ea:return t;default:return e}}case Gu:return e}}}var LO=ea,MO=Hu,BO=na,FO=Xs,UO=oa,jO=ia,$O=Gu,WO=Zs,zO=Js,VO=ra;ie.ContextConsumer=ta;ie.ContextProvider=LO;ie.Element=MO;ie.ForwardRef=BO;ie.Fragment=FO;ie.Lazy=UO;ie.Memo=jO;ie.Portal=$O;ie.Profiler=WO;ie.StrictMode=zO;ie.Suspense=VO;ie.isAsyncMode=function(){return!1};ie.isConcurrentMode=function(){return!1};ie.isContextConsumer=function(t){return Qt(t)===ta};ie.isContextProvider=function(t){return Qt(t)===ea};ie.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hu};ie.isForwardRef=function(t){return Qt(t)===na};ie.isFragment=function(t){return Qt(t)===Xs};ie.isLazy=function(t){return Qt(t)===oa};ie.isMemo=function(t){return Qt(t)===ia};ie.isPortal=function(t){return Qt(t)===Gu};ie.isProfiler=function(t){return Qt(t)===Zs};ie.isStrictMode=function(t){return Qt(t)===Js};ie.isSuspense=function(t){return Qt(t)===ra};ie.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Xs||t===Zs||t===xE||t===Js||t===ra||t===Op||t===TE||typeof t=="object"&&t!==null&&(t.$$typeof===oa||t.$$typeof===ia||t.$$typeof===ea||t.$$typeof===ta||t.$$typeof===na||t.$$typeof===IE||t.$$typeof===SE||t[0]===bE)};ie.typeOf=Qt;EE.exports=ie;var HO=EE.exports,GO=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],qO=["reactReduxForwardedRef"],KO=[],YO=[null,null];function QO(t,e){var n=t[1];return[e.payload,n+1]}function Gv(t,e,n){vE(function(){return t.apply(void 0,e)},n)}function XO(t,e,n,r,i,o,s){t.current=r,e.current=i,n.current=!1,o.current&&(o.current=null,s())}function JO(t,e,n,r,i,o,s,a,l,u){if(t){var d=!1,c=null,f=function(){if(!d){var y=e.getState(),C,m;try{C=r(y,i.current)}catch(g){m=g,c=g}m||(c=null),C===o.current?s.current||l():(o.current=C,a.current=C,s.current=!0,u({type:"STORE_UPDATED",payload:{error:m}}))}};n.onStateChange=f,n.trySubscribe(),f();var h=function(){if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,c)throw c};return h}}var ZO=function(){return[null,0]};function eL(t,e){e===void 0&&(e={});var n=e,r=n.getDisplayName,i=r===void 0?function(v){return"ConnectAdvanced("+v+")"}:r,o=n.methodName,s=o===void 0?"connectAdvanced":o,a=n.renderCountProp,l=a===void 0?void 0:a,u=n.shouldHandleStateChanges,d=u===void 0?!0:u,c=n.storeKey,f=c===void 0?"store":c;n.withRef;var h=n.forwardRef,p=h===void 0?!1:h,y=n.context,C=y===void 0?pE:y,m=Gl(n,GO),g=C;return function(w){var S=w.displayName||w.name||"Component",b=i(S),x=F({},m,{getDisplayName:i,methodName:s,renderCountProp:l,shouldHandleStateChanges:d,storeKey:f,displayName:b,wrappedComponentName:S,WrappedComponent:w}),I=m.pure;function D(Y){return t(Y.dispatch,x)}var k=I?E.useMemo:function(Y){return Y()};function O(Y){var ve=E.useMemo(function(){var uo=Y.reactReduxForwardedRef,oc=Gl(Y,qO);return[Y.context,uo,oc]},[Y]),le=ve[0],Q=ve[1],N=ve[2],B=E.useMemo(function(){return le&&le.Consumer&&HO.isContextConsumer(se.createElement(le.Consumer,null))?le:g},[le,g]),M=E.useContext(B),G=!!Y.store&&!!Y.store.getState&&!!Y.store.dispatch;M&&M.store;var $=G?Y.store:M.store,tt=E.useMemo(function(){return D($)},[$]),Et=E.useMemo(function(){if(!d)return YO;var uo=mE($,G?null:M.subscription),oc=uo.notifyNestedSubs.bind(uo);return[uo,oc]},[$,G,M]),St=Et[0],bt=Et[1],cn=E.useMemo(function(){return G?M:F({},M,{subscription:St})},[G,M,St]),la=E.useReducer(QO,KO,ZO),ec=la[0],ri=ec[0],tc=la[1];if(ri&&ri.error)throw ri.error;var ig=E.useRef(),nc=E.useRef(N),ua=E.useRef(),og=E.useRef(!1),rc=k(function(){return ua.current&&N===nc.current?ua.current:tt($.getState(),N)},[$,ri,N]);Gv(XO,[nc,ig,og,N,rc,ua,bt]),Gv(JO,[d,$,St,tt,nc,ig,og,ua,bt,tc],[$,St,tt]);var ic=E.useMemo(function(){return se.createElement(w,F({},rc,{ref:Q}))},[Q,w,rc]),PS=E.useMemo(function(){return d?se.createElement(B.Provider,{value:cn},ic):ic},[B,ic,cn]);return PS}var re=I?se.memo(O):O;if(re.WrappedComponent=w,re.displayName=O.displayName=b,p){var ee=se.forwardRef(function(ve,le){return se.createElement(re,F({},ve,{reactReduxForwardedRef:le}))});return ee.displayName=b,ee.WrappedComponent=w,Hv(ee,w)}return Hv(re,w)}}function qv(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Yc(t,e){if(qv(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!qv(t[n[i]],e[n[i]]))return!1;return!0}function tL(t,e){var n={},r=function(s){var a=t[s];typeof a=="function"&&(n[s]=function(){return e(a.apply(void 0,arguments))})};for(var i in t)r(i);return n}function Lp(t){return function(n,r){var i=t(n,r);function o(){return i}return o.dependsOnOwnProps=!1,o}}function Kv(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function PE(t,e){return function(r,i){i.displayName;var o=function(a,l){return o.dependsOnOwnProps?o.mapToProps(a,l):o.mapToProps(a)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,l){o.mapToProps=t,o.dependsOnOwnProps=Kv(t);var u=o(a,l);return typeof u=="function"&&(o.mapToProps=u,o.dependsOnOwnProps=Kv(u),u=o(a,l)),u},o}}function nL(t){return typeof t=="function"?PE(t):void 0}function rL(t){return t?void 0:Lp(function(e){return{dispatch:e}})}function iL(t){return t&&typeof t=="object"?Lp(function(e){return tL(t,e)}):void 0}const oL=[nL,rL,iL];function sL(t){return typeof t=="function"?PE(t):void 0}function aL(t){return t?void 0:Lp(function(){return{}})}const lL=[sL,aL];function uL(t,e,n){return F({},n,t,e)}function cL(t){return function(n,r){r.displayName;var i=r.pure,o=r.areMergedPropsEqual,s=!1,a;return function(u,d,c){var f=t(u,d,c);return s?(!i||!o(f,a))&&(a=f):(s=!0,a=f),a}}}function dL(t){return typeof t=="function"?cL(t):void 0}function fL(t){return t?void 0:function(){return uL}}const hL=[dL,fL];var pL=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function gL(t,e,n,r){return function(o,s){return n(t(o,s),e(r,s),s)}}function mL(t,e,n,r,i){var o=i.areStatesEqual,s=i.areOwnPropsEqual,a=i.areStatePropsEqual,l=!1,u,d,c,f,h;function p(v,w){return u=v,d=w,c=t(u,d),f=e(r,d),h=n(c,f,d),l=!0,h}function y(){return c=t(u,d),e.dependsOnOwnProps&&(f=e(r,d)),h=n(c,f,d),h}function C(){return t.dependsOnOwnProps&&(c=t(u,d)),e.dependsOnOwnProps&&(f=e(r,d)),h=n(c,f,d),h}function m(){var v=t(u,d),w=!a(v,c);return c=v,w&&(h=n(c,f,d)),h}function g(v,w){var S=!s(w,d),b=!o(v,u,w,d);return u=v,d=w,S&&b?y():S?C():b?m():h}return function(w,S){return l?g(w,S):p(w,S)}}function vL(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=Gl(e,pL),s=n(t,o),a=r(t,o),l=i(t,o),u=o.pure?mL:gL;return u(s,a,l,t,o)}var yL=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Qc(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(o,s){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+s.wrappedComponentName+".")}}function _L(t,e){return t===e}function wL(t){var e=t===void 0?{}:t,n=e.connectHOC,r=n===void 0?eL:n,i=e.mapStateToPropsFactories,o=i===void 0?lL:i,s=e.mapDispatchToPropsFactories,a=s===void 0?oL:s,l=e.mergePropsFactories,u=l===void 0?hL:l,d=e.selectorFactory,c=d===void 0?vL:d;return function(h,p,y,C){C===void 0&&(C={});var m=C,g=m.pure,v=g===void 0?!0:g,w=m.areStatesEqual,S=w===void 0?_L:w,b=m.areOwnPropsEqual,x=b===void 0?Yc:b,I=m.areStatePropsEqual,D=I===void 0?Yc:I,k=m.areMergedPropsEqual,O=k===void 0?Yc:k,re=Gl(m,yL),ee=Qc(h,o,"mapStateToProps"),Y=Qc(p,a,"mapDispatchToProps"),ve=Qc(y,u,"mergeProps");return r(c,F({methodName:"connect",getDisplayName:function(Q){return"Connect("+Q+")"},shouldHandleStateChanges:!!h,initMapStateToProps:ee,initMapDispatchToProps:Y,initMergeProps:ve,pure:v,areStatesEqual:S,areOwnPropsEqual:x,areStatePropsEqual:D,areMergedPropsEqual:O},re))}}const RE=wL();vO(Ph.unstable_batchedUpdates);function CL(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function DE(t,e){var n=E.useState(function(){return{inputs:e,result:t()}})[0],r=E.useRef(!0),i=E.useRef(n),o=r.current||!!(e&&i.current.inputs&&CL(e,i.current.inputs)),s=o?i.current:{inputs:e,result:t()};return E.useEffect(function(){r.current=!1,i.current=s},[s]),s.result}function EL(t,e){return DE(function(){return t},e)}var q=DE,L=EL,SL=!0,Xc="Invariant failed";function bL(t,e){if(!t){if(SL)throw new Error(Xc);var n=typeof e=="function"?e():e,r=n?"".concat(Xc,": ").concat(n):Xc;throw new Error(r)}}var zt=function(e){var n=e.top,r=e.right,i=e.bottom,o=e.left,s=r-o,a=i-n,l={top:n,right:r,bottom:i,left:o,width:s,height:a,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return l},Mp=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},Yv=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},IL=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},Jc={top:0,right:0,bottom:0,left:0},Bp=function(e){var n=e.borderBox,r=e.margin,i=r===void 0?Jc:r,o=e.border,s=o===void 0?Jc:o,a=e.padding,l=a===void 0?Jc:a,u=zt(Mp(n,i)),d=zt(Yv(n,s)),c=zt(Yv(d,l));return{marginBox:u,borderBox:zt(n),paddingBox:d,contentBox:c,margin:i,border:s,padding:l}},xt=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&bL(!1),i},xL=function(){return{x:window.pageXOffset,y:window.pageYOffset}},ql=function(e,n){var r=e.borderBox,i=e.border,o=e.margin,s=e.padding,a=IL(r,n);return Bp({borderBox:a,border:i,margin:o,padding:s})},Kl=function(e,n){return n===void 0&&(n=xL()),ql(e,n)},kE=function(e,n){var r={top:xt(n.marginTop),right:xt(n.marginRight),bottom:xt(n.marginBottom),left:xt(n.marginLeft)},i={top:xt(n.paddingTop),right:xt(n.paddingRight),bottom:xt(n.paddingBottom),left:xt(n.paddingLeft)},o={top:xt(n.borderTopWidth),right:xt(n.borderRightWidth),bottom:xt(n.borderBottomWidth),left:xt(n.borderLeftWidth)};return Bp({borderBox:e,margin:r,padding:i,border:o})},NE=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return kE(n,r)},Qv=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function TL(t,e){return!!(t===e||Qv(t)&&Qv(e))}function PL(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!TL(t[n],e[n]))return!1;return!0}function ke(t,e){e===void 0&&(e=PL);var n,r=[],i,o=!1;function s(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return o&&n===this&&e(a,r)||(i=t.apply(this,a),o=!0,n=this,r=a),i}return s}var RL=function(e){var n=[],r=null,i=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};const Ts=RL;function AE(t,e){}AE.bind(null,"warn");AE.bind(null,"error");function sr(){}function DL(t,e){return F({},t,{},e)}function Dt(t,e,n){var r=e.map(function(i){var o=DL(n,i.options);return t.addEventListener(i.eventName,i.fn,o),function(){t.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(function(o){o()})}}var kL="Invariant failed";function Yl(t){this.message=t}Yl.prototype.toString=function(){return this.message};function R(t,e){if(!t)throw new Yl(kL)}var NL=function(t){dE(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,r.callbacks=null,r.unbind=sr,r.onWindowError=function(a){var l=r.getCallbacks();l.isDragging()&&l.tryAbort();var u=a.error;u instanceof Yl&&a.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(a){r.callbacks=a},r}var n=e.prototype;return n.componentDidMount=function(){this.unbind=Dt(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(i){if(i instanceof Yl){this.setState({});return}throw i},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},e}(se.Component),AL=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Ql=function(e){return e+1},OL=function(e){return`
  You have lifted an item in position `+Ql(e.source.index)+`
`},OE=function(e,n){var r=e.droppableId===n.droppableId,i=Ql(e.index),o=Ql(n.index);return r?`
      You have moved the item from position `+i+`
      to position `+o+`
    `:`
    You have moved the item from position `+i+`
    in list `+e.droppableId+`
    to list `+n.droppableId+`
    in position `+o+`
  `},LE=function(e,n,r){var i=n.droppableId===r.droppableId;return i?`
      The item `+e+`
      has been combined with `+r.draggableId:`
      The item `+e+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},LL=function(e){var n=e.destination;if(n)return OE(e.source,n);var r=e.combine;return r?LE(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},Xv=function(e){return`
  The item has returned to its starting position
  of `+Ql(e.index)+`
`},ML=function(e){if(e.reason==="CANCEL")return`
      Movement cancelled.
      `+Xv(e.source)+`
    `;var n=e.destination,r=e.combine;return n?`
      You have dropped the item.
      `+OE(e.source,n)+`
    `:r?`
      You have dropped the item.
      `+LE(e.draggableId,e.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+Xv(e.source)+`
  `},Qa={dragHandleUsageInstructions:AL,onDragStart:OL,onDragUpdate:LL,onDragEnd:ML},Ne={x:0,y:0},Me=function(e,n){return{x:e.x+n.x,y:e.y+n.y}},pt=function(e,n){return{x:e.x-n.x,y:e.y-n.y}},ar=function(e,n){return e.x===n.x&&e.y===n.y},so=function(e){return{x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}},Jr=function(e,n,r){var i;return r===void 0&&(r=0),i={},i[e]=n,i[e==="x"?"y":"x"]=r,i},Ps=function(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))},Jv=function(e,n){return Math.min.apply(Math,n.map(function(r){return Ps(e,r)}))},ME=function(e){return function(n){return{x:e(n.x),y:e(n.y)}}},BL=function(t,e){var n=zt({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n},sa=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},Zv=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},FL={top:0,right:0,bottom:0,left:0},UL=function(e,n){return n?sa(e,n.scroll.diff.displacement):e},jL=function(e,n,r){if(r&&r.increasedBy){var i;return F({},e,(i={},i[n.end]=e[n.end]+r.increasedBy[n.line],i))}return e},$L=function(e,n){return n&&n.shouldClipSubject?BL(n.pageMarginBox,e):zt(e)},zi=function(t){var e=t.page,n=t.withPlaceholder,r=t.axis,i=t.frame,o=UL(e.marginBox,i),s=jL(o,r,n),a=$L(s,i);return{page:e,withPlaceholder:n,active:a}},Fp=function(t,e){t.frame||R(!1);var n=t.frame,r=pt(e,n.scroll.initial),i=so(r),o=F({},n,{scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}}),s=zi({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:o}),a=F({},t,{frame:o,subject:s});return a};function Xl(t){return Object.values?Object.values(t):Object.keys(t).map(function(e){return t[e]})}function Up(t,e){if(t.findIndex)return t.findIndex(e);for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}function Sr(t,e){if(t.find)return t.find(e);var n=Up(t,e);if(n!==-1)return t[n]}function BE(t){return Array.prototype.slice.call(t)}var FE=ke(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),UE=ke(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),qu=ke(function(t){return Xl(t)}),WL=ke(function(t){return Xl(t)}),ao=ke(function(t,e){var n=WL(e).filter(function(r){return t===r.descriptor.droppableId}).sort(function(r,i){return r.descriptor.index-i.descriptor.index});return n});function jp(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function Ku(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var Yu=ke(function(t,e){return e.filter(function(n){return n.descriptor.id!==t.descriptor.id})}),zL=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.insideDestination,o=t.previousImpact;if(!r.isCombineEnabled)return null;var s=jp(o);if(!s)return null;function a(y){var C={type:"COMBINE",combine:{draggableId:y,droppableId:r.descriptor.id}};return F({},o,{at:C})}var l=o.displaced.all,u=l.length?l[0]:null;if(e)return u?a(u):null;var d=Yu(n,i);if(!u){if(!d.length)return null;var c=d[d.length-1];return a(c.descriptor.id)}var f=Up(d,function(y){return y.descriptor.id===u});f===-1&&R(!1);var h=f-1;if(h<0)return null;var p=d[h];return a(p.descriptor.id)},lo=function(t,e){return t.descriptor.droppableId===e.descriptor.id},jE={point:Ne,value:0},Rs={invisible:{},visible:{},all:[]},VL={displaced:Rs,displacedBy:jE,at:null},Nt=function(t,e){return function(n){return t<=n&&n<=e}},$E=function(t){var e=Nt(t.top,t.bottom),n=Nt(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);if(i)return!0;var o=e(r.top)||e(r.bottom),s=n(r.left)||n(r.right),a=o&&s;if(a)return!0;var l=r.top<t.top&&r.bottom>t.bottom,u=r.left<t.left&&r.right>t.right,d=l&&u;if(d)return!0;var c=l&&s||u&&o;return c}},HL=function(t){var e=Nt(t.top,t.bottom),n=Nt(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);return i}},$p={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},WE={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},GL=function(t){return function(e){var n=Nt(e.top,e.bottom),r=Nt(e.left,e.right);return function(i){return t===$p?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)}}},qL=function(e,n){var r=n.frame?n.frame.scroll.diff.displacement:Ne;return sa(e,r)},KL=function(e,n,r){return n.subject.active?r(n.subject.active)(e):!1},YL=function(e,n,r){return r(n)(e)},Wp=function(e){var n=e.target,r=e.destination,i=e.viewport,o=e.withDroppableDisplacement,s=e.isVisibleThroughFrameFn,a=o?qL(n,r):n;return KL(a,r,s)&&YL(a,i,s)},QL=function(e){return Wp(F({},e,{isVisibleThroughFrameFn:$E}))},zE=function(e){return Wp(F({},e,{isVisibleThroughFrameFn:HL}))},XL=function(e){return Wp(F({},e,{isVisibleThroughFrameFn:GL(e.destination.axis)}))},JL=function(e,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var i=n.invisible,o=n.visible;if(i[e])return!1;var s=o[e];return s?s.shouldAnimate:!0};function ZL(t,e){var n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return zt(Mp(n,r))}function Ds(t){var e=t.afterDragging,n=t.destination,r=t.displacedBy,i=t.viewport,o=t.forceShouldAnimate,s=t.last;return e.reduce(function(l,u){var d=ZL(u,r),c=u.descriptor.id;l.all.push(c);var f=QL({target:d,destination:n,viewport:i,withDroppableDisplacement:!0});if(!f)return l.invisible[u.descriptor.id]=!0,l;var h=JL(c,s,o),p={draggableId:c,shouldAnimate:h};return l.visible[c]=p,l},{all:[],visible:{},invisible:{}})}function eM(t,e){if(!t.length)return 0;var n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function ey(t){var e=t.insideDestination,n=t.inHomeList,r=t.displacedBy,i=t.destination,o=eM(e,{inHomeList:n});return{displaced:Rs,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function Jl(t){var e=t.draggable,n=t.insideDestination,r=t.destination,i=t.viewport,o=t.displacedBy,s=t.last,a=t.index,l=t.forceShouldAnimate,u=lo(e,r);if(a==null)return ey({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});var d=Sr(n,function(y){return y.descriptor.index===a});if(!d)return ey({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});var c=Yu(e,n),f=n.indexOf(d),h=c.slice(f),p=Ds({afterDragging:h,destination:r,displacedBy:o,last:s,viewport:i.frame,forceShouldAnimate:l});return{displaced:p,displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:a}}}}function gr(t,e){return!!e.effected[t]}var tM=function(t){var e=t.isMovingForward,n=t.destination,r=t.draggables,i=t.combine,o=t.afterCritical;if(!n.isCombineEnabled)return null;var s=i.draggableId,a=r[s],l=a.descriptor.index,u=gr(s,o);return u?e?l:l-1:e?l+1:l},nM=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.insideDestination,i=t.location;if(!r.length)return null;var o=i.index,s=e?o+1:o-1,a=r[0].descriptor.index,l=r[r.length-1].descriptor.index,u=n?l:l+1;return s<a||s>u?null:s},rM=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.draggable,i=t.draggables,o=t.destination,s=t.insideDestination,a=t.previousImpact,l=t.viewport,u=t.afterCritical,d=a.at;if(d||R(!1),d.type==="REORDER"){var c=nM({isMovingForward:e,isInHomeList:n,location:d.destination,insideDestination:s});return c==null?null:Jl({draggable:r,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:c})}var f=tM({isMovingForward:e,destination:o,displaced:a.displaced,draggables:i,combine:d.combine,afterCritical:u});return f==null?null:Jl({draggable:r,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:f})},iM=function(t){var e=t.displaced,n=t.afterCritical,r=t.combineWith,i=t.displacedBy,o=!!(e.visible[r]||e.invisible[r]);return gr(r,n)?o?Ne:so(i.point):o?i.point:Ne},oM=function(t){var e=t.afterCritical,n=t.impact,r=t.draggables,i=Ku(n);i||R(!1);var o=i.draggableId,s=r[o].page.borderBox.center,a=iM({displaced:n.displaced,afterCritical:e,combineWith:o,displacedBy:n.displacedBy});return Me(s,a)},VE=function(e,n){return n.margin[e.start]+n.borderBox[e.size]/2},sM=function(e,n){return n.margin[e.end]+n.borderBox[e.size]/2},zp=function(e,n,r){return n[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},ty=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return Jr(n.line,r.marginBox[n.end]+VE(n,i),zp(n,r.marginBox,i))},ny=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return Jr(n.line,r.marginBox[n.start]-sM(n,i),zp(n,r.marginBox,i))},aM=function(e){var n=e.axis,r=e.moveInto,i=e.isMoving;return Jr(n.line,r.contentBox[n.start]+VE(n,i),zp(n,r.contentBox,i))},lM=function(t){var e=t.impact,n=t.draggable,r=t.draggables,i=t.droppable,o=t.afterCritical,s=ao(i.descriptor.id,r),a=n.page,l=i.axis;if(!s.length)return aM({axis:l,moveInto:i.page,isMoving:a});var u=e.displaced,d=e.displacedBy,c=u.all[0];if(c){var f=r[c];if(gr(c,o))return ny({axis:l,moveRelativeTo:f.page,isMoving:a});var h=ql(f.page,d.point);return ny({axis:l,moveRelativeTo:h,isMoving:a})}var p=s[s.length-1];if(p.descriptor.id===n.descriptor.id)return a.borderBox.center;if(gr(p.descriptor.id,o)){var y=ql(p.page,so(o.displacedBy.point));return ty({axis:l,moveRelativeTo:y,isMoving:a})}return ty({axis:l,moveRelativeTo:p.page,isMoving:a})},xf=function(t,e){var n=t.frame;return n?Me(e,n.scroll.diff.displacement):e},uM=function(e){var n=e.impact,r=e.draggable,i=e.droppable,o=e.draggables,s=e.afterCritical,a=r.page.borderBox.center,l=n.at;return!i||!l?a:l.type==="REORDER"?lM({impact:n,draggable:r,draggables:o,droppable:i,afterCritical:s}):oM({impact:n,draggables:o,afterCritical:s})},Qu=function(t){var e=uM(t),n=t.droppable,r=n?xf(n,e):e;return r},HE=function(t,e){var n=pt(e,t.scroll.initial),r=so(n),i=zt({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),o={frame:i,scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}};return o};function ry(t,e){return t.map(function(n){return e[n]})}function cM(t,e){for(var n=0;n<e.length;n++){var r=e[n].visible[t];if(r)return r}return null}var dM=function(t){var e=t.impact,n=t.viewport,r=t.destination,i=t.draggables,o=t.maxScrollChange,s=HE(n,Me(n.scroll.current,o)),a=r.frame?Fp(r,Me(r.frame.scroll.current,o)):r,l=e.displaced,u=Ds({afterDragging:ry(l.all,i),destination:r,displacedBy:e.displacedBy,viewport:s.frame,last:l,forceShouldAnimate:!1}),d=Ds({afterDragging:ry(l.all,i),destination:a,displacedBy:e.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),c={},f={},h=[l,u,d];l.all.forEach(function(y){var C=cM(y,h);if(C){f[y]=C;return}c[y]=!0});var p=F({},e,{displaced:{all:l.all,invisible:c,visible:f}});return p},fM=function(t,e){return Me(t.scroll.diff.displacement,e)},Vp=function(t){var e=t.pageBorderBoxCenter,n=t.draggable,r=t.viewport,i=fM(r,e),o=pt(i,n.page.borderBox.center);return Me(n.client.borderBox.center,o)},GE=function(t){var e=t.draggable,n=t.destination,r=t.newPageBorderBoxCenter,i=t.viewport,o=t.withDroppableDisplacement,s=t.onlyOnMainAxis,a=s===void 0?!1:s,l=pt(r,e.page.borderBox.center),u=sa(e.page.borderBox,l),d={target:u,destination:n,withDroppableDisplacement:o,viewport:i};return a?XL(d):zE(d)},hM=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.draggables,o=t.previousImpact,s=t.viewport,a=t.previousPageBorderBoxCenter,l=t.previousClientSelection,u=t.afterCritical;if(!r.isEnabled)return null;var d=ao(r.descriptor.id,i),c=lo(n,r),f=zL({isMovingForward:e,draggable:n,destination:r,insideDestination:d,previousImpact:o})||rM({isMovingForward:e,isInHomeList:c,draggable:n,draggables:i,destination:r,insideDestination:d,previousImpact:o,viewport:s,afterCritical:u});if(!f)return null;var h=Qu({impact:f,draggable:n,droppable:r,draggables:i,afterCritical:u}),p=GE({draggable:n,destination:r,newPageBorderBoxCenter:h,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(p){var y=Vp({pageBorderBoxCenter:h,draggable:n,viewport:s});return{clientSelection:y,impact:f,scrollJumpRequest:null}}var C=pt(h,a),m=dM({impact:f,viewport:s,destination:r,draggables:i,maxScrollChange:C});return{clientSelection:l,impact:m,scrollJumpRequest:C}},Ge=function(e){var n=e.subject.active;return n||R(!1),n},pM=function(t){var e=t.isMovingForward,n=t.pageBorderBoxCenter,r=t.source,i=t.droppables,o=t.viewport,s=r.subject.active;if(!s)return null;var a=r.axis,l=Nt(s[a.start],s[a.end]),u=qu(i).filter(function(c){return c!==r}).filter(function(c){return c.isEnabled}).filter(function(c){return!!c.subject.active}).filter(function(c){return $E(o.frame)(Ge(c))}).filter(function(c){var f=Ge(c);return e?s[a.crossAxisEnd]<f[a.crossAxisEnd]:f[a.crossAxisStart]<s[a.crossAxisStart]}).filter(function(c){var f=Ge(c),h=Nt(f[a.start],f[a.end]);return l(f[a.start])||l(f[a.end])||h(s[a.start])||h(s[a.end])}).sort(function(c,f){var h=Ge(c)[a.crossAxisStart],p=Ge(f)[a.crossAxisStart];return e?h-p:p-h}).filter(function(c,f,h){return Ge(c)[a.crossAxisStart]===Ge(h[0])[a.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var d=u.filter(function(c){var f=Nt(Ge(c)[a.start],Ge(c)[a.end]);return f(n[a.line])});return d.length===1?d[0]:d.length>1?d.sort(function(c,f){return Ge(c)[a.start]-Ge(f)[a.start]})[0]:u.sort(function(c,f){var h=Jv(n,Zv(Ge(c))),p=Jv(n,Zv(Ge(f)));return h!==p?h-p:Ge(c)[a.start]-Ge(f)[a.start]})[0]},iy=function(e,n){var r=e.page.borderBox.center;return gr(e.descriptor.id,n)?pt(r,n.displacedBy.point):r},gM=function(e,n){var r=e.page.borderBox;return gr(e.descriptor.id,n)?sa(r,so(n.displacedBy.point)):r},mM=function(t){var e=t.pageBorderBoxCenter,n=t.viewport,r=t.destination,i=t.insideDestination,o=t.afterCritical,s=i.filter(function(a){return zE({target:gM(a,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(a,l){var u=Ps(e,xf(r,iy(a,o))),d=Ps(e,xf(r,iy(l,o)));return u<d?-1:d<u?1:a.descriptor.index-l.descriptor.index});return s[0]||null},aa=ke(function(e,n){var r=n[e.line];return{value:r,point:Jr(e.line,r)}}),vM=function(e,n,r){var i=e.axis;if(e.descriptor.mode==="virtual")return Jr(i.line,n[i.line]);var o=e.subject.page.contentBox[i.size],s=ao(e.descriptor.id,r),a=s.reduce(function(d,c){return d+c.client.marginBox[i.size]},0),l=a+n[i.line],u=l-o;return u<=0?null:Jr(i.line,u)},qE=function(e,n){return F({},e,{scroll:F({},e.scroll,{max:n})})},KE=function(e,n,r){var i=e.frame;lo(n,e)&&R(!1),e.subject.withPlaceholder&&R(!1);var o=aa(e.axis,n.displaceBy).point,s=vM(e,o,r),a={placeholderSize:o,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!i){var l=zi({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return F({},e,{subject:l})}var u=s?Me(i.scroll.max,s):i.scroll.max,d=qE(i,u),c=zi({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:d});return F({},e,{subject:c,frame:d})},yM=function(e){var n=e.subject.withPlaceholder;n||R(!1);var r=e.frame;if(!r){var i=zi({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return F({},e,{subject:i})}var o=n.oldFrameMaxScroll;o||R(!1);var s=qE(r,o),a=zi({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return F({},e,{subject:a,frame:s})},_M=function(t){var e=t.previousPageBorderBoxCenter,n=t.moveRelativeTo,r=t.insideDestination,i=t.draggable,o=t.draggables,s=t.destination,a=t.viewport,l=t.afterCritical;if(!n){if(r.length)return null;var u={displaced:Rs,displacedBy:jE,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},d=Qu({impact:u,draggable:i,droppable:s,draggables:o,afterCritical:l}),c=lo(i,s)?s:KE(s,i,o),f=GE({draggable:i,destination:c,newPageBorderBoxCenter:d,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return f?u:null}var h=e[s.axis.line]<=n.page.borderBox.center[s.axis.line],p=function(){var C=n.descriptor.index;return n.descriptor.id===i.descriptor.id||h?C:C+1}(),y=aa(s.axis,i.displaceBy);return Jl({draggable:i,insideDestination:r,destination:s,viewport:a,displacedBy:y,last:Rs,index:p})},wM=function(t){var e=t.isMovingForward,n=t.previousPageBorderBoxCenter,r=t.draggable,i=t.isOver,o=t.draggables,s=t.droppables,a=t.viewport,l=t.afterCritical,u=pM({isMovingForward:e,pageBorderBoxCenter:n,source:i,droppables:s,viewport:a});if(!u)return null;var d=ao(u.descriptor.id,o),c=mM({pageBorderBoxCenter:n,viewport:a,destination:u,insideDestination:d,afterCritical:l}),f=_M({previousPageBorderBoxCenter:n,destination:u,draggable:r,draggables:o,moveRelativeTo:c,insideDestination:d,viewport:a,afterCritical:l});if(!f)return null;var h=Qu({impact:f,draggable:r,droppable:u,draggables:o,afterCritical:l}),p=Vp({pageBorderBoxCenter:h,draggable:r,viewport:a});return{clientSelection:p,impact:f,scrollJumpRequest:null}},mt=function(t){var e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null},CM=function(e,n){var r=mt(e);return r?n[r]:null},EM=function(t){var e=t.state,n=t.type,r=CM(e.impact,e.dimensions.droppables),i=!!r,o=e.dimensions.droppables[e.critical.droppable.id],s=r||o,a=s.axis.direction,l=a==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||a==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(l&&!i)return null;var u=n==="MOVE_DOWN"||n==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],c=e.current.page.borderBoxCenter,f=e.dimensions,h=f.draggables,p=f.droppables;return l?hM({isMovingForward:u,previousPageBorderBoxCenter:c,draggable:d,destination:s,draggables:h,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):wM({isMovingForward:u,previousPageBorderBoxCenter:c,draggable:d,isOver:s,draggables:h,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function Rr(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function YE(t){var e=Nt(t.top,t.bottom),n=Nt(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function SM(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function bM(t){var e=t.pageBorderBox,n=t.draggable,r=t.candidates,i=n.page.borderBox.center,o=r.map(function(s){var a=s.axis,l=Jr(s.axis.line,e.center[a.line],s.page.borderBox.center[a.crossAxisLine]);return{id:s.descriptor.id,distance:Ps(i,l)}}).sort(function(s,a){return a.distance-s.distance});return o[0]?o[0].id:null}function IM(t){var e=t.pageBorderBox,n=t.draggable,r=t.droppables,i=qu(r).filter(function(o){if(!o.isEnabled)return!1;var s=o.subject.active;if(!s||!SM(e,s))return!1;if(YE(s)(e.center))return!0;var a=o.axis,l=s.center[a.crossAxisLine],u=e[a.crossAxisStart],d=e[a.crossAxisEnd],c=Nt(s[a.crossAxisStart],s[a.crossAxisEnd]),f=c(u),h=c(d);return!f&&!h?!0:f?u<l:d>l});return i.length?i.length===1?i[0].descriptor.id:bM({pageBorderBox:e,draggable:n,candidates:i}):null}var QE=function(e,n){return zt(sa(e,n))},xM=function(t,e){var n=t.frame;return n?QE(e,n.scroll.diff.value):e};function XE(t){var e=t.displaced,n=t.id;return!!(e.visible[n]||e.invisible[n])}function TM(t){var e=t.draggable,n=t.closest,r=t.inHomeList;return n?r&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var PM=function(t){var e=t.pageBorderBoxWithDroppableScroll,n=t.draggable,r=t.destination,i=t.insideDestination,o=t.last,s=t.viewport,a=t.afterCritical,l=r.axis,u=aa(r.axis,n.displaceBy),d=u.value,c=e[l.start],f=e[l.end],h=Yu(n,i),p=Sr(h,function(C){var m=C.descriptor.id,g=C.page.borderBox.center[l.line],v=gr(m,a),w=XE({displaced:o,id:m});return v?w?f<=g:c<g-d:w?f<=g+d:c<g}),y=TM({draggable:n,closest:p,inHomeList:lo(n,r)});return Jl({draggable:n,insideDestination:i,destination:r,viewport:s,last:o,displacedBy:u,index:y})},RM=4,DM=function(t){var e=t.draggable,n=t.pageBorderBoxWithDroppableScroll,r=t.previousImpact,i=t.destination,o=t.insideDestination,s=t.afterCritical;if(!i.isCombineEnabled)return null;var a=i.axis,l=aa(i.axis,e.displaceBy),u=l.value,d=n[a.start],c=n[a.end],f=Yu(e,o),h=Sr(f,function(y){var C=y.descriptor.id,m=y.page.borderBox,g=m[a.size],v=g/RM,w=gr(C,s),S=XE({displaced:r.displaced,id:C});return w?S?c>m[a.start]+v&&c<m[a.end]-v:d>m[a.start]-u+v&&d<m[a.end]-u-v:S?c>m[a.start]+u+v&&c<m[a.end]+u-v:d>m[a.start]+v&&d<m[a.end]-v});if(!h)return null;var p={displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:i.descriptor.id}}};return p},JE=function(t){var e=t.pageOffset,n=t.draggable,r=t.draggables,i=t.droppables,o=t.previousImpact,s=t.viewport,a=t.afterCritical,l=QE(n.page.borderBox,e),u=IM({pageBorderBox:l,draggable:n,droppables:i});if(!u)return VL;var d=i[u],c=ao(d.descriptor.id,r),f=xM(d,l);return DM({pageBorderBoxWithDroppableScroll:f,draggable:n,previousImpact:o,destination:d,insideDestination:c,afterCritical:a})||PM({pageBorderBoxWithDroppableScroll:f,draggable:n,destination:d,insideDestination:c,last:o.displaced,viewport:s,afterCritical:a})},Hp=function(t,e){var n;return F({},t,(n={},n[e.descriptor.id]=e,n))},kM=function(e){var n=e.previousImpact,r=e.impact,i=e.droppables,o=mt(n),s=mt(r);if(!o||o===s)return i;var a=i[o];if(!a.subject.withPlaceholder)return i;var l=yM(a);return Hp(i,l)},NM=function(t){var e=t.draggable,n=t.draggables,r=t.droppables,i=t.previousImpact,o=t.impact,s=kM({previousImpact:i,impact:o,droppables:r}),a=mt(o);if(!a)return s;var l=r[a];if(lo(e,l)||l.subject.withPlaceholder)return s;var u=KE(l,e,n);return Hp(s,u)},Go=function(t){var e=t.state,n=t.clientSelection,r=t.dimensions,i=t.viewport,o=t.impact,s=t.scrollJumpRequest,a=i||e.viewport,l=r||e.dimensions,u=n||e.current.client.selection,d=pt(u,e.initial.client.selection),c={offset:d,selection:u,borderBoxCenter:Me(e.initial.client.borderBoxCenter,d)},f={selection:Me(c.selection,a.scroll.current),borderBoxCenter:Me(c.borderBoxCenter,a.scroll.current),offset:Me(c.offset,a.scroll.diff.value)},h={client:c,page:f};if(e.phase==="COLLECTING")return F({phase:"COLLECTING"},e,{dimensions:l,viewport:a,current:h});var p=l.draggables[e.critical.draggable.id],y=o||JE({pageOffset:f.offset,draggable:p,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:a,afterCritical:e.afterCritical}),C=NM({draggable:p,impact:y,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables}),m=F({},e,{current:h,dimensions:{draggables:l.draggables,droppables:C},impact:y,viewport:a,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null});return m};function AM(t,e){return t.map(function(n){return e[n]})}var ZE=function(t){var e=t.impact,n=t.viewport,r=t.draggables,i=t.destination,o=t.forceShouldAnimate,s=e.displaced,a=AM(s.all,r),l=Ds({afterDragging:a,destination:i,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:s});return F({},e,{displaced:l})},eS=function(t){var e=t.impact,n=t.draggable,r=t.droppable,i=t.draggables,o=t.viewport,s=t.afterCritical,a=Qu({impact:e,draggable:n,draggables:i,droppable:r,afterCritical:s});return Vp({pageBorderBoxCenter:a,draggable:n,viewport:o})},tS=function(t){var e=t.state,n=t.dimensions,r=t.viewport;e.movementMode!=="SNAP"&&R(!1);var i=e.impact,o=r||e.viewport,s=n||e.dimensions,a=s.draggables,l=s.droppables,u=a[e.critical.draggable.id],d=mt(i);d||R(!1);var c=l[d],f=ZE({impact:i,viewport:o,destination:c,draggables:a}),h=eS({impact:f,draggable:u,droppable:c,draggables:a,viewport:o,afterCritical:e.afterCritical});return Go({impact:f,clientSelection:h,state:e,dimensions:s,viewport:o})},OM=function(t){return{index:t.index,droppableId:t.droppableId}},nS=function(t){var e=t.draggable,n=t.home,r=t.draggables,i=t.viewport,o=aa(n.axis,e.displaceBy),s=ao(n.descriptor.id,r),a=s.indexOf(e);a===-1&&R(!1);var l=s.slice(a+1),u=l.reduce(function(h,p){return h[p.descriptor.id]=!0,h},{}),d={inVirtualList:n.descriptor.mode==="virtual",displacedBy:o,effected:u},c=Ds({afterDragging:l,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),f={displaced:c,displacedBy:o,at:{type:"REORDER",destination:OM(e.descriptor)}};return{impact:f,afterCritical:d}},LM=function(t,e){return{draggables:t.draggables,droppables:Hp(t.droppables,e)}},MM=function(t){var e=t.draggable,n=t.offset,r=t.initialWindowScroll,i=ql(e.client,n),o=Kl(i,r),s=F({},e,{placeholder:F({},e.placeholder,{client:i}),client:i,page:o});return s},BM=function(t){var e=t.frame;return e||R(!1),e},FM=function(t){var e=t.additions,n=t.updatedDroppables,r=t.viewport,i=r.scroll.diff.value;return e.map(function(o){var s=o.descriptor.droppableId,a=n[s],l=BM(a),u=l.scroll.diff.value,d=Me(i,u),c=MM({draggable:o,offset:d,initialWindowScroll:r.scroll.initial});return c})},UM=function(t){var e=t.state,n=t.published,r=n.modified.map(function(v){var w=e.dimensions.droppables[v.droppableId],S=Fp(w,v.scroll);return S}),i=F({},e.dimensions.droppables,{},FE(r)),o=UE(FM({additions:n.additions,updatedDroppables:i,viewport:e.viewport})),s=F({},e.dimensions.draggables,{},o);n.removals.forEach(function(v){delete s[v]});var a={droppables:i,draggables:s},l=mt(e.impact),u=l?a.droppables[l]:null,d=a.draggables[e.critical.draggable.id],c=a.droppables[e.critical.droppable.id],f=nS({draggable:d,home:c,draggables:s,viewport:e.viewport}),h=f.impact,p=f.afterCritical,y=u&&u.isCombineEnabled?e.impact:h,C=JE({pageOffset:e.current.page.offset,draggable:a.draggables[e.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:y,viewport:e.viewport,afterCritical:p}),m=F({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:C,onLiftImpact:h,dimensions:a,afterCritical:p,forceShouldAnimate:!1});if(e.phase==="COLLECTING")return m;var g=F({phase:"DROP_PENDING"},m,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1});return g},Tf=function(e){return e.movementMode==="SNAP"},Zc=function(e,n,r){var i=LM(e.dimensions,n);return!Tf(e)||r?Go({state:e,dimensions:i}):tS({state:e,dimensions:i})};function ed(t){return t.isDragging&&t.movementMode==="SNAP"?F({phase:"DRAGGING"},t,{scrollJumpRequest:null}):t}var oy={phase:"IDLE",completed:null,shouldFlush:!1},jM=function(t,e){if(t===void 0&&(t=oy),e.type==="FLUSH")return F({},oy,{shouldFlush:!0});if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&R(!1);var n=e.payload,r=n.critical,i=n.clientSelection,o=n.viewport,s=n.dimensions,a=n.movementMode,l=s.draggables[r.draggable.id],u=s.droppables[r.droppable.id],d={selection:i,borderBoxCenter:l.client.borderBox.center,offset:Ne},c={client:d,page:{selection:Me(d.selection,o.scroll.initial),borderBoxCenter:Me(d.selection,o.scroll.initial),offset:Me(d.selection,o.scroll.diff.value)}},f=qu(s.droppables).every(function(tc){return!tc.isFixedOnPage}),h=nS({draggable:l,home:u,draggables:s.draggables,viewport:o}),p=h.impact,y=h.afterCritical,C={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:a,dimensions:s,initial:c,current:c,isWindowScrollAllowed:f,impact:p,afterCritical:y,onLiftImpact:p,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null};return C}if(e.type==="COLLECTION_STARTING"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&R(!1);var m=F({phase:"COLLECTING"},t,{phase:"COLLECTING"});return m}if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||R(!1),UM({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Rr(t)||R(!1);var g=e.payload.client;return ar(g,t.current.client.selection)?t:Go({state:t,clientSelection:g,impact:Tf(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return ed(t);Rr(t)||R(!1);var v=e.payload,w=v.id,S=v.newScroll,b=t.dimensions.droppables[w];if(!b)return t;var x=Fp(b,S);return Zc(t,x,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Rr(t)||R(!1);var I=e.payload,D=I.id,k=I.isEnabled,O=t.dimensions.droppables[D];O||R(!1),O.isEnabled===k&&R(!1);var re=F({},O,{isEnabled:k});return Zc(t,re,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Rr(t)||R(!1);var ee=e.payload,Y=ee.id,ve=ee.isCombineEnabled,le=t.dimensions.droppables[Y];le||R(!1),le.isCombineEnabled===ve&&R(!1);var Q=F({},le,{isCombineEnabled:ve});return Zc(t,Q,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Rr(t)||R(!1),t.isWindowScrollAllowed||R(!1);var N=e.payload.newScroll;if(ar(t.viewport.scroll.current,N))return ed(t);var B=HE(t.viewport,N);return Tf(t)?tS({state:t,viewport:B}):Go({state:t,viewport:B})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Rr(t))return t;var M=e.payload.maxScroll;if(ar(M,t.viewport.scroll.max))return t;var G=F({},t.viewport,{scroll:F({},t.viewport.scroll,{max:M})});return F({phase:"DRAGGING"},t,{viewport:G})}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&R(!1);var $=EM({state:t,type:e.type});return $?Go({state:t,impact:$.impact,clientSelection:$.clientSelection,scrollJumpRequest:$.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){var tt=e.payload.reason;t.phase!=="COLLECTING"&&R(!1);var Et=F({phase:"DROP_PENDING"},t,{phase:"DROP_PENDING",isWaiting:!0,reason:tt});return Et}if(e.type==="DROP_ANIMATE"){var St=e.payload,bt=St.completed,cn=St.dropDuration,la=St.newHomeClientOffset;t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||R(!1);var ec={phase:"DROP_ANIMATING",completed:bt,dropDuration:cn,newHomeClientOffset:la,dimensions:t.dimensions};return ec}if(e.type==="DROP_COMPLETE"){var ri=e.payload.completed;return{phase:"IDLE",completed:ri,shouldFlush:!1}}return t},$M=function(e){return{type:"BEFORE_INITIAL_CAPTURE",payload:e}},WM=function(e){return{type:"LIFT",payload:e}},zM=function(e){return{type:"INITIAL_PUBLISH",payload:e}},VM=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},HM=function(){return{type:"COLLECTION_STARTING",payload:null}},GM=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},qM=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},KM=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},rS=function(e){return{type:"MOVE",payload:e}},YM=function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}},QM=function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}},XM=function(){return{type:"MOVE_UP",payload:null}},JM=function(){return{type:"MOVE_DOWN",payload:null}},ZM=function(){return{type:"MOVE_RIGHT",payload:null}},eB=function(){return{type:"MOVE_LEFT",payload:null}},Gp=function(){return{type:"FLUSH",payload:null}},tB=function(e){return{type:"DROP_ANIMATE",payload:e}},qp=function(e){return{type:"DROP_COMPLETE",payload:e}},iS=function(e){return{type:"DROP",payload:e}},nB=function(e){return{type:"DROP_PENDING",payload:e}},oS=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},rB=function(t){return function(e){var n=e.getState,r=e.dispatch;return function(i){return function(o){if(o.type!=="LIFT"){i(o);return}var s=o.payload,a=s.id,l=s.clientSelection,u=s.movementMode,d=n();d.phase==="DROP_ANIMATING"&&r(qp({completed:d.completed})),n().phase!=="IDLE"&&R(!1),r(Gp()),r($M({draggableId:a,movementMode:u}));var c={shouldPublishImmediately:u==="SNAP"},f={draggableId:a,scrollOptions:c},h=t.startPublishing(f),p=h.critical,y=h.dimensions,C=h.viewport;r(zM({critical:p,dimensions:y,clientSelection:l,movementMode:u,viewport:C}))}}}},iB=function(t){return function(){return function(e){return function(n){n.type==="INITIAL_PUBLISH"&&t.dragging(),n.type==="DROP_ANIMATE"&&t.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&t.resting(),e(n)}}}},Kp={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},ks={opacity:{drop:0,combining:.7},scale:{drop:.75}},Yp={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},br=Yp.outOfTheWay+"s "+Kp.outOfTheWay,qo={fluid:"opacity "+br,snap:"transform "+br+", opacity "+br,drop:function(e){var n=e+"s "+Kp.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+br,placeholder:"height "+br+", width "+br+", margin "+br},sy=function(e){return ar(e,Ne)?null:"translate("+e.x+"px, "+e.y+"px)"},Pf={moveTo:sy,drop:function(e,n){var r=sy(e);return r?n?r+" scale("+ks.scale.drop+")":r:null}},Rf=Yp.minDropTime,sS=Yp.maxDropTime,oB=sS-Rf,ay=1500,sB=.6,aB=function(t){var e=t.current,n=t.destination,r=t.reason,i=Ps(e,n);if(i<=0)return Rf;if(i>=ay)return sS;var o=i/ay,s=Rf+oB*o,a=r==="CANCEL"?s*sB:s;return Number(a.toFixed(2))},lB=function(t){var e=t.impact,n=t.draggable,r=t.dimensions,i=t.viewport,o=t.afterCritical,s=r.draggables,a=r.droppables,l=mt(e),u=l?a[l]:null,d=a[n.descriptor.droppableId],c=eS({impact:e,draggable:n,draggables:s,afterCritical:o,droppable:u||d,viewport:i}),f=pt(c,n.client.borderBox.center);return f},uB=function(t){var e=t.draggables,n=t.reason,r=t.lastImpact,i=t.home,o=t.viewport,s=t.onLiftImpact;if(!r.at||n!=="DROP"){var a=ZE({draggables:e,impact:s,destination:i,viewport:o,forceShouldAnimate:!0});return{impact:a,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var l=F({},r,{displaced:Rs});return{impact:l,didDropInsideDroppable:!0}},cB=function(t){var e=t.getState,n=t.dispatch;return function(r){return function(i){if(i.type!=="DROP"){r(i);return}var o=e(),s=i.payload.reason;if(o.phase==="COLLECTING"){n(nB({reason:s}));return}if(o.phase!=="IDLE"){var a=o.phase==="DROP_PENDING"&&o.isWaiting;a&&R(!1),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||R(!1);var l=o.critical,u=o.dimensions,d=u.draggables[o.critical.draggable.id],c=uB({reason:s,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),f=c.impact,h=c.didDropInsideDroppable,p=h?jp(f):null,y=h?Ku(f):null,C={index:l.draggable.index,droppableId:l.droppable.id},m={draggableId:d.descriptor.id,type:d.descriptor.type,source:C,reason:s,mode:o.movementMode,destination:p,combine:y},g=lB({impact:f,draggable:d,dimensions:u,viewport:o.viewport,afterCritical:o.afterCritical}),v={critical:o.critical,afterCritical:o.afterCritical,result:m,impact:f},w=!ar(o.current.client.offset,g)||!!m.combine;if(!w){n(qp({completed:v}));return}var S=aB({current:o.current.client.offset,destination:g,reason:s}),b={newHomeClientOffset:g,dropDuration:S,completed:v};n(tB(b))}}}},aS=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function dB(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||t()}}}function fB(t){var e=t.onWindowScroll;function n(){e(aS())}var r=Ts(n),i=dB(r),o=sr;function s(){return o!==sr}function a(){s()&&R(!1),o=Dt(window,[i])}function l(){s()||R(!1),r.cancel(),o(),o=sr}return{start:a,stop:l,isActive:s}}var hB=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},pB=function(t){var e=fB({onWindowScroll:function(r){t.dispatch(YM({newScroll:r}))}});return function(n){return function(r){!e.isActive()&&r.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&hB(r)&&e.stop(),n(r)}}},gB=function(t){var e=!1,n=!1,r=setTimeout(function(){n=!0}),i=function(s){e||n||(e=!0,t(s),clearTimeout(r))};return i.wasCalled=function(){return e},i},mB=function(){var t=[],e=function(o){var s=Up(t,function(u){return u.timerId===o});s===-1&&R(!1);var a=t.splice(s,1),l=a[0];l.callback()},n=function(o){var s=setTimeout(function(){return e(s)}),a={timerId:s,callback:o};t.push(a)},r=function(){if(t.length){var o=[].concat(t);t.length=0,o.forEach(function(s){clearTimeout(s.timerId),s.callback()})}};return{add:n,flush:r}},vB=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.droppableId===n.droppableId&&e.index===n.index},yB=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.draggableId===n.draggableId&&e.droppableId===n.droppableId},_B=function(e,n){if(e===n)return!0;var r=e.draggable.id===n.draggable.id&&e.draggable.droppableId===n.draggable.droppableId&&e.draggable.type===n.draggable.type&&e.draggable.index===n.draggable.index,i=e.droppable.id===n.droppable.id&&e.droppable.type===n.droppable.type;return r&&i},So=function(e,n){n()},Da=function(e,n){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:n}},td=function(e,n,r,i){if(!e){r(i(n));return}var o=gB(r),s={announce:o};e(n,s),o.wasCalled()||r(i(n))},wB=function(t,e){var n=mB(),r=null,i=function(f,h){r&&R(!1),So("onBeforeCapture",function(){var p=t().onBeforeCapture;if(p){var y={draggableId:f,mode:h};p(y)}})},o=function(f,h){r&&R(!1),So("onBeforeDragStart",function(){var p=t().onBeforeDragStart;p&&p(Da(f,h))})},s=function(f,h){r&&R(!1);var p=Da(f,h);r={mode:h,lastCritical:f,lastLocation:p.source,lastCombine:null},n.add(function(){So("onDragStart",function(){return td(t().onDragStart,p,e,Qa.onDragStart)})})},a=function(f,h){var p=jp(h),y=Ku(h);r||R(!1);var C=!_B(f,r.lastCritical);C&&(r.lastCritical=f);var m=!vB(r.lastLocation,p);m&&(r.lastLocation=p);var g=!yB(r.lastCombine,y);if(g&&(r.lastCombine=y),!(!C&&!m&&!g)){var v=F({},Da(f,r.mode),{combine:y,destination:p});n.add(function(){So("onDragUpdate",function(){return td(t().onDragUpdate,v,e,Qa.onDragUpdate)})})}},l=function(){r||R(!1),n.flush()},u=function(f){r||R(!1),r=null,So("onDragEnd",function(){return td(t().onDragEnd,f,e,Qa.onDragEnd)})},d=function(){if(r){var f=F({},Da(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});u(f)}};return{beforeCapture:i,beforeStart:o,start:s,update:a,flush:l,drop:u,abort:d}},CB=function(t,e){var n=wB(t,e);return function(r){return function(i){return function(o){if(o.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){var s=o.payload.critical;n.beforeStart(s,o.payload.movementMode),i(o),n.start(s,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){var a=o.payload.completed.result;n.flush(),i(o),n.drop(a);return}if(i(o),o.type==="FLUSH"){n.abort();return}var l=r.getState();l.phase==="DRAGGING"&&n.update(l.critical,l.impact)}}}},EB=function(t){return function(e){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){e(n);return}var r=t.getState();r.phase!=="DROP_ANIMATING"&&R(!1),t.dispatch(qp({completed:r.completed}))}}},SB=function(t){var e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return function(i){return function(o){if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&r(),i(o),o.type==="DROP_ANIMATE"){var s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=t.getState();l.phase==="DROP_ANIMATING"&&t.dispatch(oS())}};n=requestAnimationFrame(function(){n=null,e=Dt(window,[s])})}}}},bB=function(t){return function(){return function(e){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&t.stopPublishing(),e(n)}}}},IB=function(t){var e=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(r.type==="FLUSH"){e=!1,t.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){e=!1;var i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}}}},xB=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},TB=function(t){return function(e){return function(n){return function(r){if(xB(r)){t.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var i=e.getState();i.phase!=="DRAGGING"&&R(!1),t.start(i);return}n(r),t.scroll(e.getState())}}}},PB=function(t){return function(e){return function(n){if(e(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(iS({reason:r.reason})))}}}},RB=hE,DB=function(t){var e=t.dimensionMarshal,n=t.focusMarshal,r=t.styleMarshal,i=t.getResponders,o=t.announce,s=t.autoScroller;return fE(jM,RB(gO(iB(r),bB(e),rB(e),cB,EB,SB,PB,TB(s),pB,IB(n),CB(i,o))))},nd=function(){return{additions:{},removals:{},modified:{}}};function kB(t){var e=t.registry,n=t.callbacks,r=nd(),i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame(function(){i=null;var d=r,c=d.additions,f=d.removals,h=d.modified,p=Object.keys(c).map(function(m){return e.draggable.getById(m).getDimension(Ne)}).sort(function(m,g){return m.descriptor.index-g.descriptor.index}),y=Object.keys(h).map(function(m){var g=e.droppable.getById(m),v=g.callbacks.getScrollWhileDragging();return{droppableId:m,scroll:v}}),C={additions:p,removals:Object.keys(f),modified:y};r=nd(),n.publish(C)}))},s=function(d){var c=d.descriptor.id;r.additions[c]=d,r.modified[d.descriptor.droppableId]=!0,r.removals[c]&&delete r.removals[c],o()},a=function(d){var c=d.descriptor;r.removals[c.id]=!0,r.modified[c.droppableId]=!0,r.additions[c.id]&&delete r.additions[c.id],o()},l=function(){i&&(cancelAnimationFrame(i),i=null,r=nd())};return{add:s,remove:a,stop:l}}var lS=function(t){var e=t.scrollHeight,n=t.scrollWidth,r=t.height,i=t.width,o=pt({x:n,y:e},{x:i,y:r}),s={x:Math.max(0,o.x),y:Math.max(0,o.y)};return s},uS=function(){var t=document.documentElement;return t||R(!1),t},cS=function(){var t=uS(),e=lS({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight});return e},NB=function(){var t=aS(),e=cS(),n=t.y,r=t.x,i=uS(),o=i.clientWidth,s=i.clientHeight,a=r+o,l=n+s,u=zt({top:n,left:r,right:a,bottom:l}),d={frame:u,scroll:{initial:t,current:t,max:e,diff:{value:Ne,displacement:Ne}}};return d},AB=function(t){var e=t.critical,n=t.scrollOptions,r=t.registry,i=NB(),o=i.scroll.current,s=e.droppable,a=r.droppable.getAllByType(s.type).map(function(c){return c.callbacks.getDimensionAndWatchScroll(o,n)}),l=r.draggable.getAllByType(e.draggable.type).map(function(c){return c.getDimension(o)}),u={draggables:UE(l),droppables:FE(a)},d={dimensions:u,critical:e,viewport:i};return d};function ly(t,e,n){if(n.descriptor.id===e.id||n.descriptor.type!==e.type)return!1;var r=t.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var OB=function(t,e){var n=null,r=kB({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=function(h,p){t.droppable.exists(h)||R(!1),n&&e.updateDroppableIsEnabled({id:h,isEnabled:p})},o=function(h,p){n&&(t.droppable.exists(h)||R(!1),e.updateDroppableIsCombineEnabled({id:h,isCombineEnabled:p}))},s=function(h,p){n&&(t.droppable.exists(h)||R(!1),e.updateDroppableScroll({id:h,newScroll:p}))},a=function(h,p){n&&t.droppable.getById(h).callbacks.scroll(p)},l=function(){if(n){r.stop();var h=n.critical.droppable;t.droppable.getAllByType(h.type).forEach(function(p){return p.callbacks.dragStopped()}),n.unsubscribe(),n=null}},u=function(h){n||R(!1);var p=n.critical.draggable;h.type==="ADDITION"&&ly(t,p,h.value)&&r.add(h.value),h.type==="REMOVAL"&&ly(t,p,h.value)&&r.remove(h.value)},d=function(h){n&&R(!1);var p=t.draggable.getById(h.draggableId),y=t.droppable.getById(p.descriptor.droppableId),C={draggable:p.descriptor,droppable:y.descriptor},m=t.subscribe(u);return n={critical:C,unsubscribe:m},AB({critical:C,registry:t,scrollOptions:h.scrollOptions})},c={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:s,startPublishing:d,stopPublishing:l};return c},dS=function(t,e){return t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP"},LB=function(t){window.scrollBy(t.x,t.y)},MB=ke(function(t){return qu(t).filter(function(e){return!(!e.isEnabled||!e.frame)})}),BB=function(e,n){var r=Sr(MB(n),function(i){return i.frame||R(!1),YE(i.frame.pageMarginBox)(e)});return r},FB=function(t){var e=t.center,n=t.destination,r=t.droppables;if(n){var i=r[n];return i.frame?i:null}var o=BB(e,r);return o},lr={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},UB=function(t,e){var n=t[e.size]*lr.startFromPercentage,r=t[e.size]*lr.maxScrollAtPercentage,i={startScrollingFrom:n,maxScrollValueAt:r};return i},fS=function(t){var e=t.startOfRange,n=t.endOfRange,r=t.current,i=n-e;if(i===0)return 0;var o=r-e,s=o/i;return s},Qp=1,jB=function(t,e){if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return lr.maxPixelScroll;if(t===e.startScrollingFrom)return Qp;var n=fS({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),r=1-n,i=lr.maxPixelScroll*lr.ease(r);return Math.ceil(i)},uy=lr.durationDampening.accelerateAt,cy=lr.durationDampening.stopDampeningAt,$B=function(t,e){var n=e,r=cy,i=Date.now(),o=i-n;if(o>=cy)return t;if(o<uy)return Qp;var s=fS({startOfRange:uy,endOfRange:r,current:o}),a=t*lr.ease(s);return Math.ceil(a)},dy=function(t){var e=t.distanceToEdge,n=t.thresholds,r=t.dragStartTime,i=t.shouldUseTimeDampening,o=jB(e,n);return o===0?0:i?Math.max($B(o,r),Qp):o},fy=function(t){var e=t.container,n=t.distanceToEdges,r=t.dragStartTime,i=t.axis,o=t.shouldUseTimeDampening,s=UB(e,i),a=n[i.end]<n[i.start];return a?dy({distanceToEdge:n[i.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o}):-1*dy({distanceToEdge:n[i.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o})},WB=function(t){var e=t.container,n=t.subject,r=t.proposedScroll,i=n.height>e.height,o=n.width>e.width;return!o&&!i?r:o&&i?null:{x:o?0:r.x,y:i?0:r.y}},zB=ME(function(t){return t===0?0:t}),hS=function(t){var e=t.dragStartTime,n=t.container,r=t.subject,i=t.center,o=t.shouldUseTimeDampening,s={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},a=fy({container:n,distanceToEdges:s,dragStartTime:e,axis:$p,shouldUseTimeDampening:o}),l=fy({container:n,distanceToEdges:s,dragStartTime:e,axis:WE,shouldUseTimeDampening:o}),u=zB({x:l,y:a});if(ar(u,Ne))return null;var d=WB({container:n,subject:r,proposedScroll:u});return d?ar(d,Ne)?null:d:null},VB=ME(function(t){return t===0?0:t>0?1:-1}),Xp=function(){var t=function(n,r){return n<0?n:n>r?n-r:0};return function(e){var n=e.current,r=e.max,i=e.change,o=Me(n,i),s={x:t(o.x,r.x),y:t(o.y,r.y)};return ar(s,Ne)?null:s}}(),pS=function(e){var n=e.max,r=e.current,i=e.change,o={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},s=VB(i),a=Xp({max:o,current:r,change:s});return!a||s.x!==0&&a.x===0||s.y!==0&&a.y===0},Jp=function(e,n){return pS({current:e.scroll.current,max:e.scroll.max,change:n})},HB=function(e,n){if(!Jp(e,n))return null;var r=e.scroll.max,i=e.scroll.current;return Xp({current:i,max:r,change:n})},Zp=function(e,n){var r=e.frame;return r?pS({current:r.scroll.current,max:r.scroll.max,change:n}):!1},GB=function(e,n){var r=e.frame;return!r||!Zp(e,n)?null:Xp({current:r.scroll.current,max:r.scroll.max,change:n})},qB=function(t){var e=t.viewport,n=t.subject,r=t.center,i=t.dragStartTime,o=t.shouldUseTimeDampening,s=hS({dragStartTime:i,container:e.frame,subject:n,center:r,shouldUseTimeDampening:o});return s&&Jp(e,s)?s:null},KB=function(t){var e=t.droppable,n=t.subject,r=t.center,i=t.dragStartTime,o=t.shouldUseTimeDampening,s=e.frame;if(!s)return null;var a=hS({dragStartTime:i,container:s.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return a&&Zp(e,a)?a:null},hy=function(t){var e=t.state,n=t.dragStartTime,r=t.shouldUseTimeDampening,i=t.scrollWindow,o=t.scrollDroppable,s=e.current.page.borderBoxCenter,a=e.dimensions.draggables[e.critical.draggable.id],l=a.page.marginBox;if(e.isWindowScrollAllowed){var u=e.viewport,d=qB({dragStartTime:n,viewport:u,subject:l,center:s,shouldUseTimeDampening:r});if(d){i(d);return}}var c=FB({center:s,destination:mt(e.impact),droppables:e.dimensions.droppables});if(c){var f=KB({dragStartTime:n,droppable:c,subject:l,center:s,shouldUseTimeDampening:r});f&&o(c.descriptor.id,f)}},YB=function(t){var e=t.scrollWindow,n=t.scrollDroppable,r=Ts(e),i=Ts(n),o=null,s=function(d){o||R(!1);var c=o,f=c.shouldUseTimeDampening,h=c.dragStartTime;hy({state:d,scrollWindow:r,scrollDroppable:i,dragStartTime:h,shouldUseTimeDampening:f})},a=function(d){o&&R(!1);var c=Date.now(),f=!1,h=function(){f=!0};hy({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:h,scrollDroppable:h}),o={dragStartTime:c,shouldUseTimeDampening:f},f&&s(d)},l=function(){o&&(r.cancel(),i.cancel(),o=null)};return{start:a,stop:l,scroll:s}},QB=function(t){var e=t.move,n=t.scrollDroppable,r=t.scrollWindow,i=function(u,d){var c=Me(u.current.client.selection,d);e({client:c})},o=function(u,d){if(!Zp(u,d))return d;var c=GB(u,d);if(!c)return n(u.descriptor.id,d),null;var f=pt(d,c);n(u.descriptor.id,f);var h=pt(d,f);return h},s=function(u,d,c){if(!u||!Jp(d,c))return c;var f=HB(d,c);if(!f)return r(c),null;var h=pt(c,f);r(h);var p=pt(c,h);return p},a=function(u){var d=u.scrollJumpRequest;if(d){var c=mt(u.impact);c||R(!1);var f=o(u.dimensions.droppables[c],d);if(f){var h=u.viewport,p=s(u.isWindowScrollAllowed,h,f);p&&i(u,p)}}};return a},XB=function(t){var e=t.scrollDroppable,n=t.scrollWindow,r=t.move,i=YB({scrollWindow:n,scrollDroppable:e}),o=QB({move:r,scrollWindow:n,scrollDroppable:e}),s=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&o(u)}},a={scroll:s,start:i.start,stop:i.stop};return a},Vi="data-rbd",Hi=function(){var t=Vi+"-drag-handle";return{base:t,draggableId:t+"-draggable-id",contextId:t+"-context-id"}}(),Df=function(){var t=Vi+"-draggable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),JB=function(){var t=Vi+"-droppable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),py={contextId:Vi+"-scroll-container-context-id"},ZB=function(e){return function(n){return"["+n+'="'+e+'"]'}},bo=function(e,n){return e.map(function(r){var i=r.styles[n];return i?r.selector+" { "+i+" }":""}).join(" ")},eF="pointer-events: none;",tF=function(t){var e=ZB(t),n=function(){var a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Hi.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:eF,dropAnimating:a}}}(),r=function(){var a=`
      transition: `+qo.outOfTheWay+`;
    `;return{selector:e(Df.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}}(),i={selector:e(JB.contextId),styles:{always:"overflow-anchor: none;"}},o={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},s=[r,n,i,o];return{always:bo(s,"always"),resting:bo(s,"resting"),dragging:bo(s,"dragging"),dropAnimating:bo(s,"dropAnimating"),userCancel:bo(s,"userCancel")}},vt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E.useLayoutEffect:E.useEffect,rd=function(){var e=document.querySelector("head");return e||R(!1),e},gy=function(e){var n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.type="text/css",n};function nF(t,e){var n=q(function(){return tF(t)},[t]),r=E.useRef(null),i=E.useRef(null),o=L(ke(function(c){var f=i.current;f||R(!1),f.textContent=c}),[]),s=L(function(c){var f=r.current;f||R(!1),f.textContent=c},[]);vt(function(){!r.current&&!i.current||R(!1);var c=gy(e),f=gy(e);return r.current=c,i.current=f,c.setAttribute(Vi+"-always",t),f.setAttribute(Vi+"-dynamic",t),rd().appendChild(c),rd().appendChild(f),s(n.always),o(n.resting),function(){var h=function(y){var C=y.current;C||R(!1),rd().removeChild(C),y.current=null};h(r),h(i)}},[e,s,o,n.always,n.resting,t]);var a=L(function(){return o(n.dragging)},[o,n.dragging]),l=L(function(c){if(c==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),u=L(function(){i.current&&o(n.resting)},[o,n.resting]),d=q(function(){return{dragging:a,dropping:l,resting:u}},[a,l,u]);return d}var gS=function(t){return t&&t.ownerDocument?t.ownerDocument.defaultView:window};function Xu(t){return t instanceof gS(t).HTMLElement}function rF(t,e){var n="["+Hi.contextId+'="'+t+'"]',r=BE(document.querySelectorAll(n));if(!r.length)return null;var i=Sr(r,function(o){return o.getAttribute(Hi.draggableId)===e});return!i||!Xu(i)?null:i}function iF(t){var e=E.useRef({}),n=E.useRef(null),r=E.useRef(null),i=E.useRef(!1),o=L(function(f,h){var p={id:f,focus:h};return e.current[f]=p,function(){var C=e.current,m=C[f];m!==p&&delete C[f]}},[]),s=L(function(f){var h=rF(t,f);h&&h!==document.activeElement&&h.focus()},[t]),a=L(function(f,h){n.current===f&&(n.current=h)},[]),l=L(function(){r.current||i.current&&(r.current=requestAnimationFrame(function(){r.current=null;var f=n.current;f&&s(f)}))},[s]),u=L(function(f){n.current=null;var h=document.activeElement;h&&h.getAttribute(Hi.draggableId)===f&&(n.current=f)},[]);vt(function(){return i.current=!0,function(){i.current=!1;var f=r.current;f&&cancelAnimationFrame(f)}},[]);var d=q(function(){return{register:o,tryRecordFocus:u,tryRestoreFocusRecorded:l,tryShiftRecord:a}},[o,u,l,a]);return d}function oF(){var t={draggables:{},droppables:{}},e=[];function n(c){return e.push(c),function(){var h=e.indexOf(c);h!==-1&&e.splice(h,1)}}function r(c){e.length&&e.forEach(function(f){return f(c)})}function i(c){return t.draggables[c]||null}function o(c){var f=i(c);return f||R(!1),f}var s={register:function(f){t.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},update:function(f,h){var p=t.draggables[h.descriptor.id];p&&p.uniqueId===f.uniqueId&&(delete t.draggables[h.descriptor.id],t.draggables[f.descriptor.id]=f)},unregister:function(f){var h=f.descriptor.id,p=i(h);p&&f.uniqueId===p.uniqueId&&(delete t.draggables[h],r({type:"REMOVAL",value:f}))},getById:o,findById:i,exists:function(f){return!!i(f)},getAllByType:function(f){return Xl(t.draggables).filter(function(h){return h.descriptor.type===f})}};function a(c){return t.droppables[c]||null}function l(c){var f=a(c);return f||R(!1),f}var u={register:function(f){t.droppables[f.descriptor.id]=f},unregister:function(f){var h=a(f.descriptor.id);h&&f.uniqueId===h.uniqueId&&delete t.droppables[f.descriptor.id]},getById:l,findById:a,exists:function(f){return!!a(f)},getAllByType:function(f){return Xl(t.droppables).filter(function(h){return h.descriptor.type===f})}};function d(){t.draggables={},t.droppables={},e.length=0}return{draggable:s,droppable:u,subscribe:n,clean:d}}function sF(){var t=q(oF,[]);return E.useEffect(function(){return function(){requestAnimationFrame(t.clean)}},[t]),t}var eg=se.createContext(null),Zl=function(){var t=document.body;return t||R(!1),t},aF={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},lF=function(e){return"rbd-announcement-"+e};function uF(t){var e=q(function(){return lF(t)},[t]),n=E.useRef(null);E.useEffect(function(){var o=document.createElement("div");return n.current=o,o.id=e,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),F(o.style,aF),Zl().appendChild(o),function(){setTimeout(function(){var l=Zl();l.contains(o)&&l.removeChild(o),o===n.current&&(n.current=null)})}},[e]);var r=L(function(i){var o=n.current;if(o){o.textContent=i;return}},[]);return r}var cF=0,dF={separator:"::"};function tg(t,e){return e===void 0&&(e=dF),q(function(){return""+t+e.separator+cF++},[e.separator,t])}function fF(t){var e=t.contextId,n=t.uniqueId;return"rbd-hidden-text-"+e+"-"+n}function hF(t){var e=t.contextId,n=t.text,r=tg("hidden-text",{separator:"-"}),i=q(function(){return fF({contextId:e,uniqueId:r})},[r,e]);return E.useEffect(function(){var s=document.createElement("div");return s.id=i,s.textContent=n,s.style.display="none",Zl().appendChild(s),function(){var l=Zl();l.contains(s)&&l.removeChild(s)}},[i,n]),i}var Ju=se.createContext(null);function mS(t){var e=E.useRef(t);return E.useEffect(function(){e.current=t}),e}function pF(){var t=null;function e(){return!!t}function n(s){return s===t}function r(s){t&&R(!1);var a={abandon:s};return t=a,a}function i(){t||R(!1),t=null}function o(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:r,release:i,tryAbandon:o}}var gF=9,mF=13,ng=27,vS=32,vF=33,yF=34,_F=35,wF=36,CF=37,EF=38,SF=39,bF=40,ka,IF=(ka={},ka[mF]=!0,ka[gF]=!0,ka),yS=function(t){IF[t.keyCode]&&t.preventDefault()},Zu=function(){var t="visibilitychange";if(typeof document>"u")return t;var e=[t,"ms"+t,"webkit"+t,"moz"+t,"o"+t],n=Sr(e,function(r){return"on"+r in document});return n||t}(),_S=0,my=5;function xF(t,e){return Math.abs(e.x-t.x)>=my||Math.abs(e.y-t.y)>=my}var vy={type:"IDLE"};function TF(t){var e=t.cancel,n=t.completed,r=t.getPhase,i=t.setPhase;return[{eventName:"mousemove",fn:function(s){var a=s.button,l=s.clientX,u=s.clientY;if(a===_S){var d={x:l,y:u},c=r();if(c.type==="DRAGGING"){s.preventDefault(),c.actions.move(d);return}c.type!=="PENDING"&&R(!1);var f=c.point;if(xF(f,d)){s.preventDefault();var h=c.actions.fluidLift(d);i({type:"DRAGGING",actions:h})}}}},{eventName:"mouseup",fn:function(s){var a=r();if(a.type!=="DRAGGING"){e();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(s){r().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:function(s){var a=r();if(a.type==="PENDING"){e();return}if(s.keyCode===ng){s.preventDefault(),e();return}yS(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:function(s){var a=r();if(a.type==="IDLE"&&R(!1),a.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:Zu,fn:e}]}function PF(t){var e=E.useRef(vy),n=E.useRef(sr),r=q(function(){return{eventName:"mousedown",fn:function(c){if(!c.defaultPrevented&&c.button===_S&&!(c.ctrlKey||c.metaKey||c.shiftKey||c.altKey)){var f=t.findClosestDraggableId(c);if(f){var h=t.tryGetLock(f,s,{sourceEvent:c});if(h){c.preventDefault();var p={x:c.clientX,y:c.clientY};n.current(),u(h,p)}}}}}},[t]),i=q(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(c){if(!c.defaultPrevented){var f=t.findClosestDraggableId(c);if(f){var h=t.findOptionsForDraggable(f);h&&(h.shouldRespectForcePress||t.canGetLock(f)&&c.preventDefault())}}}}},[t]),o=L(function(){var c={passive:!1,capture:!0};n.current=Dt(window,[i,r],c)},[i,r]),s=L(function(){var d=e.current;d.type!=="IDLE"&&(e.current=vy,n.current(),o())},[o]),a=L(function(){var d=e.current;s(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[s]),l=L(function(){var c={capture:!0,passive:!1},f=TF({cancel:a,completed:s,getPhase:function(){return e.current},setPhase:function(p){e.current=p}});n.current=Dt(window,f,c)},[a,s]),u=L(function(c,f){e.current.type!=="IDLE"&&R(!1),e.current={type:"PENDING",point:f,actions:c},l()},[l]);vt(function(){return o(),function(){n.current()}},[o])}var ai;function RF(){}var DF=(ai={},ai[yF]=!0,ai[vF]=!0,ai[wF]=!0,ai[_F]=!0,ai);function kF(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:function(o){if(o.keyCode===ng){o.preventDefault(),n();return}if(o.keyCode===vS){o.preventDefault(),r();return}if(o.keyCode===bF){o.preventDefault(),t.moveDown();return}if(o.keyCode===EF){o.preventDefault(),t.moveUp();return}if(o.keyCode===SF){o.preventDefault(),t.moveRight();return}if(o.keyCode===CF){o.preventDefault(),t.moveLeft();return}if(DF[o.keyCode]){o.preventDefault();return}yS(o)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Zu,fn:n}]}function NF(t){var e=E.useRef(RF),n=q(function(){return{eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==vS)return;var s=t.findClosestDraggableId(o);if(!s)return;var a=t.tryGetLock(s,d,{sourceEvent:o});if(!a)return;o.preventDefault();var l=!0,u=a.snapLift();e.current();function d(){l||R(!1),l=!1,e.current(),r()}e.current=Dt(window,kF(u,d),{capture:!0,passive:!1})}}},[t]),r=L(function(){var o={passive:!1,capture:!0};e.current=Dt(window,[n],o)},[n]);vt(function(){return r(),function(){e.current()}},[r])}var id={type:"IDLE"},AF=120,OF=.15;function LF(t){var e=t.cancel,n=t.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(n().type!=="DRAGGING"){e();return}i.keyCode===ng&&i.preventDefault(),e()}},{eventName:Zu,fn:e}]}function MF(t){var e=t.cancel,n=t.completed,r=t.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(o){var s=r();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;var a=o.touches[0],l=a.clientX,u=a.clientY,d={x:l,y:u};o.preventDefault(),s.actions.move(d)}},{eventName:"touchend",fn:function(o){var s=r();if(s.type!=="DRAGGING"){e();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(o){if(r().type!=="DRAGGING"){e();return}o.preventDefault(),e()}},{eventName:"touchforcechange",fn:function(o){var s=r();s.type==="IDLE"&&R(!1);var a=o.touches[0];if(a){var l=a.force>=OF;if(l){var u=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){u&&e();return}if(u){if(s.hasMoved){o.preventDefault();return}e();return}o.preventDefault()}}}},{eventName:Zu,fn:e}]}function BF(t){var e=E.useRef(id),n=E.useRef(sr),r=L(function(){return e.current},[]),i=L(function(h){e.current=h},[]),o=q(function(){return{eventName:"touchstart",fn:function(h){if(!h.defaultPrevented){var p=t.findClosestDraggableId(h);if(p){var y=t.tryGetLock(p,a,{sourceEvent:h});if(y){var C=h.touches[0],m=C.clientX,g=C.clientY,v={x:m,y:g};n.current(),c(y,v)}}}}}},[t]),s=L(function(){var h={capture:!0,passive:!1};n.current=Dt(window,[o],h)},[o]),a=L(function(){var f=e.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),i(id),n.current(),s())},[s,i]),l=L(function(){var f=e.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),u=L(function(){var h={capture:!0,passive:!1},p={cancel:l,completed:a,getPhase:r},y=Dt(window,MF(p),h),C=Dt(window,LF(p),h);n.current=function(){y(),C()}},[l,r,a]),d=L(function(){var h=r();h.type!=="PENDING"&&R(!1);var p=h.actions.fluidLift(h.point);i({type:"DRAGGING",actions:p,hasMoved:!1})},[r,i]),c=L(function(h,p){r().type!=="IDLE"&&R(!1);var y=setTimeout(d,AF);i({type:"PENDING",point:p,actions:h,longPressTimerId:y}),u()},[u,r,i,d]);vt(function(){return s(),function(){n.current();var p=r();p.type==="PENDING"&&(clearTimeout(p.longPressTimerId),i(id))}},[r,s,i]),vt(function(){var h=Dt(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return h},[])}var FF={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function wS(t,e){if(e==null)return!1;var n=!!FF[e.tagName.toLowerCase()];if(n)return!0;var r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:wS(t,e.parentElement)}function UF(t,e){var n=e.target;return Xu(n)?wS(t,n):!1}var jF=function(t){return zt(t.getBoundingClientRect()).center};function $F(t){return t instanceof gS(t).Element}var WF=function(){var t="matches";if(typeof document>"u")return t;var e=[t,"msMatchesSelector","webkitMatchesSelector"],n=Sr(e,function(r){return r in Element.prototype});return n||t}();function CS(t,e){return t==null?null:t[WF](e)?t:CS(t.parentElement,e)}function zF(t,e){return t.closest?t.closest(e):CS(t,e)}function VF(t){return"["+Hi.contextId+'="'+t+'"]'}function HF(t,e){var n=e.target;if(!$F(n))return null;var r=VF(t),i=zF(n,r);return!i||!Xu(i)?null:i}function GF(t,e){var n=HF(t,e);return n?n.getAttribute(Hi.draggableId):null}function qF(t,e){var n="["+Df.contextId+'="'+t+'"]',r=BE(document.querySelectorAll(n)),i=Sr(r,function(o){return o.getAttribute(Df.id)===e});return!i||!Xu(i)?null:i}function KF(t){t.preventDefault()}function Na(t){var e=t.expected,n=t.phase,r=t.isLockActive;return t.shouldWarn,!(!r()||e!==n)}function ES(t){var e=t.lockAPI,n=t.store,r=t.registry,i=t.draggableId;if(e.isClaimed())return!1;var o=r.draggable.findById(i);return!(!o||!o.options.isEnabled||!dS(n.getState(),i))}function YF(t){var e=t.lockAPI,n=t.contextId,r=t.store,i=t.registry,o=t.draggableId,s=t.forceSensorStop,a=t.sourceEvent,l=ES({lockAPI:e,store:r,registry:i,draggableId:o});if(!l)return null;var u=i.draggable.getById(o),d=qF(n,u.descriptor.id);if(!d||a&&!u.options.canDragInteractiveElements&&UF(d,a))return null;var c=e.claim(s||sr),f="PRE_DRAG";function h(){return u.options.shouldRespectForcePress}function p(){return e.isActive(c)}function y(b,x){Na({expected:b,phase:f,isLockActive:p,shouldWarn:!0})&&r.dispatch(x())}var C=y.bind(null,"DRAGGING");function m(b){function x(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(x(),f!=="PRE_DRAG"&&R(!1)),r.dispatch(WM(b.liftActionArgs)),f="DRAGGING";function I(D,k){if(k===void 0&&(k={shouldBlockNextClick:!1}),b.cleanup(),k.shouldBlockNextClick){var O=Dt(window,[{eventName:"click",fn:KF,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(O)}x(),r.dispatch(iS({reason:D}))}return F({isActive:function(){return Na({expected:"DRAGGING",phase:f,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:h,drop:function(k){return I("DROP",k)},cancel:function(k){return I("CANCEL",k)}},b.actions)}function g(b){var x=Ts(function(D){C(function(){return rS({client:D})})}),I=m({liftActionArgs:{id:o,clientSelection:b,movementMode:"FLUID"},cleanup:function(){return x.cancel()},actions:{move:x}});return F({},I,{move:x})}function v(){var b={moveUp:function(){return C(XM)},moveRight:function(){return C(ZM)},moveDown:function(){return C(JM)},moveLeft:function(){return C(eB)}};return m({liftActionArgs:{id:o,clientSelection:jF(d),movementMode:"SNAP"},cleanup:sr,actions:b})}function w(){var b=Na({expected:"PRE_DRAG",phase:f,isLockActive:p,shouldWarn:!0});b&&e.release()}var S={isActive:function(){return Na({expected:"PRE_DRAG",phase:f,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:h,fluidLift:g,snapLift:v,abort:w};return S}var QF=[PF,NF,BF];function XF(t){var e=t.contextId,n=t.store,r=t.registry,i=t.customSensors,o=t.enableDefaultSensors,s=[].concat(o?QF:[],i||[]),a=E.useState(function(){return pF()})[0],l=L(function(g,v){g.isDragging&&!v.isDragging&&a.tryAbandon()},[a]);vt(function(){var g=n.getState(),v=n.subscribe(function(){var w=n.getState();l(g,w),g=w});return v},[a,n,l]),vt(function(){return a.tryAbandon},[a.tryAbandon]);for(var u=L(function(m){return ES({lockAPI:a,registry:r,store:n,draggableId:m})},[a,r,n]),d=L(function(m,g,v){return YF({lockAPI:a,registry:r,contextId:e,store:n,draggableId:m,forceSensorStop:g,sourceEvent:v&&v.sourceEvent?v.sourceEvent:null})},[e,a,r,n]),c=L(function(m){return GF(e,m)},[e]),f=L(function(m){var g=r.draggable.findById(m);return g?g.options:null},[r.draggable]),h=L(function(){a.isClaimed()&&(a.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(Gp()))},[a,n]),p=L(a.isClaimed,[a]),y=q(function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:c,findOptionsForDraggable:f,tryReleaseLock:h,isLockClaimed:p}},[u,d,c,f,h,p]),C=0;C<s.length;C++)s[C](y)}var JF=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function Io(t){return t.current||R(!1),t.current}function ZF(t){var e=t.contextId,n=t.setCallbacks,r=t.sensors,i=t.nonce,o=t.dragHandleUsageInstructions,s=E.useRef(null),a=mS(t),l=L(function(){return JF(a.current)},[a]),u=uF(e),d=hF({contextId:e,text:o}),c=nF(e,i),f=L(function(D){Io(s).dispatch(D)},[]),h=q(function(){return jv({publishWhileDragging:VM,updateDroppableScroll:GM,updateDroppableIsEnabled:qM,updateDroppableIsCombineEnabled:KM,collectionStarting:HM},f)},[f]),p=sF(),y=q(function(){return OB(p,h)},[p,h]),C=q(function(){return XB(F({scrollWindow:LB,scrollDroppable:y.scrollDroppable},jv({move:rS},f)))},[y.scrollDroppable,f]),m=iF(e),g=q(function(){return DB({announce:u,autoScroller:C,dimensionMarshal:y,focusMarshal:m,getResponders:l,styleMarshal:c})},[u,C,y,m,l,c]);s.current=g;var v=L(function(){var D=Io(s),k=D.getState();k.phase!=="IDLE"&&D.dispatch(Gp())},[]),w=L(function(){var D=Io(s).getState();return D.isDragging||D.phase==="DROP_ANIMATING"},[]),S=q(function(){return{isDragging:w,tryAbort:v}},[w,v]);n(S);var b=L(function(D){return dS(Io(s).getState(),D)},[]),x=L(function(){return Rr(Io(s).getState())},[]),I=q(function(){return{marshal:y,focus:m,contextId:e,canLift:b,isMovementAllowed:x,dragHandleUsageInstructionsId:d,registry:p}},[e,y,d,m,b,x,p]);return XF({contextId:e,store:g,registry:p,customSensors:r,enableDefaultSensors:t.enableDefaultSensors!==!1}),E.useEffect(function(){return v},[v]),se.createElement(Ju.Provider,{value:I},se.createElement(wO,{context:eg,store:g},t.children))}var eU=0;function tU(){return q(function(){return""+eU++},[])}function nU(t){var e=tU(),n=t.dragHandleUsageInstructions||Qa.dragHandleUsageInstructions;return se.createElement(NL,null,function(r){return se.createElement(ZF,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd},t.children)})}var SS=function(e){return function(n){return e===n}},rU=SS("scroll"),iU=SS("auto"),yy=function(e,n){return n(e.overflowX)||n(e.overflowY)},oU=function(e){var n=window.getComputedStyle(e),r={overflowX:n.overflowX,overflowY:n.overflowY};return yy(r,rU)||yy(r,iU)},sU=function(){return!1},aU=function t(e){return e==null?null:e===document.body?sU()?e:null:e===document.documentElement?null:oU(e)?e:t(e.parentElement)},kf=function(t){return{x:t.scrollLeft,y:t.scrollTop}},lU=function t(e){if(!e)return!1;var n=window.getComputedStyle(e);return n.position==="fixed"?!0:t(e.parentElement)},uU=function(t){var e=aU(t),n=lU(t);return{closestScrollable:e,isFixedOnPage:n}},cU=function(t){var e=t.descriptor,n=t.isEnabled,r=t.isCombineEnabled,i=t.isFixedOnPage,o=t.direction,s=t.client,a=t.page,l=t.closest,u=function(){if(!l)return null;var h=l.scrollSize,p=l.client,y=lS({scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth,height:p.paddingBox.height,width:p.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:p,scrollSize:h,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:y,diff:{value:Ne,displacement:Ne}}}}(),d=o==="vertical"?$p:WE,c=zi({page:a,withPlaceholder:null,axis:d,frame:u}),f={descriptor:e,isCombineEnabled:r,isFixedOnPage:i,axis:d,isEnabled:n,client:s,page:a,frame:u,subject:c};return f},dU=function(e,n){var r=NE(e);if(!n||e!==n)return r;var i=r.paddingBox.top-n.scrollTop,o=r.paddingBox.left-n.scrollLeft,s=i+n.scrollHeight,a=o+n.scrollWidth,l={top:i,right:a,bottom:s,left:o},u=Mp(l,r.border),d=Bp({borderBox:u,margin:r.margin,border:r.border,padding:r.padding});return d},fU=function(t){var e=t.ref,n=t.descriptor,r=t.env,i=t.windowScroll,o=t.direction,s=t.isDropDisabled,a=t.isCombineEnabled,l=t.shouldClipSubject,u=r.closestScrollable,d=dU(e,u),c=Kl(d,i),f=function(){if(!u)return null;var p=NE(u),y={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:p,page:Kl(p,i),scroll:kf(u),scrollSize:y,shouldClipSubject:l}}(),h=cU({descriptor:n,isEnabled:!s,isCombineEnabled:a,isFixedOnPage:r.isFixedOnPage,direction:o,client:d,page:c,closest:f});return h},hU={passive:!1},pU={passive:!0},_y=function(t){return t.shouldPublishImmediately?hU:pU};function eu(t){var e=E.useContext(t);return e||R(!1),e}var Aa=function(e){return e&&e.env.closestScrollable||null};function gU(t){var e=E.useRef(null),n=eu(Ju),r=tg("droppable"),i=n.registry,o=n.marshal,s=mS(t),a=q(function(){return{id:t.droppableId,type:t.type,mode:t.mode}},[t.droppableId,t.mode,t.type]),l=E.useRef(a),u=q(function(){return ke(function(w,S){e.current||R(!1);var b={x:w,y:S};o.updateDroppableScroll(a.id,b)})},[a.id,o]),d=L(function(){var w=e.current;return!w||!w.env.closestScrollable?Ne:kf(w.env.closestScrollable)},[]),c=L(function(){var w=d();u(w.x,w.y)},[d,u]),f=q(function(){return Ts(c)},[c]),h=L(function(){var w=e.current,S=Aa(w);w&&S||R(!1);var b=w.scrollOptions;if(b.shouldPublishImmediately){c();return}f()},[f,c]),p=L(function(w,S){e.current&&R(!1);var b=s.current,x=b.getDroppableRef();x||R(!1);var I=uU(x),D={ref:x,descriptor:a,env:I,scrollOptions:S};e.current=D;var k=fU({ref:x,descriptor:a,env:I,windowScroll:w,direction:b.direction,isDropDisabled:b.isDropDisabled,isCombineEnabled:b.isCombineEnabled,shouldClipSubject:!b.ignoreContainerClipping}),O=I.closestScrollable;return O&&(O.setAttribute(py.contextId,n.contextId),O.addEventListener("scroll",h,_y(D.scrollOptions))),k},[n.contextId,a,h,s]),y=L(function(){var w=e.current,S=Aa(w);return w&&S||R(!1),kf(S)},[]),C=L(function(){var w=e.current;w||R(!1);var S=Aa(w);e.current=null,S&&(f.cancel(),S.removeAttribute(py.contextId),S.removeEventListener("scroll",h,_y(w.scrollOptions)))},[h,f]),m=L(function(w){var S=e.current;S||R(!1);var b=Aa(S);b||R(!1),b.scrollTop+=w.y,b.scrollLeft+=w.x},[]),g=q(function(){return{getDimensionAndWatchScroll:p,getScrollWhileDragging:y,dragStopped:C,scroll:m}},[C,p,y,m]),v=q(function(){return{uniqueId:r,descriptor:a,callbacks:g}},[g,a,r]);vt(function(){return l.current=v.descriptor,i.droppable.register(v),function(){e.current&&C(),i.droppable.unregister(v)}},[g,a,C,v,o,i.droppable]),vt(function(){e.current&&o.updateDroppableIsEnabled(l.current.id,!t.isDropDisabled)},[t.isDropDisabled,o]),vt(function(){e.current&&o.updateDroppableIsCombineEnabled(l.current.id,t.isCombineEnabled)},[t.isCombineEnabled,o])}function od(){}var wy={width:0,height:0,margin:FL},mU=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate;return n||i==="close"?wy:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},vU=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate,o=mU({isAnimatingOpenOnMount:n,placeholder:r,animate:i});return{display:r.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?qo.placeholder:null}};function yU(t){var e=E.useRef(null),n=L(function(){e.current&&(clearTimeout(e.current),e.current=null)},[]),r=t.animate,i=t.onTransitionEnd,o=t.onClose,s=t.contextId,a=E.useState(t.animate==="open"),l=a[0],u=a[1];E.useEffect(function(){return l?r!=="open"?(n(),u(!1),od):e.current?od:(e.current=setTimeout(function(){e.current=null,u(!1)}),n):od},[r,l,n]);var d=L(function(f){f.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),c=vU({isAnimatingOpenOnMount:l,animate:t.animate,placeholder:t.placeholder});return se.createElement(t.placeholder.tagName,{style:c,"data-rbd-placeholder-context-id":s,onTransitionEnd:d,ref:t.innerRef})}var _U=se.memo(yU),rg=se.createContext(null),wU=function(t){dE(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}e.getDerivedStateFromProps=function(i,o){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var n=e.prototype;return n.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},e}(se.PureComponent),Cy={dragging:5e3,dropAnimating:4500},CU=function(e,n){return n?qo.drop(n.duration):e?qo.snap:qo.fluid},EU=function(e,n){return e?n?ks.opacity.drop:ks.opacity.combining:null},SU=function(e){return e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP"};function bU(t){var e=t.dimension,n=e.client,r=t.offset,i=t.combineWith,o=t.dropping,s=!!i,a=SU(t),l=!!o,u=l?Pf.drop(r,s):Pf.moveTo(r),d={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:CU(a,o),transform:u,opacity:EU(s,l),zIndex:l?Cy.dropAnimating:Cy.dragging,pointerEvents:"none"};return d}function IU(t){return{transform:Pf.moveTo(t.offset),transition:t.shouldAnimateDisplacement?null:"none"}}function xU(t){return t.type==="DRAGGING"?bU(t):IU(t)}function TU(t,e,n){n===void 0&&(n=Ne);var r=window.getComputedStyle(e),i=e.getBoundingClientRect(),o=kE(i,r),s=Kl(o,n),a={client:o,tagName:e.tagName.toLowerCase(),display:r.display},l={x:o.marginBox.width,y:o.marginBox.height},u={descriptor:t,placeholder:a,displaceBy:l,client:o,page:s};return u}function PU(t){var e=tg("draggable"),n=t.descriptor,r=t.registry,i=t.getDraggableRef,o=t.canDragInteractiveElements,s=t.shouldRespectForcePress,a=t.isEnabled,l=q(function(){return{canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}},[o,a,s]),u=L(function(h){var p=i();return p||R(!1),TU(n,p,h)},[n,i]),d=q(function(){return{uniqueId:e,descriptor:n,options:l,getDimension:u}},[n,u,l,e]),c=E.useRef(d),f=E.useRef(!0);vt(function(){return r.draggable.register(c.current),function(){return r.draggable.unregister(c.current)}},[r.draggable]),vt(function(){if(f.current){f.current=!1;return}var h=c.current;c.current=d,r.draggable.update(d,h)},[d,r.draggable])}function RU(t){t.preventDefault()}function DU(t){var e=E.useRef(null),n=L(function(D){e.current=D},[]),r=L(function(){return e.current},[]),i=eu(Ju),o=i.contextId,s=i.dragHandleUsageInstructionsId,a=i.registry,l=eu(rg),u=l.type,d=l.droppableId,c=q(function(){return{id:t.draggableId,index:t.index,type:u,droppableId:d}},[t.draggableId,t.index,u,d]),f=t.children,h=t.draggableId,p=t.isEnabled,y=t.shouldRespectForcePress,C=t.canDragInteractiveElements,m=t.isClone,g=t.mapped,v=t.dropAnimationFinished;if(!m){var w=q(function(){return{descriptor:c,registry:a,getDraggableRef:r,canDragInteractiveElements:C,shouldRespectForcePress:y,isEnabled:p}},[c,a,r,C,y,p]);PU(w)}var S=q(function(){return p?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:RU}:null},[o,s,h,p]),b=L(function(D){g.type==="DRAGGING"&&g.dropping&&D.propertyName==="transform"&&v()},[v,g]),x=q(function(){var D=xU(g),k=g.type==="DRAGGING"&&g.dropping?b:null,O={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":h,style:D,onTransitionEnd:k},dragHandleProps:S};return O},[o,S,h,g,b,n]),I=q(function(){return{draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}},[c.droppableId,c.id,c.index,c.type]);return f(x,g.snapshot,I)}var bS=function(t,e){return t===e},IS=function(t){var e=t.combine,n=t.destination;return n?n.droppableId:e?e.droppableId:null},kU=function(e){return e.combine?e.combine.draggableId:null},NU=function(e){return e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null};function AU(){var t=ke(function(i,o){return{x:i,y:o}}),e=ke(function(i,o,s,a,l){return{isDragging:!0,isClone:o,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:s,combineWith:a,combineTargetFor:null}}),n=ke(function(i,o,s,a,l,u,d){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:u,mode:o,offset:i,dimension:s,forceShouldAnimate:d,snapshot:e(o,a,l,u,null)}}}),r=function(o,s){if(o.isDragging){if(o.critical.draggable.id!==s.draggableId)return null;var a=o.current.client.offset,l=o.dimensions.draggables[s.draggableId],u=mt(o.impact),d=NU(o.impact),c=o.forceShouldAnimate;return n(t(a.x,a.y),o.movementMode,l,s.isClone,u,d,c)}if(o.phase==="DROP_ANIMATING"){var f=o.completed;if(f.result.draggableId!==s.draggableId)return null;var h=s.isClone,p=o.dimensions.draggables[s.draggableId],y=f.result,C=y.mode,m=IS(y),g=kU(y),v=o.dropDuration,w={duration:v,curve:Kp.drop,moveTo:o.newHomeClientOffset,opacity:g?ks.opacity.drop:null,scale:g?ks.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:p,dropping:w,draggingOver:m,combineWith:g,mode:C,forceShouldAnimate:null,snapshot:e(C,h,m,g,w)}}}return null};return r}function xS(t){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}var OU={mapped:{type:"SECONDARY",offset:Ne,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:xS(null)}};function LU(){var t=ke(function(s,a){return{x:s,y:a}}),e=ke(xS),n=ke(function(s,a,l){return a===void 0&&(a=null),{mapped:{type:"SECONDARY",offset:s,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:e(a)}}}),r=function(a){return a?n(Ne,a,!0):null},i=function(a,l,u,d){var c=u.displaced.visible[a],f=!!(d.inVirtualList&&d.effected[a]),h=Ku(u),p=h&&h.draggableId===a?l:null;if(!c){if(!f)return r(p);if(u.displaced.invisible[a])return null;var y=so(d.displacedBy.point),C=t(y.x,y.y);return n(C,p,!0)}if(f)return r(p);var m=u.displacedBy.point,g=t(m.x,m.y);return n(g,p,c.shouldAnimate)},o=function(a,l){if(a.isDragging)return a.critical.draggable.id===l.draggableId?null:i(l.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){var u=a.completed;return u.result.draggableId===l.draggableId?null:i(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return o}var MU=function(){var e=AU(),n=LU(),r=function(o,s){return e(o,s)||n(o,s)||OU};return r},BU={dropAnimationFinished:oS},FU=RE(MU,BU,null,{context:eg,pure:!0,areStatePropsEqual:bS})(DU);function TS(t){var e=eu(rg),n=e.isUsingCloneFor;return n===t.draggableId&&!t.isClone?null:se.createElement(FU,t)}function Ey(t){var e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return se.createElement(TS,F({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}function UU(t){var e=E.useContext(Ju);e||R(!1);var n=e.contextId,r=e.isMovementAllowed,i=E.useRef(null),o=E.useRef(null),s=t.children,a=t.droppableId,l=t.type,u=t.mode,d=t.direction,c=t.ignoreContainerClipping,f=t.isDropDisabled,h=t.isCombineEnabled,p=t.snapshot,y=t.useClone,C=t.updateViewportMaxScroll,m=t.getContainerForClone,g=L(function(){return i.current},[]),v=L(function(O){i.current=O},[]);L(function(){return o.current},[]);var w=L(function(O){o.current=O},[]),S=L(function(){r()&&C({maxScroll:cS()})},[r,C]);gU({droppableId:a,type:l,mode:u,direction:d,isDropDisabled:f,isCombineEnabled:h,ignoreContainerClipping:c,getDroppableRef:g});var b=se.createElement(wU,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},function(O){var re=O.onClose,ee=O.data,Y=O.animate;return se.createElement(_U,{placeholder:ee,onClose:re,innerRef:w,animate:Y,contextId:n,onTransitionEnd:S})}),x=q(function(){return{innerRef:v,placeholder:b,droppableProps:{"data-rbd-droppable-id":a,"data-rbd-droppable-context-id":n}}},[n,a,b,v]),I=y?y.dragging.draggableId:null,D=q(function(){return{droppableId:a,type:l,isUsingCloneFor:I}},[a,I,l]);function k(){if(!y)return null;var O=y.dragging,re=y.render,ee=se.createElement(TS,{draggableId:O.draggableId,index:O.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(Y,ve){return re(Y,ve,O)});return tx.createPortal(ee,m())}return se.createElement(rg.Provider,{value:D},s(x,p),k())}var sd=function(e,n){return e===n.droppable.type},Sy=function(e,n){return n.draggables[e.draggable.id]},jU=function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=F({},e,{shouldAnimatePlaceholder:!1}),r=ke(function(s){return{draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}}}),i=ke(function(s,a,l,u,d,c){var f=d.descriptor.id,h=d.descriptor.droppableId===s;if(h){var p=c?{render:c,dragging:r(d.descriptor)}:null,y={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:p}}if(!a)return n;if(!u)return e;var C={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:C,useClone:null}}),o=function(a,l){var u=l.droppableId,d=l.type,c=!l.isDropDisabled,f=l.renderClone;if(a.isDragging){var h=a.critical;if(!sd(d,h))return n;var p=Sy(h,a.dimensions),y=mt(a.impact)===u;return i(u,c,y,y,p,f)}if(a.phase==="DROP_ANIMATING"){var C=a.completed;if(!sd(d,C.critical))return n;var m=Sy(C.critical,a.dimensions);return i(u,c,IS(C.result)===u,mt(C.impact)===u,m,f)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){var g=a.completed;if(!sd(d,g.critical))return n;var v=mt(g.impact)===u,w=!!(g.impact.at&&g.impact.at.type==="COMBINE"),S=g.critical.droppable.id===u;return v?w?e:n:S?e:n}return n};return o},$U={updateViewportMaxScroll:QM};function WU(){return document.body||R(!1),document.body}var zU={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:WU},Nf=RE(jU,$U,null,{context:eg,pure:!0,areStatePropsEqual:bS})(UU);Nf.defaultProps=zU;const VU="#1e2a3a",HU="#3f5176",GU="#333333",qU="#f5f5f5",KU="#f44336",by="#4caf50",Iy="#ffffff",nt={container:{maxWidth:"1100px",height:"80vh",margin:"0 auto 50px",padding:"3px 20px 20px 20px",borderRadius:"8px",boxShadow:"0 0 10px rgba(255, 255, 255, 0.1)",backgroundColor:VU,color:"#ffffff",display:"flex",flexDirection:"column",position:"relative"},heading:{marginBottom:"20px",fontSize:"32px",fontWeight:"bold",color:by},listItem:{marginBottom:"15px",padding:"10px",borderRadius:"6px",boxShadow:"0 0 5px rgba(255, 255, 255, 0.1)",backgroundColor:qU,display:"flex",alignItems:"center",justifyContent:"space-between"},postTitle:{fontSize:"18px",color:GU,marginRight:"20px",overflow:"auto"},searchInput:{width:"98%",padding:"10px",marginBottom:"20px",borderRadius:"4px",border:"1px solid #ccc"},listContainer:{display:"flex",justifyContent:"space-between",gap:"20px",height:"100%",overflow:"hidden"},list:{flex:1,backgroundColor:HU,padding:"10px",borderRadius:"8px",minHeight:"0",overflowY:"auto"},button:{cursor:"pointer",padding:"8px 12px",borderRadius:"4px",border:"none",color:Iy,backgroundColor:by,fontSize:"16px",marginLeft:"10px",transition:"background-color 0.3s, transform 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},removeButton:{cursor:"pointer",padding:"8px 12px",fontWeight:"bold",borderRadius:"4px",border:"none",color:"white",backgroundColor:KU,fontSize:"16px",marginLeft:"10px",transition:"background-color 0.3s, transform 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},buttonIcon:{fontSize:"18px"},input:{width:"98%",padding:"10px",marginBottom:"20px",borderRadius:"4px",border:"1px solid #ccc"},submitButton:{position:"absolute",top:"20px",right:"20px",cursor:"pointer",padding:"10px 20px",borderRadius:"4px",border:"none",color:Iy,backgroundColor:"#3498db",fontSize:"16px"}},xy=({isNewPost:t=!1})=>{const{collectionName:e}=Xi(),[n,r]=E.useState(""),[i,o]=E.useState([]),[s,a]=E.useState([]),[l,u]=E.useState(""),[d,c]=E.useState(e),f=Lt();E.useEffect(()=>{const b=Yt().onAuthStateChanged(async x=>{if(x){const I=x.email,D=I.substring(0,I.indexOf("@"));r(D);const k=x.uid,O=Xe(),re=Qe(O,"posts"),ee=Pp(re,xp("uid"),Tp(k));try{const Y=await Rn(ee),ve=[];if(Y.forEach(le=>{const Q=le.key;ve.push(Q)}),o(ve),d)try{const le=await sE(D,d);a(le);const Q=ve.filter(N=>!le.includes(N));o(Q)}catch(le){console.error("Error fetching collection posts:",le)}}catch(Y){console.error("Error fetching posts:",Y)}}});return()=>{b()}},[]);const h=S=>{a(b=>{const x=b.filter(I=>I!==S);return o(I=>[...I,S]),x})},p=S=>{u(S.target.value)},y=i.filter(S=>S.toLowerCase().includes(l.toLowerCase())),C=S=>{a(b=>{if(!b.includes(S)){const x=[...b,S];return o(I=>I.filter(D=>D!==S)),x}return b})},m=S=>{c(S.target.value)},g=()=>{f(`/MessageScreen?textColor=green&msgText=${t?"Collection Created !":"Collection Updated !"}`)},v=()=>{aE(d,s).then(()=>{g()}).catch(S=>{console.error(S)})},w=S=>{const{destination:b,source:x,draggableId:I,type:D}=S;if(b){if(D==="post"){if(b.droppableId===x.droppableId&&b.index===x.index)return;const k=Array.from(x.droppableId==="allPosts"?y:s);k.splice(x.index,1),k.splice(b.index,0,I),x.droppableId==="allPosts"?o(k):a(k)}else if(D==="collection"){const k=Array.from(s);k.splice(x.index,1),k.splice(b.index,0,I),a(k)}}};return _.jsxs("div",{style:nt.container,children:[_.jsx("h1",{style:nt.heading,children:t?"Create New Collection":`Edit Collection: ${d}`}),t&&_.jsx("input",{type:"text",placeholder:"Enter new collection name...",value:d,onChange:m,style:nt.input}),_.jsx("input",{type:"text",placeholder:"Search posts...",value:l,onChange:p,style:nt.searchInput}),_.jsx(nU,{onDragEnd:w,children:_.jsxs("div",{style:nt.listContainer,children:[_.jsx(Nf,{droppableId:"allPosts",type:"post",children:S=>_.jsxs("div",{style:nt.list,ref:S.innerRef,...S.droppableProps,children:[_.jsx("h2",{children:"All Posts"}),y.length===0&&_.jsx("p",{children:"No posts available."}),y.map((b,x)=>_.jsx(Ey,{draggableId:b,index:x,children:I=>_.jsxs("div",{ref:I.innerRef,...I.draggableProps,...I.dragHandleProps,style:{...nt.listItem,...I.draggableProps.style},children:[_.jsx("span",{style:nt.postTitle,children:b}),_.jsx("button",{style:nt.button,onClick:()=>C(b),children:"✔"})]})},b)),S.placeholder]})}),_.jsx(Nf,{droppableId:"selectedPosts",type:"collection",children:S=>_.jsxs("div",{style:nt.list,ref:S.innerRef,...S.droppableProps,children:[_.jsx("h2",{children:"Selected Posts"}),s.length===0&&_.jsx("p",{children:"No posts in collection."}),s.map((b,x)=>_.jsx(Ey,{draggableId:b,index:x,children:I=>_.jsxs("div",{ref:I.innerRef,...I.draggableProps,...I.dragHandleProps,style:{...nt.listItem,...I.draggableProps.style},children:[_.jsx("span",{style:nt.postTitle,children:b}),_.jsx("button",{style:nt.removeButton,onClick:()=>h(b),children:"X"})]})},b)),S.placeholder]})})]})}),_.jsx("button",{style:nt.submitButton,onClick:v,children:t?"Submit Collection":"Upload Collection"})]})},YU=()=>{const[t]=eT(),e=t.get("msgText")||"",n=t.get("textColor")||"green";return _.jsx(_.Fragment,{children:_.jsx("p",{style:{paddingTop:"0px",fontSize:"30px",color:n,fontWeight:"bold",paddingLeft:"20px"},children:e})})};function QU(){return _.jsx(Qx,{children:_.jsxs("div",{style:{maxHeight:"100vh",position:"relative"},children:[_.jsx(HR,{}),_.jsx("div",{style:{paddingTop:"70px",paddingBottom:"20px"},children:_.jsxs(zx,{children:[_.jsx($e,{path:"",element:_.jsx(cA,{})}),_.jsx($e,{path:"/Login",element:_.jsx(yA,{})}),_.jsx($e,{path:"/Logout",element:_.jsx(RA,{})}),_.jsx($e,{path:"/Debug",element:_.jsx(SA,{})}),_.jsx($e,{path:"/Signup",element:_.jsx(_A,{})}),_.jsx($e,{path:"/TextEditor",element:_.jsx(Pv,{})}),_.jsx($e,{path:"/viewpost/:postName",element:_.jsx(bA,{})}),_.jsx($e,{path:"/editpost/:postName",element:_.jsx(Pv,{})}),_.jsx($e,{path:"/profile/:username",element:_.jsx(YA,{})}),_.jsx($e,{path:"/PostCreated",element:_.jsx(DA,{})}),_.jsx($e,{path:"/Me",element:_.jsx(eO,{})}),_.jsx($e,{path:"/:username/Collections/:collectionName",element:_.jsx(cO,{})}),_.jsx($e,{path:"/CollectionEditor/:collectionName",element:_.jsx(xy,{})}),_.jsx($e,{path:"/CreateCollection",element:_.jsx(xy,{isNewPost:!0})}),_.jsx($e,{path:"/MessageScreen",Component:YU})]})}),_.jsx(kA,{})]})})}ad.createRoot(document.getElementById("root")).render(_.jsx(QU,{}));
